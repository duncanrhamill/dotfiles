for(var ty,tyaa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},tyba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,tyca=function(){tyca=function(){};tyba.Symbol||(tyba.Symbol=tyda)},tyea=0,tyda=function(a){return"jscomp_symbol_"+(a||"")+tyea++},tyga=function(){tyca();var a=tyba.Symbol.iterator;
a||(a=tyba.Symbol.iterator=tyba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&tyaa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return tyfa(this)}});tyga=function(){}},tyfa=function(a){var b=0;return tyha(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},tyha=function(a){tyga();a={next:a};a[tyba.Symbol.iterator]=function(){return this};return a},tyia=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},tyja=tyba,tyka=["WeakMap"],tyla=0;tyla<
tyka.length-1;tyla++){var tyma=tyka[tyla];tyma in tyja||(tyja[tyma]={});tyja=tyja[tyma]}
var tyna=tyka[tyka.length-1],tyoa=tyja[tyna],typa=function(){function a(a){tyia(a,c)||tyaa(a,c,{value:{}})}function b(b){var c=Object[b];c&&(Object[b]=function(b){a(b);return c(b)})}if(function(){if(!tyoa||!Object.seal)return!1;try{var a=Object.seal({}),b=Object.seal({}),c=new tyoa([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c.delete(a);c.set(b,4);return!c.has(a)&&4==c.get(b)}catch(k){return!1}}())return tyoa;var c="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");
b("seal");var d=0,e=function(a){this.Ia=(d+=Math.random()+1).toString();if(a){tyca();tyga();tyga();var b=a[Symbol.iterator];for(a=b?b.call(a):tyfa(a);!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};e.prototype.set=function(b,d){a(b);if(!tyia(b,c))throw Error("WeakMap key fail: "+b);b[c][this.Ia]=d;return this};e.prototype.get=function(a){return tyia(a,c)?a[c][this.Ia]:void 0};e.prototype.has=function(a){return tyia(a,c)&&tyia(a[c],this.Ia)};e.prototype.delete=function(a){return tyia(a,c)&&tyia(a[c],
this.Ia)?delete a[c][this.Ia]:!1};return e}();typa!=tyoa&&null!=typa&&tyaa(tyja,tyna,{configurable:!0,writable:!0,value:typa});
var tyqa=tyqa||{},tya=this,tyb=function(a){return void 0!==a},tyc=function(){},tyra=function(a){a.rh=void 0;a.getInstance=function(){return a.rh?a.rh:a.rh=new a}},tysa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},tyd=function(a){return"array"==tysa(a)},tyta=function(a){var b=tysa(a);return"array"==b||"object"==b&&"number"==typeof a.length},tye=function(a){return"string"==typeof a},tyua=function(a){return"number"==typeof a},tyf=function(a){return"function"==tysa(a)},tyg=
function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},tyva="closure_uid_"+(1E9*Math.random()>>>0),tywa=0,tyxa=function(a,b,c){return a.call.apply(a.bind,arguments)},tyya=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},tyh=function(a,b,c){tyh=Function.prototype.bind&&
-1!=Function.prototype.bind.toString().indexOf("native code")?tyxa:tyya;return tyh.apply(null,arguments)},tyza=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},tyi=Date.now||function(){return+new Date},tyj=function(a,b){function c(){}c.prototype=b.prototype;a.Qa=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.cv=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-
2]=arguments[e];return b.prototype[c].apply(a,d)}};var tyk=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,tyk);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};tyj(tyk,Error);tyk.prototype.name="CustomError";var tyAa=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},tyBa=function(a){return/^[\s\xa0]*$/.test(a)},tyCa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},tyKa=function(a){if(!tyDa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(tyEa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(tyFa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(tyGa,"&gt;"));
-1!=a.indexOf('"')&&(a=a.replace(tyHa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(tyIa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(tyJa,"&#0;"));return a},tyEa=/&/g,tyFa=/</g,tyGa=/>/g,tyHa=/"/g,tyIa=/'/g,tyJa=/\x00/g,tyDa=/[\x00&<>"']/,tyLa=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},tyMa=function(a){a=tyb(void 0)?a.toFixed(void 0):String(a);var b=a.indexOf(".");-1==b&&(b=a.length);return tyLa("0",Math.max(0,2-b))+a},tyNa=function(a){return null==
a?"":String(a)},tyOa=function(a){return Array.prototype.join.call(arguments,"")},tyPa=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^tyi()).toString(36)},tyQa=function(a,b){return a<b?-1:a>b?1:0},tyRa=function(a){isFinite(a)&&(a=String(a));return tye(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};var tySa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(tye(a))return tye(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},tyTa=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(tye(a))return tye(b)&&1==b.length?a.lastIndexOf(b,
c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},tyl=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=tye(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},tyUa=function(a,b){for(var c=tye(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},tyVa=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=tye(a)?a.split(""):a,h=0;h<
d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e},tyWa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=tye(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},tyXa=Array.prototype.reduce?function(a,b,c,d){d&&(b=tyh(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;tyl(a,function(c,g){e=b.call(d,e,c,g,a)});return e},tyYa=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=tye(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},tyZa=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=tye(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},ty_a=function(a,b){a:{for(var c=a.length,d=tye(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:tye(a)?a.charAt(b):a[b]},ty0a=
function(a,b){for(var c=tye(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1},ty1a=function(a,b){return 0<=tySa(a,b)},ty2a=function(a){if(!tyd(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},tym=function(a,b){b=tySa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},ty3a=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},ty4a=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},
ty5a=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var ty6a=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},ty7a=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},ty8a=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},ty9a=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d},ty$a=function(a,b){return(b=ty9a(a,b,void 0))&&a[b]},tyab=function(a,b,c){return null!==a&&b in a?a[b]:c},tybb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),tycb=function(a,b){for(var c,
d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<tybb.length;f++)c=tybb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var tydb;a:{var tyeb=tya.navigator;if(tyeb){var tyfb=tyeb.userAgent;if(tyfb){tydb=tyfb;break a}}tydb=""}var tyn=function(a){return-1!=tydb.indexOf(a)};var tygb=function(){return(tyn("Chrome")||tyn("CriOS"))&&!tyn("Edge")};var tyhb=function(a){return a};var tyib="StopIteration"in tya?tya.StopIteration:{message:"StopIteration",stack:""},tyjb=function(){};tyjb.prototype.next=function(){throw tyib;};tyjb.prototype.Vc=function(){return this};
var tykb=function(a){if(a instanceof tyjb)return a;if("function"==typeof a.Vc)return a.Vc(!1);if(tyta(a)){var b=0,c=new tyjb;c.next=function(){for(;;){if(b>=a.length)throw tyib;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},tylb=function(a,b,c){if(tyta(a))try{tyl(a,b,c)}catch(d){if(d!==tyib)throw d;}else{a=tykb(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==tyib)throw d;}}};var tyo=function(a,b){this.S={};this.qa=[];this.yc=this.ha=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};ty=tyo.prototype;ty.Ea=function(){return this.ha};ty.R=function(){tymb(this);for(var a=[],b=0;b<this.qa.length;b++)a.push(this.S[this.qa[b]]);return a};ty.wa=function(){tymb(this);return this.qa.concat()};ty.U=function(a){return tynb(this.S,a)};
ty.isEmpty=function(){return 0==this.ha};ty.clear=function(){this.S={};this.yc=this.ha=this.qa.length=0};ty.remove=function(a){return tynb(this.S,a)?(delete this.S[a],this.ha--,this.yc++,this.qa.length>2*this.ha&&tymb(this),!0):!1};var tymb=function(a){if(a.ha!=a.qa.length){for(var b=0,c=0;b<a.qa.length;){var d=a.qa[b];tynb(a.S,d)&&(a.qa[c++]=d);b++}a.qa.length=c}if(a.ha!=a.qa.length){for(var e={},c=b=0;b<a.qa.length;)d=a.qa[b],tynb(e,d)||(a.qa[c++]=d,e[d]=1),b++;a.qa.length=c}};ty=tyo.prototype;
ty.get=function(a,b){return tynb(this.S,a)?this.S[a]:b};ty.set=function(a,b){tynb(this.S,a)||(this.ha++,this.qa.push(a),this.yc++);this.S[a]=b};ty.addAll=function(a){var b;a instanceof tyo?(b=a.wa(),a=a.R()):(b=ty8a(a),a=ty7a(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};ty.forEach=function(a,b){for(var c=this.wa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};ty.clone=function(){return new tyo(this)};
ty.Vc=function(a){tymb(this);var b=0,c=this.yc,d=this,e=new tyjb;e.next=function(){if(c!=d.yc)throw Error("The map has changed since the iterator was created");if(b>=d.qa.length)throw tyib;var e=d.qa[b++];return a?e:d.S[e]};return e};var tynb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var tyob=function(a){if(a.R&&"function"==typeof a.R)return a.R();if(tye(a))return a.split("");if(tyta(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ty7a(a)},typb=function(a){if(a.wa&&"function"==typeof a.wa)return a.wa();if(!a.R||"function"!=typeof a.R){if(tyta(a)||tye(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return ty8a(a)}},tyqb=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(tyta(a)||tye(a))tyl(a,b,void 0);else for(var c=
typb(a),d=tyob(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)},tyrb=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(tyta(a)||tye(a))return tyWa(a,b,c);var d,e=typb(a),f=tyob(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)d[e[h]]=b.call(c,f[h],e[h],a)}else for(d=[],h=0;h<g;h++)d[h]=b.call(c,f[h],void 0,a);return d};var typ=function(a){this.S=new tyo;a&&this.addAll(a)},tysb=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[tyva]||(a[tyva]=++tywa)):b.substr(0,1)+a};ty=typ.prototype;ty.Ea=function(){return this.S.Ea()};ty.add=function(a){this.S.set(tysb(a),a)};ty.addAll=function(a){a=tyob(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};ty.removeAll=function(a){a=tyob(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};ty.remove=function(a){return this.S.remove(tysb(a))};ty.clear=function(){this.S.clear()};
ty.isEmpty=function(){return this.S.isEmpty()};ty.contains=function(a){return this.S.U(tysb(a))};var tytb=function(a,b){a=a.clone();a.removeAll(b);return a};typ.prototype.R=function(){return this.S.R()};typ.prototype.clone=function(){return new typ(this)};typ.prototype.Vc=function(){return this.S.Vc(!1)};var tyub=function(){return tyn("iPhone")&&!tyn("iPod")&&!tyn("iPad")};var tyvb=function(a){tyvb[" "](a);return a};tyvb[" "]=tyc;var tyxb=function(a,b){var c=tywb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var tyyb=tyn("Opera"),tyq=tyn("Trident")||tyn("MSIE"),tyzb=tyn("Edge"),tyAb=tyn("Gecko")&&!(-1!=tydb.toLowerCase().indexOf("webkit")&&!tyn("Edge"))&&!(tyn("Trident")||tyn("MSIE"))&&!tyn("Edge"),tyBb=-1!=tydb.toLowerCase().indexOf("webkit")&&!tyn("Edge"),tyCb=tyn("Macintosh"),tyDb=tyn("Windows"),tyEb=tyn("Linux")||tyn("CrOS"),tyFb=function(){var a=tya.document;return a?a.documentMode:void 0},tyGb;
a:{var tyHb="",tyIb=function(){var a=tydb;if(tyAb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(tyzb)return/Edge\/([\d\.]+)/.exec(a);if(tyq)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(tyBb)return/WebKit\/(\S+)/.exec(a);if(tyyb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();tyIb&&(tyHb=tyIb?tyIb[1]:"");if(tyq){var tyJb=tyFb();if(null!=tyJb&&tyJb>parseFloat(tyHb)){tyGb=String(tyJb);break a}}tyGb=tyHb}
var tyKb=tyGb,tywb={},tyr=function(a){return tyxb(a,function(){for(var b=0,c=tyCa(String(tyKb)).split("."),d=tyCa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=tyQa(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||tyQa(0==g[2].length,0==h[2].length)||tyQa(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=
b})},tyLb;var tyMb=tya.document;tyLb=tyMb&&tyq?tyFb()||("CSS1Compat"==tyMb.compatMode?parseInt(tyKb,10):5):void 0;var tyNb=function(a,b,c,d,e){this.reset(a,b,c,d,e)};tyNb.prototype.$d=null;var tyOb=0;tyNb.prototype.reset=function(a,b,c,d,e){"number"==typeof e||tyOb++;this.ui=d||tyi();this.Lc=a;this.lp=b;this.nk=c;delete this.$d};tyNb.prototype.getLevel=function(){return this.Lc};tyNb.prototype.cl=function(a){this.Lc=a};tyNb.prototype.getMessage=function(){return this.lp};var tyPb=function(a){this.Jf=a;this.hb=this.Gg=this.Lc=this.Ca=null},tyQb=function(a,b){this.name=a;this.value=b};tyQb.prototype.toString=function(){return this.name};var tyRb=new tyQb("SHOUT",1200),tySb=new tyQb("SEVERE",1E3),tyTb=new tyQb("WARNING",900),tyUb=new tyQb("INFO",800),tyVb=new tyQb("CONFIG",700),tyWb=new tyQb("FINE",500);ty=tyPb.prototype;ty.getName=function(){return this.Jf};ty.getParent=function(){return this.Ca};ty.getChildren=function(){this.Gg||(this.Gg={});return this.Gg};
ty.cl=function(a){this.Lc=a};ty.getLevel=function(){return this.Lc};var tyXb=function(a){return a.Lc?a.Lc:a.Ca?tyXb(a.Ca):null};
tyPb.prototype.log=function(a,b,c){if(a.value>=tyXb(this).value)for(tyf(b)&&(b=b()),a=new tyNb(a,String(b),this.Jf),c&&(a.$d=c),c="log:"+a.getMessage(),tya.console&&(tya.console.timeStamp?tya.console.timeStamp(c):tya.console.markTimeline&&tya.console.markTimeline(c)),tya.msWriteProfilerMark&&tya.msWriteProfilerMark(c),c=this;c;){var d=c,e=a;if(d.hb)for(var f=0;b=d.hb[f];f++)b(e);c=c.getParent()}};tyPb.prototype.info=function(a,b){this.log(tyUb,a,b)};
var tyYb={},tyZb=null,ty_b=function(){tyZb||(tyZb=new tyPb(""),tyYb[""]=tyZb,tyZb.cl(tyVb))},ty0b=function(){ty_b();return tyZb},tys=function(a){ty_b();var b;if(!(b=tyYb[a])){b=new tyPb(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=tys(a.substr(0,c));c.getChildren()[d]=b;b.Ca=c;tyYb[a]=b}return b};var ty1b=function(){this.Jk=tyi()},ty2b=new ty1b;ty1b.prototype.set=function(a){this.Jk=a};ty1b.prototype.reset=function(){this.set(tyi())};ty1b.prototype.get=function(){return this.Jk};var ty3b=function(a){this.Wp=a||"";this.fr=ty2b};ty=ty3b.prototype;ty.Si=!0;ty.pl=!0;ty.dr=!0;ty.ar=!0;ty.ql=!1;ty.er=!1;
var ty5b=function(a){a=new Date(a.ui);return ty4b(a.getFullYear()-2E3)+ty4b(a.getMonth()+1)+ty4b(a.getDate())+" "+ty4b(a.getHours())+":"+ty4b(a.getMinutes())+":"+ty4b(a.getSeconds())+"."+ty4b(Math.floor(a.getMilliseconds()/10))},ty4b=function(a){return 10>a?"0"+a:String(a)},ty6b=function(a,b){a=(a.ui-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},ty7b=function(a){ty3b.call(this,a)};tyj(ty7b,ty3b);var ty8b=function(){this.aq=tyh(this.rm,this);this.rf=new ty7b;this.rf.pl=!1;this.rf.ql=!1;this.fk=this.rf.Si=!1;this.nc="";this.Aj={}};
ty8b.prototype.rm=function(a){if(!this.Aj[a.nk]){var b;b=this.rf;var c=[];c.push(b.Wp," ");b.pl&&c.push("[",ty5b(a),"] ");b.dr&&c.push("[",ty6b(a,b.fr.get()),"s] ");b.ar&&c.push("[",a.nk,"] ");b.er&&c.push("[",a.getLevel().name,"] ");c.push(a.getMessage());if(b.ql){var d=a.$d;d&&c.push("\n",d instanceof Error?d.message:d.toString())}b.Si&&c.push("\n");b=c.join("");if(c=ty9b)switch(a.getLevel()){case tyRb:ty$b(c,"info",b);break;case tySb:ty$b(c,"error",b);break;case tyTb:ty$b(c,"warn",b);break;default:ty$b(c,
"debug",b)}else this.nc+=b}};ty8b.prototype.ac=function(a){this.Aj[a]=!0};var ty9b=tya.console,ty$b=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var tyac=!tyq||9<=Number(tyLb),tybc=tyq&&!tyr("9"),tycc=!tyBb||tyr("528"),tydc=tyAb&&tyr("1.9b")||tyq&&tyr("8")||tyyb&&tyr("9.5")||tyBb&&tyr("528"),tyec=tyAb&&!tyr("8")||tyq&&!tyr("9");var tyt=function(){this.dd=this.dd;this.Oc=this.Oc};tyt.prototype.dd=!1;tyt.prototype.isDisposed=function(){return this.dd};tyt.prototype.V=function(){this.dd||(this.dd=!0,this.ta())};var tygc=function(a,b){b=tyza(tyfc,b);a.dd?tyb(void 0)?b.call(void 0):b():(a.Oc||(a.Oc=[]),a.Oc.push(tyb(void 0)?tyh(b,void 0):b))};tyt.prototype.ta=function(){if(this.Oc)for(;this.Oc.length;)this.Oc.shift()()};var tyfc=function(a){a&&"function"==typeof a.V&&a.V()};var tyu=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Dd=!1;this.Sk=!0};tyu.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Sk=!1};var tyhc=function(a,b){tyu.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.lf=this.state=null;a&&this.init(a,b)};tyj(tyhc,tyu);
tyhc.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(tyAb){var e;a:{try{tyvb(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=tyBb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=tyBb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?
a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;
this.lf=a;a.defaultPrevented&&this.preventDefault()};tyhc.prototype.preventDefault=function(){tyhc.Qa.preventDefault.call(this);var a=this.lf;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,tybc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var tyic="closure_listenable_"+(1E6*Math.random()|0),tyjc=function(a){return!(!a||!a[tyic])},tykc=0;var tylc=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.vf=e;this.key=++tykc;this.removed=this.We=!1},tymc=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.vf=null};var tync=function(a){this.src=a;this.Na={};this.Oe=0};tync.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.Na[f];a||(a=this.Na[f]=[],this.Oe++);var g=tyoc(a,b,d,e);-1<g?(b=a[g],c||(b.We=!1)):(b=new tylc(b,this.src,f,!!d,e),b.We=c,a.push(b));return b};tync.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Na))return!1;var e=this.Na[a];b=tyoc(e,b,c,d);return-1<b?(tymc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.Na[a],this.Oe--),!0):!1};
var typc=function(a,b){var c=b.type;c in a.Na&&tym(a.Na[c],b)&&(tymc(b),0==a.Na[c].length&&(delete a.Na[c],a.Oe--))};tync.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.Na)if(!a||c==a){for(var d=this.Na[c],e=0;e<d.length;e++)++b,tymc(d[e]);delete this.Na[c];this.Oe--}return b};tync.prototype.he=function(a,b,c,d){a=this.Na[a.toString()];var e=-1;a&&(e=tyoc(a,b,c,d));return-1<e?a[e]:null};
var tyoc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.vf==d)return e}return-1};var tyqc="closure_lm_"+(1E6*Math.random()|0),tyrc={},tysc=0,tyv=function(a,b,c,d,e){if(tyd(b)){for(var f=0;f<b.length;f++)tyv(a,b[f],c,d,e);return null}c=tytc(c);return tyjc(a)?a.listen(b,c,d,e):tyuc(a,b,c,!1,d,e)},tyuc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=tyvc(a);h||(a[tyqc]=h=new tync(a));c=h.add(b,c,d,e,f);if(c.proxy)return c;d=tywc();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(tyxc(b.toString()),
d);else throw Error("addEventListener and attachEvent are unavailable.");tysc++;return c},tywc=function(){var a=tyyc,b=tyac?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},tyzc=function(a,b,c,d,e){if(tyd(b)){for(var f=0;f<b.length;f++)tyzc(a,b[f],c,d,e);return null}c=tytc(c);return tyjc(a)?a.Jb(b,c,d,e):tyuc(a,b,c,!0,d,e)},tyAc=function(a,b,c,d,e){if(tyd(b))for(var f=0;f<b.length;f++)tyAc(a,b[f],c,d,e);else c=tytc(c),tyjc(a)?a.zi(b,
c,d,e):a&&(a=tyvc(a))&&(b=a.he(b,c,!!d,e))&&tyBc(b)},tyBc=function(a){if(!tyua(a)&&a&&!a.removed){var b=a.src;if(tyjc(b))typc(b.Rb,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(tyxc(c),d);tysc--;(c=tyvc(b))?(typc(c,a),0==c.Oe&&(c.src=null,b[tyqc]=null)):tymc(a)}}},tyxc=function(a){return a in tyrc?tyrc[a]:tyrc[a]="on"+a},tyDc=function(a,b,c,d){var e=!0;if(a=tyvc(a))if(b=a.Na[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=
b[a];f&&f.capture==c&&!f.removed&&(f=tyCc(f,d),e=e&&!1!==f)}return e},tyCc=function(a,b){var c=a.listener,d=a.vf||a.src;a.We&&tyBc(a);return c.call(d,b)},tyyc=function(a,b){if(a.removed)return!0;if(!tyac){if(!b)a:{b=["window","event"];for(var c=tya,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new tyhc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=
b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Dd&&0<=e;e--){b.currentTarget=d[e];var f=tyDc(d[e],a,!0,b),c=c&&f}for(e=0;!b.Dd&&e<d.length;e++)b.currentTarget=d[e],f=tyDc(d[e],a,!1,b),c=c&&f}return c}return tyCc(a,new tyhc(b,this))},tyvc=function(a){a=a[tyqc];return a instanceof tync?a:null},tyEc="__closure_events_fn_"+(1E9*Math.random()>>>0),tytc=function(a){if(tyf(a))return a;a[tyEc]||(a[tyEc]=function(b){return a.handleEvent(b)});return a[tyEc]};var tyFc,tyGc,tyHc={id:"hitType",name:"t",valueType:"text",maxLength:void 0,defaultValue:void 0},tyIc={id:"sessionControl",name:"sc",valueType:"text",maxLength:void 0,defaultValue:void 0},tyJc={id:"eventCategory",name:"ec",valueType:"text",maxLength:150,defaultValue:void 0},tyKc={id:"eventAction",name:"ea",valueType:"text",maxLength:500,defaultValue:void 0},tyLc={id:"eventLabel",name:"el",valueType:"text",maxLength:500,defaultValue:void 0},tyMc={id:"eventValue",name:"ev",valueType:"integer",maxLength:void 0,
defaultValue:void 0},tyNc={xs:tyHc,Kl:{id:"anonymizeIp",name:"aip",valueType:"boolean",maxLength:void 0,defaultValue:void 0},ct:{id:"queueTime",name:"qt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Qr:{id:"cacheBuster",name:"z",valueType:"text",maxLength:void 0,defaultValue:void 0},Gt:tyIc,Ht:{id:"sessionGroup",name:"sg",valueType:"text",maxLength:void 0,defaultValue:void 0},Ru:{id:"userId",name:"uid",valueType:"text",maxLength:void 0,defaultValue:void 0},Ws:{id:"nonInteraction",name:"ni",
valueType:"boolean",maxLength:void 0,defaultValue:void 0},cs:{id:"description",name:"cd",valueType:"text",maxLength:2048,defaultValue:void 0},ku:{id:"title",name:"dt",valueType:"text",maxLength:1500,defaultValue:void 0},Mr:{id:"appId",name:"aid",valueType:"text",maxLength:150,defaultValue:void 0},Nr:{id:"appInstallerId",name:"aiid",valueType:"text",maxLength:150,defaultValue:void 0},ns:tyJc,ms:tyKc,os:tyLc,ps:tyMc,Ut:{id:"socialNetwork",name:"sn",valueType:"text",maxLength:50,defaultValue:void 0},
Tt:{id:"socialAction",name:"sa",valueType:"text",maxLength:50,defaultValue:void 0},Vt:{id:"socialTarget",name:"st",valueType:"text",maxLength:2048,defaultValue:void 0},nu:{id:"transactionId",name:"ti",valueType:"text",maxLength:500,defaultValue:void 0},mu:{id:"transactionAffiliation",name:"ta",valueType:"text",maxLength:500,defaultValue:void 0},ou:{id:"transactionRevenue",name:"tr",valueType:"currency",maxLength:void 0,defaultValue:void 0},pu:{id:"transactionShipping",name:"ts",valueType:"currency",
maxLength:void 0,defaultValue:void 0},qu:{id:"transactionTax",name:"tt",valueType:"currency",maxLength:void 0,defaultValue:void 0},$r:{id:"currencyCode",name:"cu",valueType:"text",maxLength:10,defaultValue:void 0},Is:{id:"itemPrice",name:"ip",valueType:"currency",maxLength:void 0,defaultValue:void 0},Js:{id:"itemQuantity",name:"iq",valueType:"integer",maxLength:void 0,defaultValue:void 0},Gs:{id:"itemCode",name:"ic",valueType:"text",maxLength:500,defaultValue:void 0},Hs:{id:"itemName",name:"in",valueType:"text",
maxLength:500,defaultValue:void 0},Fs:{id:"itemCategory",name:"iv",valueType:"text",maxLength:500,defaultValue:void 0},Wr:{id:"campaignSource",name:"cs",valueType:"text",maxLength:100,defaultValue:void 0},Ur:{id:"campaignMedium",name:"cm",valueType:"text",maxLength:50,defaultValue:void 0},Vr:{id:"campaignName",name:"cn",valueType:"text",maxLength:100,defaultValue:void 0},Tr:{id:"campaignKeyword",name:"ck",valueType:"text",maxLength:500,defaultValue:void 0},Rr:{id:"campaignContent",name:"cc",valueType:"text",
maxLength:500,defaultValue:void 0},Sr:{id:"campaignId",name:"ci",valueType:"text",maxLength:100,defaultValue:void 0},ws:{id:"gclid",name:"gclid",valueType:"text",maxLength:void 0,defaultValue:void 0},as:{id:"dclid",name:"dclid",valueType:"text",maxLength:void 0,defaultValue:void 0},$s:{id:"pageLoadTime",name:"plt",valueType:"integer",maxLength:void 0,defaultValue:void 0},ds:{id:"dnsTime",name:"dns",valueType:"integer",maxLength:void 0,defaultValue:void 0},fu:{id:"tcpConnectTime",name:"tcp",valueType:"integer",
maxLength:void 0,defaultValue:void 0},Ft:{id:"serverResponseTime",name:"srt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Zs:{id:"pageDownloadTime",name:"pdt",valueType:"integer",maxLength:void 0,defaultValue:void 0},gt:{id:"redirectResponseTime",name:"rrt",valueType:"integer",maxLength:void 0,defaultValue:void 0},gu:{id:"timingCategory",name:"utc",valueType:"text",maxLength:150,defaultValue:void 0},ju:{id:"timingVar",name:"utv",valueType:"text",maxLength:500,defaultValue:void 0},iu:{id:"timingValue",
name:"utt",valueType:"integer",maxLength:void 0,defaultValue:void 0},hu:{id:"timingLabel",name:"utl",valueType:"text",maxLength:500,defaultValue:void 0},rs:{id:"exDescription",name:"exd",valueType:"text",maxLength:150,defaultValue:void 0},ss:{id:"exFatal",name:"exf",valueType:"boolean",maxLength:void 0,defaultValue:"1"}};var tyOc=function(a,b){for(var c=0,d=a.length-1,e;c<=d;){var f=Math.floor((c+d)/2);e=a[f];if(b<=e){d=0==f?0:a[f-1];if(b>d)return(d+1).toString()+"-"+e.toString();d=f-1}else if(b>e){if(f>=a.length-1)return(a[a.length-1]+1).toString()+"+";c=f+1}}return"<= 0"};var tyPc=function(){this.Sh=[]};tyPc.prototype.when=function(a){this.Sh.push(a);return this};tyPc.prototype.Cr=function(a){var b=arguments;this.when(function(a){return ty1a(b,a.wi)});return this};tyPc.prototype.Fl=function(a,b){var c=ty5a(arguments,1);this.when(function(b){return ty1a(c,b.xe.get(a))});return this};var tyQc=function(a,b){if(tyg(a.Ra))throw Error("Filter has already been set.");a.Ra=tyg(void 0)?tyh(b,void 0):b;return a};
tyPc.prototype.build=function(){if(0==this.Sh.length)throw Error("Must specify at least one predicate using #when or a helper method.");if(!tyg(this.Ra))throw Error("Must specify a delegate filter using #applyFilter.");return tyh(function(a){tyZa(this.Sh,function(b){return b(a)})&&this.Ra(a)},this)};var tyRc=function(){this.wm=!1;this.So="";this.gr=!1;this.zf=null},tySc=function(a){var b=new tyRc;if(null!=b.zf)throw Error("LabelerBuilder: Only one labeling strategy may be used.");b.zf=tyh(function(b){var c=b.xe.get(tyMc),e=b.xe.get(tyLc);tyua(c)&&(c=a(c),null!=e&&this.wm&&(c=e+this.So+c),b.xe.set(tyLc,c))},b);return b};
tyRc.prototype.build=function(){if(null==this.zf)throw Error("LabelerBuilder: a labeling strategy must be specified prior to calling build().");return tyQc((new tyPc).Cr("event"),tyh(function(a){this.zf(a);this.gr&&a.xe.remove(tyMc)},this)).build()};var tyw=function(){tyt.call(this);this.Rb=new tync(this);this.om=this;this.Oh=null};tyj(tyw,tyt);tyw.prototype[tyic]=!0;ty=tyw.prototype;ty.addEventListener=function(a,b,c,d){tyv(this,a,b,c,d)};ty.removeEventListener=function(a,b,c,d){tyAc(this,a,b,c,d)};
ty.dispatchEvent=function(a){var b,c=this.Oh;if(c){b=[];for(var d=1;c;c=c.Oh)b.push(c),++d}c=this.om;d=a.type||a;if(tye(a))a=new tyu(a,c);else if(a instanceof tyu)a.target=a.target||c;else{var e=a;a=new tyu(d,c);tycb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Dd&&0<=g;g--)f=a.currentTarget=b[g],e=tyTc(f,d,!0,a)&&e;a.Dd||(f=a.currentTarget=c,e=tyTc(f,d,!0,a)&&e,a.Dd||(e=tyTc(f,d,!1,a)&&e));if(b)for(g=0;!a.Dd&&g<b.length;g++)f=a.currentTarget=b[g],e=tyTc(f,d,!1,a)&&e;return e};
ty.ta=function(){tyw.Qa.ta.call(this);this.Wh();this.Oh=null};ty.listen=function(a,b,c,d){return this.Rb.add(String(a),b,!1,c,d)};ty.Jb=function(a,b,c,d){return this.Rb.add(String(a),b,!0,c,d)};ty.zi=function(a,b,c,d){return this.Rb.remove(String(a),b,c,d)};ty.Wh=function(a){return this.Rb?this.Rb.removeAll(a):0};
var tyTc=function(a,b,c,d){b=a.Rb.Na[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.listener,k=g.vf||g.src;g.We&&typc(a.Rb,g);e=!1!==h.call(k,d)&&e}}return e&&0!=d.Sk};tyw.prototype.he=function(a,b,c,d){return this.Rb.he(String(a),b,c,d)};var tyUc=function(a,b,c){this.Yo=c;this.Vm=a;this.xq=b;this.Mf=0;this.T=null};tyUc.prototype.get=function(){var a;0<this.Mf?(this.Mf--,a=this.T,this.T=a.next,a.next=null):a=this.Vm();return a};tyUc.prototype.put=function(a){this.xq(a);this.Mf<this.Yo&&(this.Mf++,a.next=this.T,this.T=a)};var tyVc=function(a){tya.setTimeout(function(){throw a;},0)},tyWc,tyXc=function(){var a=tya.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!tyn("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+
"//"+b.location.host,a=tyh(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!tyn("Trident")&&!tyn("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(tyb(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};return function(a){d.next={cb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){tya.setTimeout(a,0)}};var tyYc=function(){this.wg=this.Pd=null},ty_c=new tyUc(function(){return new tyZc},function(a){a.reset()},100);tyYc.prototype.add=function(a,b){var c=ty_c.get();c.set(a,b);this.wg?this.wg.next=c:this.Pd=c;this.wg=c};tyYc.prototype.remove=function(){var a=null;this.Pd&&(a=this.Pd,this.Pd=this.Pd.next,this.Pd||(this.wg=null),a.next=null);return a};var tyZc=function(){this.next=this.scope=this.Xg=null};tyZc.prototype.set=function(a,b){this.Xg=a;this.scope=b;this.next=null};
tyZc.prototype.reset=function(){this.next=this.scope=this.Xg=null};var ty4c=function(a,b){ty0c||ty1c();ty2c||(ty0c(),ty2c=!0);ty3c.add(a,b)},ty0c,ty1c=function(){if(-1!=String(tya.Promise).indexOf("[native code]")){var a=tya.Promise.resolve(void 0);ty0c=function(){a.then(ty5c)}}else ty0c=function(){var a=ty5c;!tyf(tya.setImmediate)||tya.Window&&tya.Window.prototype&&!tyn("Edge")&&tya.Window.prototype.setImmediate==tya.setImmediate?(tyWc||(tyWc=tyXc()),tyWc(a)):tya.setImmediate(a)}},ty2c=!1,ty3c=new tyYc,ty5c=function(){for(var a;a=ty3c.remove();){try{a.Xg.call(a.scope)}catch(b){tyVc(b)}ty_c.put(a)}ty2c=
!1};var ty6c=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},ty7c=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var tyx=function(a,b){this.yb=0;this.Xb=void 0;this.Zc=this.bc=this.Ca=null;this.uf=this.Sg=!1;if(a!=tyc)try{var c=this;a.call(b,function(a){ty8c(c,2,a)},function(a){ty8c(c,3,a)})}catch(d){ty8c(this,3,d)}},ty9c=function(){this.next=this.context=this.Cd=this.we=this.Ac=null;this.Te=!1};ty9c.prototype.reset=function(){this.context=this.Cd=this.we=this.Ac=null;this.Te=!1};
var ty$c=new tyUc(function(){return new ty9c},function(a){a.reset()},100),tyad=function(a,b,c){var d=ty$c.get();d.we=a;d.Cd=b;d.context=c;return d},tybd=function(a){if(a instanceof tyx)return a;var b=new tyx(tyc);ty8c(b,2,a);return b},tydd=function(){var a,b,c=new tyx(function(c,e){a=c;b=e});return new tycd(c,a,b)};tyx.prototype.then=function(a,b,c){return tyed(this,tyf(a)?a:null,tyf(b)?b:null,c)};ty6c(tyx);
tyx.prototype.cancel=function(a){0==this.yb&&ty4c(function(){var b=new tyfd(a);tygd(this,b)},this)};
var tygd=function(a,b){if(0==a.yb)if(a.Ca){var c=a.Ca;if(c.bc){for(var d=0,e=null,f=null,g=c.bc;g&&(g.Te||(d++,g.Ac==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.yb&&1==d?tygd(c,b):(f?(d=f,d.next==c.Zc&&(c.Zc=d),d.next=d.next.next):tyhd(c),tyid(c,e,3,b)))}a.Ca=null}else ty8c(a,3,b)},tykd=function(a,b){a.bc||2!=a.yb&&3!=a.yb||tyjd(a);a.Zc?a.Zc.next=b:a.bc=b;a.Zc=b},tyed=function(a,b,c,d){var e=tyad(null,null,null);e.Ac=new tyx(function(a,g){e.we=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:
a;e.Cd=c?function(b){try{var e=c.call(d,b);!tyb(e)&&b instanceof tyfd?g(b):a(e)}catch(l){g(l)}}:g});e.Ac.Ca=a;tykd(a,e);return e.Ac};tyx.prototype.tr=function(a){this.yb=0;ty8c(this,2,a)};tyx.prototype.ur=function(a){this.yb=0;ty8c(this,3,a)};
var ty8c=function(a,b,c){if(0==a.yb){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.yb=1;var d;a:{var e=c,f=a.tr,g=a.ur;if(e instanceof tyx)tykd(e,tyad(f||tyc,g||null,a)),d=!0;else if(ty7c(e))e.then(f,g,a),d=!0;else{if(tyg(e))try{var h=e.then;if(tyf(h)){tyld(e,h,f,g,a);d=!0;break a}}catch(k){g.call(a,k);d=!0;break a}d=!1}}d||(a.Xb=c,a.yb=b,a.Ca=null,tyjd(a),3!=b||c instanceof tyfd||tymd(a,c))}},tyld=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||
(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(k){h(k)}},tyjd=function(a){a.Sg||(a.Sg=!0,ty4c(a.en,a))},tyhd=function(a){var b=null;a.bc&&(b=a.bc,a.bc=b.next,b.next=null);a.bc||(a.Zc=null);return b};tyx.prototype.en=function(){for(var a;a=tyhd(this);)tyid(this,a,this.yb,this.Xb);this.Sg=!1};
var tyid=function(a,b,c,d){if(3==c&&b.Cd&&!b.Te)for(;a&&a.uf;a=a.Ca)a.uf=!1;if(b.Ac)b.Ac.Ca=null,tynd(b,c,d);else try{b.Te?b.we.call(b.context):tynd(b,c,d)}catch(e){tyod.call(null,e)}ty$c.put(b)},tynd=function(a,b,c){2==b?a.we.call(a.context,c):a.Cd&&a.Cd.call(a.context,c)},tymd=function(a,b){a.uf=!0;ty4c(function(){a.uf&&tyod.call(null,b)})},tyod=tyVc,tyfd=function(a){tyk.call(this,a)};tyj(tyfd,tyk);tyfd.prototype.name="cancel";var tycd=function(a,b,c){this.$p=a;this.resolve=b;this.reject=c};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var tyy=function(a,b){this.Wf=[];this.tk=a;this.ij=b||null;this.je=this.Tb=!1;this.Xb=void 0;this.li=this.Am=this.Bg=!1;this.mg=0;this.Ca=null;this.Ve=0};tyy.prototype.cancel=function(a){if(this.Tb)this.Xb instanceof tyy&&this.Xb.cancel();else{if(this.Ca){var b=this.Ca;delete this.Ca;a?b.cancel(a):(b.Ve--,0>=b.Ve&&b.cancel())}this.tk?this.tk.call(this.ij,this):this.li=!0;this.Tb||this.g(new typd)}};tyy.prototype.bj=function(a,b){this.Bg=!1;tyqd(this,a,b)};
var tyqd=function(a,b,c){a.Tb=!0;a.Xb=c;a.je=!b;tyrd(a)},tytd=function(a){if(a.Tb){if(!a.li)throw new tysd;a.li=!1}};tyy.prototype.callback=function(a){tytd(this);tyqd(this,!0,a)};tyy.prototype.g=function(a){tytd(this);tyqd(this,!1,a)};tyy.prototype.addCallback=function(a,b){return tyz(this,a,null,b)};var tyud=function(a,b,c){return tyz(a,null,b,c)},tyvd=function(a,b,c){tyz(a,b,b,c)},tyz=function(a,b,c,d){a.Wf.push([b,c,d]);a.Tb&&tyrd(a);return a};
tyy.prototype.then=function(a,b,c){var d,e,f=new tyx(function(a,b){d=a;e=b});tyz(this,d,function(a){a instanceof typd?f.cancel():e(a)});return f.then(a,b,c)};ty6c(tyy);var tyA=function(a,b){b instanceof tyy?a.addCallback(tyh(b.Rd,b)):a.addCallback(function(){return b})};tyy.prototype.Rd=function(a){var b=new tyy;tyz(this,b.callback,b.g,b);a&&(b.Ca=this,this.Ve++);return b};
var tywd=function(a){return tyYa(a.Wf,function(a){return tyf(a[1])})},tyrd=function(a){if(a.mg&&a.Tb&&tywd(a)){var b=a.mg,c=tyxd[b];c&&(tya.clearTimeout(c.Ia),delete tyxd[b]);a.mg=0}a.Ca&&(a.Ca.Ve--,delete a.Ca);for(var b=a.Xb,d=c=!1;a.Wf.length&&!a.Bg;){var e=a.Wf.shift(),f=e[0],g=e[1],e=e[2];if(f=a.je?g:f)try{var h=f.call(e||a.ij,b);tyb(h)&&(a.je=a.je&&(h==b||h instanceof Error),a.Xb=b=h);if(ty7c(b)||"function"===typeof tya.Promise&&b instanceof tya.Promise)d=!0,a.Bg=!0}catch(k){b=k,a.je=!0,tywd(a)||
(c=!0)}}a.Xb=b;d&&(h=tyh(a.bj,a,!0),d=tyh(a.bj,a,!1),b instanceof tyy?(tyz(b,h,d),b.Am=!0):b.then(h,d));c&&(b=new tyyd(b),tyxd[b.Ia]=b,a.mg=b.Ia)},tyB=function(a){var b=new tyy;b.callback(a);return b},tyzd=function(a){var b=new tyy;b.g(a);return b},tysd=function(){tyk.call(this)};tyj(tysd,tyk);tysd.prototype.message="Deferred has already fired";tysd.prototype.name="AlreadyCalledError";var typd=function(){tyk.call(this)};tyj(typd,tyk);typd.prototype.message="Deferred was canceled";
typd.prototype.name="CanceledError";var tyyd=function(a){this.Ia=tya.setTimeout(tyh(this.kr,this),0);this.hf=a};tyyd.prototype.kr=function(){delete tyxd[this.Ia];throw this.hf;};var tyxd={};var tyAd=function(){tyw.call(this);this.ue="google-analytics";this.Ab=chrome.storage.local;chrome.storage.onChanged.addListener(tyh(this.Np,this))};tyj(tyAd,tyw);tyAd.prototype.Np=function(a,b){"local"==b&&tyBd(this,a)&&this.dispatchEvent("a")};var tyBd=function(a,b){return tyYa(ty8a(b),function(a){return 0==a.lastIndexOf(this.ue,0)},a)};
tyAd.prototype.get=function(a){var b=new tyy,c=this.ue+"."+a;this.Ab.get(c,function(a){chrome.runtime.lastError?b.g(chrome.runtime.lastError):(a=a[c],b.callback(null!=a?a.toString():void 0))});return b};tyAd.prototype.set=function(a,b){var c=new tyy,d={};d[this.ue+"."+a]=b;this.Ab.set(d,function(){chrome.runtime.lastError?c.g(chrome.runtime.lastError):c.callback()});return c};var tyCd=function(a,b){this.width=a;this.height=b};ty=tyCd.prototype;ty.clone=function(){return new tyCd(this.width,this.height)};ty.xm=function(){return this.width*this.height};ty.isEmpty=function(){return!this.xm()};ty.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};ty.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var tyDd=!tyq||9<=Number(tyLb);!tyAb&&!tyq||tyq&&9<=Number(tyLb)||tyAb&&tyr("1.9.1");tyq&&tyr("9");var tyEd=function(){var a=document;return a.querySelectorAll&&a.querySelector?a.querySelectorAll("EMBED"):a.getElementsByTagName("EMBED")},tyGd=function(a,b){ty6a(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:tyFd.hasOwnProperty(d)?a.setAttribute(tyFd[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},tyFd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",
maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},tyId=function(a,b,c){var d=arguments,e=document,f=String(d[0]),g=d[1];if(!tyDd&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',tyKa(g.name),'"');if(g.type){f.push(' type="',tyKa(g.type),'"');var h={};tycb(h,g);delete h.type;g=h}f.push(">");f=f.join("")}f=e.createElement(f);g&&(tye(g)?f.className=g:tyd(g)?f.className=g.join(" "):tyGd(f,g));2<d.length&&tyHd(e,f,d);return f},
tyHd=function(a,b,c){function d(c){c&&b.appendChild(tye(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!tyta(f)||tyg(f)&&0<f.nodeType?d(f):tyl(tyJd(f)?ty4a(f):f,d)}},tyJd=function(a){if(a&&"number"==typeof a.length){if(tyg(a))return"function"==typeof a.item||"string"==typeof a.item;if(tyf(a))return"function"==typeof a.item}return!1};var tyKd={id:"anonymizeIp",name:"aip",valueType:"boolean",maxLength:void 0,defaultValue:void 0},tyLd={id:"apiVersion",name:"v",valueType:"text",maxLength:void 0,defaultValue:void 0},tyMd={id:"appName",name:"an",valueType:"text",maxLength:100,defaultValue:void 0},tyNd={id:"appVersion",name:"av",valueType:"text",maxLength:100,defaultValue:void 0},tyOd={id:"clientId",name:"cid",valueType:"text",maxLength:void 0,defaultValue:void 0},tyPd={id:"language",name:"ul",valueType:"text",maxLength:20,defaultValue:void 0},
tyQd={id:"libVersion",name:"_v",valueType:"text",maxLength:void 0,defaultValue:void 0},tyRd={id:"sampleRateOverride",name:"usro",valueType:"integer",maxLength:void 0,defaultValue:void 0},tySd={id:"screenColors",name:"sd",valueType:"text",maxLength:20,defaultValue:void 0},tyTd={id:"screenResolution",name:"sr",valueType:"text",maxLength:20,defaultValue:void 0},tyUd={id:"trackingId",name:"tid",valueType:"text",maxLength:void 0,defaultValue:void 0},tyVd={id:"viewportSize",name:"vp",valueType:"text",maxLength:20,
defaultValue:void 0},tyWd={Kl:tyKd,Kr:tyLd,Or:tyMd,Pr:tyNd,Xr:tyOd,Ls:tyPd,Ns:tyQd,At:tyRd,Bt:tySd,Ct:tyTd,lu:tyUd,Xu:tyVd},tyYd=function(a){if(!tye(a))return a;var b=tyXd(a,tyNc);if(tyg(b))return b;b=tyXd(a,tyWd);if(tyg(b))return b;b=/^dimension(\d+)$/.exec(a);if(null!==b){a=parseInt(b[1],10);if(1>a||200<a)throw Error("Expected dimension index range 1-200, but was : "+a);return{id:"dimension"+a,name:"cd"+a,valueType:"text",maxLength:150,defaultValue:void 0}}b=/^metric(\d+)$/.exec(a);if(null!==b){a=
parseInt(b[1],10);if(1>a||200<a)throw Error("Expected metric index range 1-200, but was : "+a);return{id:"metric"+a,name:"cm"+a,valueType:"integer",maxLength:void 0,defaultValue:void 0}}throw Error(a+" is not a valid parameter name.");},tyXd=function(a,b){b=ty$a(b,function(b){return b.id==a&&"metric"!=a&&"dimension"!=a});return tyg(b)?b:null};var tyC=function(a){this.Qb=new tyo;if(0<arguments.length%2)throw Error("Uneven number of arguments to ParameterMap constructor.");for(var b=arguments,c=0;c<b.length;c+=2)this.set(b[c],b[c+1])};tyC.prototype.set=function(a,b){if(null==b)throw Error("undefined-or-null value for key: "+a.name);this.Qb.set(a.name,{key:a,value:b})};tyC.prototype.remove=function(a){this.Qb.remove(a.name)};tyC.prototype.get=function(a){a=this.Qb.get(a.name,null);return null===a?null:a.value};tyC.prototype.addAll=function(a){this.Qb.addAll(a.Qb)};
var tyZd=function(a,b){tyl(a.Qb.R(),function(a){b(a.key,a.value)})};tyC.prototype.clone=function(){var a=new tyC;a.Qb=this.Qb.clone();return a};tyC.prototype.contains=function(a){return tyZa(a.Qb.R(),tyh(function(a){return a.value==this.get(a.key)},this))};tyC.prototype.toString=function(){var a={};tyZd(this,function(b,c){a[b.id]=c});return JSON.stringify(a)};var ty0d=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,h,k,l,m,n){if("%"==l)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return ty_d[l].apply(null,arguments)})},ty_d={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",
0)?a+tyLa(" ",Number(c)-a.length):tyLa(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+tyLa(" ",a):f+tyLa(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,g,h){return ty_d.f(parseInt(a,
10),b,c,d,0,f,g,h)}};ty_d.i=ty_d.d;ty_d.u=ty_d.d;var ty1d=function(a,b){this.Gm=b;this.Eb=b.Zg();this.zk=new tyC;this.sm=this.rl=!1};ty1d.prototype.set=function(a,b){if(null==b)throw Error("Value must be defined and not null. Parameter="+a.id);a=tyYd(a);this.zk.set(a,b)};ty1d.prototype.ac=function(a){this.Gm.ac(a)};
ty1d.prototype.send=function(a,b){var c=this.zk.clone();b instanceof tyC?c.addAll(b):tyg(b)&&ty6a(b,function(a,b){null!=a&&c.set(tyYd(b),a)},this);this.rl&&(this.rl=!1,c.set(tyIc,"start"));this.sm&&c.set(tyKd,!0);return this.Eb.send(a,c)};var ty2d=function(a,b,c,d,e,f){return a.send("timing",{timingCategory:b,timingVar:c,timingLabel:e,timingValue:d,sampleRateOverride:f})};ty1d.prototype.ig=function(a,b,c,d){return new ty3d(this,a,b,c,d)};
var ty3d=function(a,b,c,d,e){this.o=a;this.Em=b;this.Ar=c;this.To=d;this.bi=e;this.hg=tyi()};ty3d.prototype.send=function(){var a=ty2d(this.o,this.Em,this.Ar,tyi()-this.hg,this.To,this.bi);this.o=null;return a};var ty7d=function(a){var b=ty4d(),c;tyGc||(c=ty4d(),tyGc=new ty5d(c,new ty6d(c,"https://www.google-analytics.com/collect",8192)));c=tyGc;this.Xo="ca1.6.0";this.um="Google Play Music";this.vm=a;this.Pa=b;this.Fm=c};var ty8d=function(){};tyra(ty8d);ty8d.prototype.send=function(){return tyB()};var ty9d=function(a){this.qf=[];this.Ra=a};ty9d.prototype.ac=function(a){if(!tyf(a))throw Error("Invalid filter. Must be a function.");this.qf.push(a)};ty9d.prototype.send=function(a,b){if(0==this.qf.length)return this.Ra.send(a,b);var c=new ty$d(a,b);return tyae(this,0,c).addCallback(function(){if(!c.Eg)return this.Ra.send(a,b)},this)};
var tyae=function(a,b,c){return tyB().addCallback(function(){return this.qf[b](c)},a).addCallback(function(){if(++b<this.qf.length&&!c.Eg)return tyae(this,b,c)},a)},ty$d=function(a,b){this.wi=a;this.xe=b;this.Eg=!1};ty$d.prototype.cancel=function(){this.Eg=!0};var tybe=function(a){this.an=a};tybe.prototype.send=function(a,b){this.an.push({Ko:a,Tp:b});return tyB()};var tyce=function(a,b,c){this.Pa=a;this.hd=[];this.zc={enabled:new tybe(this.hd),disabled:c};this.Eb=this.zc.enabled;tyz(this.Pa.Qf.Rd(),tyza(this.Mp,b),this.Lp,this)};tyce.prototype.Mp=function(a){if(null===this.hd)throw Error("Channel setup already completed.");this.zc.enabled=a();tyde(this);tyl(this.hd,function(a){this.send(a.Ko,a.Tp)},this);this.hd=null;tyee(this.Pa,tyh(this.Kp,this))};
tyce.prototype.Lp=function(){if(null===this.hd)throw Error("Channel setup already completed.");this.Eb=this.zc.enabled=this.zc.disabled;this.hd=null};tyce.prototype.send=function(a,b){return this.Eb.send(a,b)};var tyde=function(a){a.Eb=tyfe(a.Pa)?a.zc.enabled:a.zc.disabled};tyce.prototype.Kp=function(a){switch(a){case "analytics.tracking-permitted":tyde(this)}};var tyge=function(a,b){this.Dg=[];var c=tyh(function(){this.nf=new ty9d(b.Zg());tyl(this.Dg,function(a){this.nf.ac(a)},this);this.Dg=null;return this.nf},this);this.Eb=new tyce(a,c,ty8d.getInstance())};tyge.prototype.Zg=function(){return this.Eb};tyge.prototype.ac=function(a){this.nf?this.nf.ac(a):this.Dg.push(a)};var ty5d=function(a,b){this.Pa=a;this.Wq=b};ty5d.prototype.create=function(){return new tyge(this.Pa,this.Wq)};var tyhe=function(a,b,c,d,e,f){tyy.call(this,e,f);this.zh=a;this.Ig=[];this.Bj=!!b;this.mn=!!c;this.Nm=!!d;for(b=this.sk=0;b<a.length;b++)tyz(a[b],tyh(this.Tj,this,b,!0),tyh(this.Tj,this,b,!1));0!=a.length||this.Bj||this.callback(this.Ig)};tyj(tyhe,tyy);tyhe.prototype.Tj=function(a,b,c){this.sk++;this.Ig[a]=[b,c];this.Tb||(this.Bj&&b?this.callback([a,c]):this.mn&&!b?this.g(c):this.sk==this.zh.length&&this.callback(this.Ig));this.Nm&&!b&&(c=null);return c};
tyhe.prototype.g=function(a){tyhe.Qa.g.call(this,a);for(a=0;a<this.zh.length;a++)this.zh[a].cancel()};var tyie=function(a){return(new tyhe(a,!1,!0)).addCallback(function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};var tyje=function(){for(var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),b=0,c=a.length;b<c;b++)switch(a[b]){case "x":a[b]=Math.floor(16*Math.random()).toString(16);break;case "y":a[b]=(Math.floor(4*Math.random())+8).toString(16)}return a.join("")};var tyke=function(a){this.Ab=a;this.bi=100;this.Yi=[];this.Of=this.Qe=null;this.Qf=this.Jc();this.Qf.addCallback(function(){this.ul=tyv(this.Ab,"a",tyh(this.qo,this))},this)};tyke.prototype.Jc=function(){return tyie([tyle(this),tyme(this)]).addCallback(function(){return this},this)};
tyke.prototype.qo=function(){tyne(this);var a=this.ie(),b=tyfe(this);tyie([tyle(this),tyme(this)]).addCallback(function(){a!=this.ie()&&tyoe(this,"analytics.user-id");b!=tyfe(this)&&tyoe(this,"analytics.tracking-permitted")},this)};
var tyee=function(a,b){tyne(a);a.Yi.push(b)},tyfe=function(a){tyne(a);if(a=a.Of)a=tya._gaUserPrefs,a=!(a&&a.ioo&&a.ioo());return a},tyle=function(a){return a.Ab.get("analytics.tracking-permitted").addCallback(function(a){this.Of=!0;if(tyb(a))switch(a){case "true":this.Of=!0;break;case "false":this.Of=!1}},a)};tyke.prototype.ie=function(){tyne(this);if(!tye(this.Qe))throw Error("Invalid state. UserID is not a string.");return this.Qe};
var tyme=function(a){return a.Ab.get("analytics.user-id").addCallback(function(a){tyb(a)?this.Qe=a:type(this)},a)},type=function(a){a.Qe=tyje();a.Ab.set("analytics.user-id",a.Qe).addCallback(function(){tyoe(this,"analytics.user-id")},a)},tyqe=function(a){tyne(a);return a.bi},tyoe=function(a,b){tyl(a.Yi,function(a){a(b)})};tyke.prototype.V=function(){null!=this.ul&&tyBc(this.ul)};var tyne=function(a){if(!a.Qf.Rd().Tb)throw Error("Settings object accessed prior to entering ready state.");};var tyre=function(a,b){tyw.call(this);this.Kc=a||1;this.Kd=b||tya;this.Cg=tyh(this.lr,this);this.wh=tyi()};tyj(tyre,tyw);ty=tyre.prototype;ty.enabled=!1;ty.Ja=null;ty.setInterval=function(a){this.Kc=a;this.Ja&&this.enabled?(this.stop(),this.start()):this.Ja&&this.stop()};
ty.lr=function(){if(this.enabled){var a=tyi()-this.wh;0<a&&a<.8*this.Kc?this.Ja=this.Kd.setTimeout(this.Cg,this.Kc-a):(this.Ja&&(this.Kd.clearTimeout(this.Ja),this.Ja=null),this.dispatchEvent("tick"),this.enabled&&(this.Ja=this.Kd.setTimeout(this.Cg,this.Kc),this.wh=tyi()))}};ty.start=function(){this.enabled=!0;this.Ja||(this.Ja=this.Kd.setTimeout(this.Cg,this.Kc),this.wh=tyi())};ty.stop=function(){this.enabled=!1;this.Ja&&(this.Kd.clearTimeout(this.Ja),this.Ja=null)};
ty.ta=function(){tyre.Qa.ta.call(this);this.stop();delete this.Kd};var tyD=function(a,b,c){if(tyf(a))c&&(a=tyh(a,c));else if(a&&"function"==typeof a.handleEvent)a=tyh(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:tya.setTimeout(a,b||0)};var tyE=function(a){tyt.call(this);this.td=a;this.qa={}};tyj(tyE,tyt);var tyse=[];tyE.prototype.listen=function(a,b,c,d){return this.Ah(a,b,c,d)};tyE.prototype.Ah=function(a,b,c,d,e){tyd(b)||(b&&(tyse[0]=b.toString()),b=tyse);for(var f=0;f<b.length;f++){var g=tyv(a,b[f],c||this.handleEvent,d||!1,e||this.td||this);if(!g)break;this.qa[g.key]=g}return this};tyE.prototype.Jb=function(a,b,c,d){return tyte(this,a,b,c,d)};
var tyte=function(a,b,c,d,e,f){if(tyd(c))for(var g=0;g<c.length;g++)tyte(a,b,c[g],d,e,f);else{b=tyzc(b,c,d||a.handleEvent,e,f||a.td||a);if(!b)return a;a.qa[b.key]=b}return a};tyE.prototype.zi=function(a,b,c,d,e){if(tyd(b))for(var f=0;f<b.length;f++)this.zi(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.td||this,c=tytc(c),d=!!d,b=tyjc(a)?a.he(b,c,d,e):a?(a=tyvc(a))?a.he(b,c,d,e):null:null,b&&(tyBc(b),delete this.qa[b.key]);return this};
tyE.prototype.removeAll=function(){ty6a(this.qa,function(a,b){this.qa.hasOwnProperty(b)&&tyBc(a)},this);this.qa={}};tyE.prototype.ta=function(){tyE.Qa.ta.call(this);this.removeAll()};tyE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var tyue=function(){tyw.call(this);this.v=new tyE(this);tycc&&(tydc?this.v.listen(tyec?document.body:window,["online","offline"],this.Uj):(this.xk=this.ne(),this.Ja=new tyre(250),this.v.listen(this.Ja,"tick",this.wo),this.Ja.start()))};tyj(tyue,tyw);tyue.prototype.ne=function(){return tycc?navigator.onLine:!0};tyue.prototype.wo=function(){var a=this.ne();a!=this.xk&&(this.xk=a,this.Uj())};tyue.prototype.Uj=function(){this.dispatchEvent(this.ne()?"online":"offline")};
tyue.prototype.ta=function(){tyue.Qa.ta.call(this);this.v.V();this.v=null;this.Ja&&(this.Ja.V(),this.Ja=null)};var tyve=function(a,b){this.Pa=a;this.Ra=b};tyve.prototype.send=function(a,b){b.set(tyOd,this.Pa.ie());return this.Ra.send(a,b)};var tywe=function(a){this.Ra=a};tywe.prototype.send=function(a,b){tyxe(b);tyye(b);return this.Ra.send(a,b)};var tyxe=function(a){tyZd(a,function(b,c){tyb(b.maxLength)&&"text"==b.valueType&&0<b.maxLength&&c.length>b.maxLength&&a.set(b,c.substring(0,b.maxLength))})},tyye=function(a){tyZd(a,function(b,c){tyb(b.defaultValue)&&c==b.defaultValue&&a.remove(b)})};var tyze={status:"device-offline",details:void 0},tyAe={status:"rate-limited",details:void 0},tyBe={status:"sampled-out",details:void 0},tyCe={status:"sent",details:void 0};var tyDe=function(a,b){this.or=a;this.Ra=b};tyDe.prototype.send=function(a,b){var c;c=this.or;var d=c.vl(),e=Math.floor((d-c.hk)*c.ln);0<e&&(c.Qd=Math.min(c.Qd+e,c.fp),c.hk=d);1>c.Qd?c=!1:(--c.Qd,c=!0);return c||"item"==a||"transaction"==a?this.Ra.send(a,b):tyB(tyAe)};var tyEe=function(){this.Qd=60;this.fp=500;this.ln=5E-4;this.vl=function(){return(new Date).getTime()};this.hk=this.vl()};var tyFe=function(a,b){this.Pa=a;this.Ra=b};tyFe.prototype.send=function(a,b){var c=b.get(tyOd),c=parseInt(c.split("-")[1],16),d;"timing"!=a?d=tyqe(this.Pa):((d=b.get(tyRd))&&b.remove(tyRd),d=d||tyqe(this.Pa));return c<655.36*d?this.Ra.send(a,b):tyB(tyBe)};var tyGe=tya.JSON.parse,tyHe=tya.JSON.stringify;var tyF=function(a,b,c){a&&a.log(tySb,b,c)},tyG=function(a,b,c){a&&a.log(tyTb,b,c)},tyH=function(a,b){a&&a.info(b,void 0)},tyI=function(a,b){a&&a.log(tyWb,b,void 0)};var tyIe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,tyJe=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}},tyKe=/#|$/,tyLe=function(a){var b=window.location.href,c=b.search(tyKe),d;a:{d=0;for(var e=a.length;0<=(d=b.indexOf(a,d))&&d<c;){var f=b.charCodeAt(d-1);if(38==
f||63==f)if(f=b.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=b.indexOf("&",d);if(0>e||e>c)e=c;d+=a.length+1;return decodeURIComponent(b.substr(d,e-d).replace(/\+/g," "))};var tyMe=function(){};tyMe.prototype.Wi=null;tyMe.prototype.getOptions=function(){var a;(a=this.Wi)||(a={},tyNe(this)&&(a[0]=!0,a[1]=!0),a=this.Wi=a);return a};var tyOe,tyPe=function(){};tyj(tyPe,tyMe);var tyQe=function(a){return(a=tyNe(a))?new ActiveXObject(a):new XMLHttpRequest},tyNe=function(a){if(!a.$j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.$j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.$j};
tyOe=new tyPe;var tyJ=function(a){tyw.call(this);this.headers=new tyo;this.yg=a||null;this.$b=!1;this.xg=this.w=null;this.ik=this.Bf="";this.yd=0;this.oe="";this.Hc=this.oh=this.xf=this.Pg=!1;this.vc=0;this.kg=null;this.Qk="";this.ug=this.Zp=this.Ji=!1};tyj(tyJ,tyw);tyJ.prototype.b=tys("goog.net.XhrIo");var tyRe=/^https?$/i,tySe=["POST","PUT"],tyTe=[],tyUe=function(a,b,c,d,e){var f=new tyJ;tyTe.push(f);b&&f.listen("complete",b);f.Jb("ready",f.Jm);f.send(a,c,d,e)};tyJ.prototype.Jm=function(){this.V();tym(tyTe,this)};
tyJ.prototype.send=function(a,b,c,d){if(this.w)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Bf+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Bf=a;this.oe="";this.yd=0;this.ik=b;this.Pg=!1;this.$b=!0;this.w=this.yg?tyQe(this.yg):tyQe(tyOe);this.xg=this.yg?this.yg.getOptions():tyOe.getOptions();this.w.onreadystatechange=tyh(this.wk,this);this.Zp&&"onprogress"in this.w&&(this.w.onprogress=tyh(function(a){this.vk(a,!0)},this),this.w.upload&&(this.w.upload.onprogress=tyh(this.vk,
this)));try{tyI(this.b,tyVe(this,"Opening Xhr")),this.oh=!0,this.w.open(b,String(a),!0),this.oh=!1}catch(f){tyI(this.b,tyVe(this,"Error opening Xhr: "+f.message));this.hf(5,f);return}a=c||"";var e=this.headers.clone();d&&tyqb(d,function(a,b){e.set(b,a)});d=ty_a(e.wa(),tyWe);c=tya.FormData&&a instanceof tya.FormData;!ty1a(tySe,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.w.setRequestHeader(b,a)},this);this.Qk&&(this.w.responseType=this.Qk);
"withCredentials"in this.w&&this.w.withCredentials!==this.Ji&&(this.w.withCredentials=this.Ji);try{tyXe(this),0<this.vc&&(this.ug=tyYe(this.w),tyI(this.b,tyVe(this,"Will abort after "+this.vc+"ms if incomplete, xhr2 "+this.ug)),this.ug?(this.w.timeout=this.vc,this.w.ontimeout=tyh(this.wl,this)):this.kg=tyD(this.wl,this.vc,this)),tyI(this.b,tyVe(this,"Sending request")),this.xf=!0,this.w.send(a),this.xf=!1}catch(f){tyI(this.b,tyVe(this,"Send error: "+f.message)),this.hf(5,f)}};
var tyYe=function(a){return tyq&&tyr(9)&&tyua(a.timeout)&&tyb(a.ontimeout)},tyWe=function(a){return"content-type"==a.toLowerCase()};tyJ.prototype.wl=function(){"undefined"!=typeof tyqa&&this.w&&(this.oe="Timed out after "+this.vc+"ms, aborting",this.yd=8,tyI(this.b,tyVe(this,this.oe)),this.dispatchEvent("timeout"),this.abort(8))};tyJ.prototype.hf=function(a,b){this.$b=!1;this.w&&(this.Hc=!0,this.w.abort(),this.Hc=!1);this.oe=b;this.yd=a;tyZe(this);ty_e(this)};
var tyZe=function(a){a.Pg||(a.Pg=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};tyJ.prototype.abort=function(a){this.w&&this.$b&&(tyI(this.b,tyVe(this,"Aborting")),this.$b=!1,this.Hc=!0,this.w.abort(),this.Hc=!1,this.yd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ty_e(this))};tyJ.prototype.ta=function(){this.w&&(this.$b&&(this.$b=!1,this.Hc=!0,this.w.abort(),this.Hc=!1),ty_e(this,!0));tyJ.Qa.ta.call(this)};
tyJ.prototype.wk=function(){this.isDisposed()||(this.oh||this.xf||this.Hc?ty0e(this):this.Jp())};tyJ.prototype.Jp=function(){ty0e(this)};
var ty0e=function(a){if(a.$b&&"undefined"!=typeof tyqa)if(a.xg[1]&&4==a.mc()&&2==a.getStatus())tyI(a.b,tyVe(a,"Local request error detected and ignored"));else if(a.xf&&4==a.mc())tyD(a.wk,0,a);else if(a.dispatchEvent("readystatechange"),4==a.mc()){tyI(a.b,tyVe(a,"Request complete"));a.$b=!1;try{if(ty1e(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.yd=6;var b;try{b=2<a.mc()?a.w.statusText:""}catch(c){tyI(a.b,"Can not get status: "+c.message),b=""}a.oe=b+" ["+a.getStatus()+"]";tyZe(a)}}finally{ty_e(a)}}};
tyJ.prototype.vk=function(a,b){this.dispatchEvent(ty2e(a,"progress"));this.dispatchEvent(ty2e(a,b?"downloadprogress":"uploadprogress"))};
var ty2e=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},ty_e=function(a,b){if(a.w){tyXe(a);var c=a.w,d=a.xg[0]?tyc:null;a.w=null;a.xg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){tyF(a.b,"Problem encountered resetting onreadystatechange: "+e.message)}}},tyXe=function(a){a.w&&a.ug&&(a.w.ontimeout=null);tyua(a.kg)&&(tya.clearTimeout(a.kg),a.kg=null)};tyJ.prototype.yf=function(){return!!this.w};
var ty1e=function(a){var b=a.getStatus(),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Bf).match(tyIe)[1]||null,!a&&tya.self&&tya.self.location&&(a=tya.self.location.protocol,a=a.substr(0,a.length-1)),b=!tyRe.test(a?a.toLowerCase():"");c=b}return c};tyJ.prototype.mc=function(){return this.w?this.w.readyState:0};tyJ.prototype.getStatus=function(){try{return 2<this.mc()?this.w.status:-1}catch(a){return-1}};
var ty3e=function(a){try{return a.w?a.w.responseText:""}catch(b){return tyI(a.b,"Can not get responseText: "+b.message),""}};tyJ.prototype.getResponseHeader=function(a){if(this.w&&4==this.mc())return a=this.w.getResponseHeader(a),null===a?void 0:a};var tyVe=function(a,b){return b+" ["+a.ik+" "+a.Bf+" "+a.getStatus()+"]"};var tyK=function(a,b){this.Fb=this.Tc=this.Yb="";this.Pc=null;this.Fc=this.Ya="";this.kb=this.Ro=!1;var c;a instanceof tyK?(this.kb=tyb(b)?b:a.kb,ty4e(this,a.Yb),c=a.Tc,tyL(this),this.Tc=c,c=a.Fb,tyL(this),this.Fb=c,ty5e(this,a.Pc),ty6e(this,a.Ya),ty7e(this,a.Ta.clone()),ty8e(this,a.Fc)):a&&(c=String(a).match(tyIe))?(this.kb=!!b,ty4e(this,c[1]||"",!0),a=c[2]||"",tyL(this),this.Tc=ty9e(a),a=c[3]||"",tyL(this),this.Fb=ty9e(a,!0),ty5e(this,c[4]),ty6e(this,c[5]||"",!0),ty7e(this,c[6]||"",!0),ty8e(this,
c[7]||"",!0)):(this.kb=!!b,this.Ta=new tyM(null,0,this.kb))};
tyK.prototype.toString=function(){var a=[],b=this.Yb;b&&a.push(ty$e(b,tyaf,!0),":");var c=this.Fb;if(c||"file"==b)a.push("//"),(b=this.Tc)&&a.push(ty$e(b,tyaf,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Pc,null!=c&&a.push(":",String(c));if(c=this.Ya)this.Fb&&"/"!=c.charAt(0)&&a.push("/"),a.push(ty$e(c,"/"==c.charAt(0)?tybf:tycf,!0));(c=this.Ta.toString())&&a.push("?",c);(c=this.Fc)&&a.push("#",ty$e(c,tydf));return a.join("")};
tyK.prototype.resolve=function(a){var b=this.clone(),c=!!a.Yb;c?ty4e(b,a.Yb):c=!!a.Tc;if(c){var d=a.Tc;tyL(b);b.Tc=d}else c=!!a.Fb;c?(d=a.Fb,tyL(b),b.Fb=d):c=null!=a.Pc;d=a.Ya;if(c)ty5e(b,a.Pc);else if(c=!!a.Ya){if("/"!=d.charAt(0))if(this.Fb&&!this.Ya)d="/"+d;else{var e=b.Ya.lastIndexOf("/");-1!=e&&(d=b.Ya.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==
e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?ty6e(b,d):c=""!==a.Ta.toString();c?ty7e(b,a.Ta.clone()):c=!!a.Fc;c&&ty8e(b,a.Fc);return b};tyK.prototype.clone=function(){return new tyK(this)};
var ty4e=function(a,b,c){tyL(a);a.Yb=c?ty9e(b,!0):b;a.Yb&&(a.Yb=a.Yb.replace(/:$/,""))},ty5e=function(a,b){tyL(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Pc=b}else a.Pc=null},ty6e=function(a,b,c){tyL(a);a.Ya=c?ty9e(b,!0):b;return a},ty7e=function(a,b,c){tyL(a);b instanceof tyM?(a.Ta=b,a.Ta.fi(a.kb)):(c||(b=ty$e(b,tyef)),a.Ta=new tyM(b,0,a.kb));return a};tyK.prototype.yn=function(){return this.Ta.toString()};
var tyff=function(a,b,c){tyL(a);a.Ta.set(b,c);return a},ty8e=function(a,b,c){tyL(a);a.Fc=c?ty9e(b):b},tyL=function(a){if(a.Ro)throw Error("Tried to modify a read-only Uri");};tyK.prototype.fi=function(a){this.kb=a;this.Ta&&this.Ta.fi(a);return this};
var tygf=function(a){return a instanceof tyK?a.clone():new tyK(a,void 0)},tyhf=function(a){var b="export";a instanceof tyK||(a=tygf(a));b instanceof tyK||(b=tygf(b));return a.resolve(b)},ty9e=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},ty$e=function(a,b,c){return tye(a)?(a=encodeURI(a).replace(b,tyif),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},tyif=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},tyaf=/[#\/\?@]/g,
tycf=/[\#\?:]/g,tybf=/[\#\?]/g,tyef=/[\#\?@]/g,tydf=/#/g,tyM=function(a,b,c){this.ha=this.ua=null;this.Xa=a||null;this.kb=!!c},tyjf=function(a){a.ua||(a.ua=new tyo,a.ha=0,a.Xa&&tyJe(a.Xa,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))},tylf=function(a){var b=typb(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new tyM(null,0,void 0);a=tyob(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];tyd(f)?tykf(c,e,f):c.add(e,f)}return c};ty=tyM.prototype;
ty.Ea=function(){tyjf(this);return this.ha};ty.add=function(a,b){tyjf(this);this.Xa=null;a=tymf(this,a);var c=this.ua.get(a);c||this.ua.set(a,c=[]);c.push(b);this.ha+=1;return this};ty.remove=function(a){tyjf(this);a=tymf(this,a);return this.ua.U(a)?(this.Xa=null,this.ha-=this.ua.get(a).length,this.ua.remove(a)):!1};ty.clear=function(){this.ua=this.Xa=null;this.ha=0};ty.isEmpty=function(){tyjf(this);return 0==this.ha};ty.U=function(a){tyjf(this);a=tymf(this,a);return this.ua.U(a)};
ty.wa=function(){tyjf(this);for(var a=this.ua.R(),b=this.ua.wa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};ty.R=function(a){tyjf(this);var b=[];if(tye(a))this.U(a)&&(b=ty3a(b,this.ua.get(tymf(this,a))));else{a=this.ua.R();for(var c=0;c<a.length;c++)b=ty3a(b,a[c])}return b};ty.set=function(a,b){tyjf(this);this.Xa=null;a=tymf(this,a);this.U(a)&&(this.ha-=this.ua.get(a).length);this.ua.set(a,[b]);this.ha+=1;return this};
ty.get=function(a,b){a=a?this.R(a):[];return 0<a.length?String(a[0]):b};var tykf=function(a,b,c){a.remove(b);0<c.length&&(a.Xa=null,a.ua.set(tymf(a,b),ty4a(c)),a.ha+=c.length)};tyM.prototype.toString=function(){if(this.Xa)return this.Xa;if(!this.ua)return"";for(var a=[],b=this.ua.wa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.R(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.Xa=a.join("&")};
tyM.prototype.clone=function(){var a=new tyM;a.Xa=this.Xa;this.ua&&(a.ua=this.ua.clone(),a.ha=this.ha);return a};var tymf=function(a,b){b=String(b);a.kb&&(b=b.toLowerCase());return b};tyM.prototype.fi=function(a){a&&!this.kb&&(tyjf(this),this.Xa=null,this.ua.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),tykf(this,b,a))},this));this.kb=a};var tynf=function(a,b,c){this.Oq=a;this.If=b;this.qp=c};tynf.prototype.send=function(a,b){if(!this.qp.ne())return tyzd(tyze);var c=new tyy;a=tyof(a,b);a.length>this.If?c.g({status:"payload-too-big",details:ty0d("Encoded hit length == %s, but should be <= %s.",a.length,this.If)}):tyUe(this.Oq,function(){c.callback(tyCe)},"POST",a);return c};var tyof=function(a,b){var c=new tyM;c.add(tyHc.name,a);tyZd(b,function(a,b){c.add(a.name,b.toString())});return c.toString()};var ty6d=function(a,b,c){this.Pa=a;this.Mq=b;this.If=c};ty6d.prototype.Zg=function(){if(!this.Eb){if(!this.Pa.Qf.Rd().Tb)throw Error("Cannot construct shared channel prior to settings being ready.");var a=new tyue,a=new tywe(new tynf(this.Mq,this.If,a)),b=new tyEe;this.Eb=new tyve(this.Pa,new tyFe(this.Pa,new tyDe(b,a)))}return this.Eb};var typf=new tyo,ty4d=function(){tyFc||(tyFc=new tyke(new tyAd));return tyFc};var tyN=function(a){this.Pq=a};tyN.prototype.toString=function(){return this.Pq};var tyqf=new tyN("fJuxOc");var tyrf=new tyN("a");var tytf=function(){var a,b=typf.get("Google Play Music",null);a=chrome.runtime.getManifest().version;null===b&&(b=new ty7d(a),typf.set("Google Play Music",b));a=b;b=new ty1d(0,a.Fm.create());b.set(tyQd,a.Xo);b.set(tyLd,1);b.set(tyMd,a.um);b.set(tyNd,a.vm);b.set(tyUd,"UA-19995902-12");(a=navigator.language||navigator.browserLanguage)&&b.set(tyPd,a);(a=screen.colorDepth+"-bit")&&b.set(tySd,a);(a=[screen.width,screen.height].join("x"))&&b.set(tyTd,a);a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:
a.body;a=new tyCd(a.clientWidth,a.clientHeight);(a=[a.width,a.height].join("x"))&&b.set(tyVd,a);b.ac(tysf([0,1,100,500,1E3,5E3,1E4,2E4,5E4,1E5,25E4,5E5,75E4,1E6],"Music Source File Count"));b.ac(tysf([0,1,10,20,50,100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5,25E4,5E5,75E4,1E6],"Upload Failure Count"));this.o=b;this.vi=new tyo},tyO=function(a,b,c,d,e){a.o.send("event",{eventCategory:b,eventAction:c,eventLabel:d,eventValue:e})},tyuf=function(a,b,c){ty2d(a.o,"NaCl",b,c,void 0,10)};
tytf.prototype.ig=function(a,b,c,d){a=this.o.ig(a,b,c,d);b=tyPa();this.vi.set(b,a);return b};var tyvf=function(a,b){var c=a.vi.get(b);a.vi.remove(b);c.send()},tysf=function(a,b){a=tySc(tyza(tyOc,a)).build();return tyQc((new tyPc).Fl(tyJc,"Uploads").Fl(tyKc,b),a).build()};var tyP=function(a,b){tyb(a.name)?(this.name=a.name,this.code=tywf[a.name]):(this.code=a.code,this.name=tyxf(a.code));tyk.call(this,tyAa("%s %s",this.name,b))};tyj(tyP,tyk);
var tyxf=function(a){var b=ty9a(tywf,function(b){return a==b});if(!tyb(b))throw Error("Invalid code: "+a);return b},tywf={AbortError:3,EncodingError:5,InvalidModificationError:9,InvalidStateError:7,NotFoundError:1,NotReadableError:4,NoModificationAllowedError:6,PathExistsError:12,QuotaExceededError:10,SecurityError:2,SyntaxError:8,TypeMismatchError:11};var tyyf=function(a,b){tyu.call(this,a.type,b);this.lf=a};tyj(tyyf,tyu);var tyzf=function(a){a=a.slice(0,a.lastIndexOf("/")+1);/^\/+$/.test(a)||(a=a.replace(/\/+$/,""));return a};var tyAf=function(){this.tb=[];this.Cb=[]};tyAf.prototype.enqueue=function(a){this.Cb.push(a)};var tyBf=function(a){0==a.tb.length&&(a.tb=a.Cb,a.tb.reverse(),a.Cb=[]);return a.tb.pop()};ty=tyAf.prototype;ty.Ea=function(){return this.tb.length+this.Cb.length};ty.isEmpty=function(){return 0==this.tb.length&&0==this.Cb.length};ty.clear=function(){this.tb=[];this.Cb=[]};ty.contains=function(a){return ty1a(this.tb,a)||ty1a(this.Cb,a)};
ty.remove=function(a){var b;b=this.tb;var c=tyTa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||tym(this.Cb,a)};ty.R=function(){for(var a=[],b=this.tb.length-1;0<=b;--b)a.push(this.tb[b]);for(var c=this.Cb.length,b=0;b<c;++b)a.push(this.Cb[b]);return a};var tyCf=tyn("Firefox"),tyDf=tyub()||tyn("iPod"),tyEf=tyn("iPad"),tyFf=tyn("Android")&&!(tygb()||tyn("Firefox")||tyn("Opera")||tyn("Silk")),tyGf=tygb(),tyHf=tyn("Safari")&&!(tygb()||tyn("Coast")||tyn("Opera")||tyn("Edge")||tyn("Silk")||tyn("Android"))&&!(tyub()||tyn("iPad")||tyn("iPod"));var tyIf=null,tyJf=null,tyKf=null,tyMf=function(a,b){tyta(a);tyLf();b=b?tyKf:tyIf;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,k=h?a[d+2]:0,l=e>>2,e=(e&3)<<4|g>>4,g=(g&15)<<2|k>>6,k=k&63;h||(k=64,f||(g=64));c.push(b[l],b[e],b[g],b[k])}return c.join("")},tyOf=function(a){var b=[];tyNf(a,function(a){b.push(a)});return b},tyNf=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=tyJf[c];if(null!=e)return e;if(!tyBa(c))throw Error("Unknown base64 encoding at char: "+
c);}return b}tyLf();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},tyLf=function(){if(!tyIf){tyIf={};tyJf={};tyKf={};for(var a=0;65>a;a++)tyIf[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),tyJf[tyIf[a]]=a,tyKf[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),62<=a&&(tyJf["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=
a)}};var tyQ=function(){},tyPf="function"==typeof Uint8Array,tyR=function(a,b,c,d,e){a.Da=null;b||(b=[]);a.hv=void 0;a.Ue=-1;a.Bb=b;a:{if(a.Bb.length){b=a.Bb.length-1;var f=a.Bb[b];if(f&&"object"==typeof f&&!tyd(f)&&!(tyPf&&f instanceof Uint8Array)){a.ze=b-a.Ue;a.ld=f;break a}}-1<c?(a.ze=c,a.ld=null):a.ze=Number.MAX_VALUE}a.ev={};if(d)for(c=0;c<d.length;c++)b=d[c],b<a.ze?(b+=a.Ue,a.Bb[b]=a.Bb[b]||tyQf):a.ld[b]=a.ld[b]||tyQf;e&&e.length&&tyl(e,tyza(tyRf,a))},tyQf=[],tyS=function(a,b){if(b<a.ze){b+=a.Ue;
var c=a.Bb[b];return c===tyQf?a.Bb[b]=[]:c}c=a.ld[b];return c===tyQf?a.ld[b]=[]:c},tyT=function(a,b,c){a=tyS(a,b);return null==a?c:a},tyU=function(a,b,c){b<a.ze?a.Bb[b+a.Ue]=c:a.ld[b]=c},tyRf=function(a,b){var c,d;tyl(b,function(b){var e=tyS(a,b);null!=e&&(c=b,d=e,tyU(a,b,void 0))});return c?(tyU(a,c,d),c):0},tyV=function(a,b,c,d){a.Da||(a.Da={});if(!a.Da[c]){var e=tyS(a,c);if(d||e)a.Da[c]=new b(e)}return a.Da[c]},tySf=function(a,b,c){a.Da||(a.Da={});if(!a.Da[c]){for(var d=tyS(a,c),e=[],f=0;f<d.length;f++)e[f]=
new b(d[f]);a.Da[c]=e}b=a.Da[c];b==tyQf&&(b=a.Da[c]=[]);return b},tyX=function(a,b,c){a.Da||(a.Da={});var d=c?tyW(c):c;a.Da[b]=c;tyU(a,b,d)},tyY=function(a,b,c){a.Da||(a.Da={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=tyW(c[e]);a.Da[b]=c;tyU(a,b,d)},tyTf=function(a){if(a.Da)for(var b in a.Da){var c=a.Da[b];if(tyd(c))for(var d=0;d<c.length;d++)c[d]&&tyW(c[d]);else c&&tyW(c)}},tyW=function(a){tyTf(a);return a.Bb},tyUf=tya.JSON&&tya.JSON.stringify||"object"===typeof JSON&&JSON.stringify;
tyQ.prototype.Uk=tyPf?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){return tyMf(this)};try{var b=tyUf.call(null,tyW(this),tyVf)}finally{Uint8Array.prototype.toJSON=a}return b}:tyUf?function(){return tyUf.call(null,tyW(this),tyVf)}:function(){return tyHe(tyW(this),tyVf)};var tyVf=function(a,b){if(tyua(b)){if(isNaN(b))return"NaN";if(Infinity===b)return"Infinity";if(-Infinity===b)return"-Infinity"}return b};tyQ.prototype.toString=function(){tyTf(this);return this.Bb.toString()};
var tyXf=function(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&tyWf(tyW(a),tyW(b))},tyYf=function(a,b){a=a||{};b=b||{};var c={},d;for(d in a)c[d]=0;for(d in b)c[d]=0;for(d in c)if(!tyWf(a[d],b[d]))return!1;return!0},tyWf=function(a,b){if(a==b)return!0;if(!tyg(a)||!tyg(b)||a.constructor!=b.constructor)return!1;if(tyPf&&a.constructor===Uint8Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}if(a.constructor===Array){for(var d=void 0,e=void 0,
f=Math.max(a.length,b.length),c=0;c<f;c++){var g=a[c],h=b[c];g&&g.constructor==Object&&(d=g,g=void 0);h&&h.constructor==Object&&(e=h,h=void 0);if(!tyWf(g,h))return!1}return d||e?(d=d||{},e=e||{},tyYf(d,e)):!0}if(a.constructor===Object)return tyYf(a,b);throw Error("Invalid type in JSPB array");};tyQ.prototype.clone=function(){return tyZf(this)};
var tyZf=function(a){return new a.constructor(ty_f(tyW(a)))},ty_f=function(a){var b;if(tyd(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?ty_f(b):b);return c}if(tyPf&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?ty_f(b):b);return c};var ty0f=function(){tyw.call(this);this.Za=new FileReader;this.Za.onloadstart=tyh(this.Wa,this);this.Za.onprogress=tyh(this.Wa,this);this.Za.onload=tyh(this.Wa,this);this.Za.onabort=tyh(this.Wa,this);this.Za.onerror=tyh(this.Wa,this);this.Za.onloadend=tyh(this.Wa,this)};tyj(ty0f,tyw);ty=ty0f.prototype;ty.abort=function(){try{this.Za.abort()}catch(a){throw new tyP(a,"aborting read");}};ty.mc=function(){return this.Za.readyState};ty.getError=function(){return this.Za.error&&new tyP(this.Za.error,"reading file")};
ty.Wa=function(a){this.dispatchEvent(new tyyf(a,this))};ty.ta=function(){ty0f.Qa.ta.call(this);delete this.Za};ty.readAsArrayBuffer=function(a){this.Za.readAsArrayBuffer(a)};var ty2f=function(a){var b=new ty0f,c=ty1f(b);b.readAsArrayBuffer(a);return c},ty1f=function(a){var b=new tyy;a.listen("loadend",tyza(function(a,b){var c=b.Za.result,d=b.getError();null==c||d?a.g(d):a.callback(c);b.V()},b,a));return b};var ty3f=function(a){tyw.call(this);this.vb=a;this.vb.onwritestart=tyh(this.Wa,this);this.vb.onprogress=tyh(this.Wa,this);this.vb.onwrite=tyh(this.Wa,this);this.vb.onabort=tyh(this.Wa,this);this.vb.onerror=tyh(this.Wa,this);this.vb.onwriteend=tyh(this.Wa,this)};tyj(ty3f,tyw);ty=ty3f.prototype;ty.abort=function(){try{this.vb.abort()}catch(a){throw new tyP(a,"aborting save");}};ty.mc=function(){return this.vb.readyState};ty.getError=function(){return this.vb.error&&new tyP(this.vb.error,"saving file")};
ty.Wa=function(a){this.dispatchEvent(new tyyf(a,this))};ty.ta=function(){delete this.vb;ty3f.Qa.ta.call(this)};var ty4f=function(a,b){return a.getFile(b,1).addCallback(function(a){return a.file()})},ty5f=function(a,b){return a.getFile(b).addCallback(function(a){return a.remove()})},ty6f=function(a,b,c){var d=new tyy,e=function(a){d.g(a)};tyz(a.createWriter(),function(a){a.seek(c);a.listen("writeend",function(){d.callback();a.V()});a.listen("error",function(b){a.V();e(b)});a.write(b)},e);return d},ty8f=function(a,b,c){var d=new tyy,e=function(a){d.g(a)},f=tyzf(c);tyz(ty7f(a,f),function(){tyz(a.getFile(c,3),
function(a){tyz(a.createWriter(),function(c){c.listen("write",function(){d.callback(a);c.V()});c.listen("error",function(a){c.V();e(a)});c.write(b)},e)},e)},e);return d},ty9f=function(a){var b=a.lastIndexOf("."),c=parseInt(tyi(),10).toString();13<c.length||13>c.length&&tyLa("0",13-c.length);return a.substring(0,b)+"_"+parseInt(tyi(),10)+a.substring(b)},ty$f=function(a,b){a=tyOa("^",String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"(?:_(\\d+))?",b,"$");return tyDb?
new RegExp(a,"i"):new RegExp(a)},tyag=function(a,b){var c=b.lastIndexOf("."),d=0<=c?b.substring(c):"";b=0<=c?b.substring(0,c):b;var e=!1,f=1,g=ty$f(b,d);a.forEach(function(a){a=a.match(g);null!==a&&(e=!0,tyb(a[1])&&(a=parseInt(a[1],10),f<=a&&(f=a+1)))});return e?tyOa(b,"_",f.toString(),d):b+d};var tyZ=function(a){tyR(this,a,-1,null,null)};tyj(tyZ,tyQ);ty=tyZ.prototype;ty.getId=function(){return tyS(this,1)};ty.Lb=function(a){tyU(this,1,a);return this};ty.getName=function(){return tyS(this,2)};ty.Ie=function(a){tyU(this,2,a);return this};ty.Ij=function(){return tyS(this,3)};ty.Wk=function(a){tyU(this,3,a);return this};ty.Vk=function(a){tyU(this,4,a);return this};ty.Gc=function(){return tyS(this,5)};
var ty_={Zl:0,mm:1,$l:2,km:3,am:4,jm:5,im:6,dm:7,cm:8,fm:9,hm:10,em:11,Wl:12,Ol:13,Ql:14,Vl:15,Sl:16,Pl:17,Rl:18,Ul:19,Tl:20,Nl:21,ys:22,zs:23,Bs:24,Ds:25,Cs:26,Es:27,As:28,us:29,vs:30,ts:31,Ks:32,lm:101};var ty0=function(a,b,c){tyt.call(this);this.Bh=a;this.Kc=b||0;this.td=c;this.Cm=tyh(this.rj,this)};tyj(ty0,tyt);ty=ty0.prototype;ty.Ia=0;ty.ta=function(){ty0.Qa.ta.call(this);this.stop();delete this.Bh;delete this.td};ty.start=function(a){this.stop();this.Ia=tyD(this.Cm,tyb(a)?a:this.Kc)};ty.stop=function(){this.yf()&&tya.clearTimeout(this.Ia);this.Ia=0};ty.yf=function(){return 0!=this.Ia};ty.rj=function(){this.Ia=0;this.Bh&&this.Bh.call(this.td)};var tybg=function(a){ty3f.call(this,a);this.Ki=a};tyj(tybg,ty3f);tybg.prototype.write=function(a){try{this.Ki.write(a)}catch(b){throw new tyP(b,"writing file");}};tybg.prototype.seek=function(a){try{this.Ki.seek(a)}catch(b){throw new tyP(b,"seeking in file");}};var tycg=function(a,b){this.Ka=a;this.ra=b};ty=tycg.prototype;ty.isFile=function(){return this.ra.isFile};ty.isDirectory=function(){return this.ra.isDirectory};ty.getName=function(){return this.ra.name};ty.getMetadata=function(){var a=new tyy;this.ra.getMetadata(function(b){a.callback(b)},tyh(function(b){a.g(new tyP(b,"retrieving metadata for "+this.ra.fullPath))},this));return a};
ty.copyTo=function(a,b){var c=new tyy;this.ra.copyTo(a.Yd,b,tyh(function(a){c.callback(a.isFile?new tydg(this.Ka,a):new ty1(this.Ka,a))},this),tyh(function(d){c.g(new tyP(d,"copying "+this.ra.fullPath+" into "+a.ra.fullPath+(b?", renaming to "+b:"")))},this));return c};ty.remove=function(){var a=new tyy;this.ra.remove(tyh(a.callback,a,!0),tyh(function(b){a.g(new tyP(b,"removing "+this.ra.fullPath))},this));return a};
ty.getParent=function(){var a=new tyy;this.ra.getParent(tyh(function(b){a.callback(new ty1(this.Ka,b))},this),tyh(function(b){a.g(new tyP(b,"getting parent of "+this.ra.fullPath))},this));return a};var ty1=function(a,b){tycg.call(this,a,b);this.Yd=b};tyj(ty1,tycg);ty1.prototype.getFile=function(a,b){var c=new tyy;this.Yd.getFile(a,tyeg(b),tyh(function(a){c.callback(new tydg(this.Ka,a))},this),tyh(function(b){c.g(new tyP(b,"loading file "+a+" from "+this.ra.fullPath))},this));return c};
ty1.prototype.getDirectory=function(a,b){var c=new tyy;this.Yd.getDirectory(a,tyeg(b),tyh(function(a){c.callback(new ty1(this.Ka,a))},this),tyh(function(b){c.g(new tyP(b,"loading directory "+a+" from "+this.ra.fullPath))},this));return c};
var ty7f=function(a,b){function c(a){if(!e.length)return tyB(a);var b=e.shift();return(".."==b?a.getParent():"."==b?tyB(a):a.getDirectory(b,2)).addCallback(c)}if(0==b.lastIndexOf("/",0)){var d=tyfg(a.Ka);if(a.ra.fullPath!=d.ra.fullPath)return ty7f(d,b)}var e=tyVa(b.split("/"),tyhb);return c(a)};
ty1.prototype.Cf=function(){var a=new tyy,b=this.Yd.createReader(),c=[],d=tyh(function(b){a.g(new tyP(b,"listing directory "+this.ra.fullPath))},this),e=tyh(function(f){if(f.length){for(var g=0,h;h=f[g];g++)c.push(h.isFile?new tydg(this.Ka,h):new ty1(this.Ka,h));b.readEntries(e,d)}else a.callback(c)},this);b.readEntries(e,d);return a};
ty1.prototype.removeRecursively=function(){var a=new tyy;this.Yd.removeRecursively(tyh(a.callback,a,!0),tyh(function(b){a.g(new tyP(b,"removing "+this.ra.fullPath+" recursively"))},this));return a};var tyeg=function(a){return 2==a?{create:!0}:3==a?{create:!0,exclusive:!0}:{}},tydg=function(a,b){tycg.call(this,a,b);this.mf=b};tyj(tydg,tycg);
tydg.prototype.createWriter=function(){var a=new tyy;this.mf.createWriter(function(b){a.callback(new tybg(b))},tyh(function(b){a.g(new tyP(b,"creating writer for "+this.ra.fullPath))},this));return a};tydg.prototype.file=function(){var a=new tyy;this.mf.file(function(b){a.callback(b)},tyh(function(b){a.g(new tyP(b,"getting file for "+this.ra.fullPath))},this));return a};var tygg=function(a){this.Ka=a};tygg.prototype.getName=function(){return this.Ka.name};var tyfg=function(a){return new ty1(a,a.Ka.root)};var tyhg=function(a,b){var c=tya.requestFileSystem||tya.webkitRequestFileSystem;if(!tyf(c))return tyzd(Error("File API unsupported"));var d=new tyy;c(a,b,function(a){d.callback(new tygg(a))},function(a){d.g(new tyP(a,"requesting filesystem"))});return d},tyig=function(a){return tyhg(0,a)},tyjg=function(a){return tyhg(1,a)},tykg=function(a){var b=tya.BlobBuilder||tya.WebKitBlobBuilder;if(tyb(b)){for(var b=new b,c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}b=ty4a(arguments);
c=tya.BlobBuilder||tya.WebKitBlobBuilder;if(tyb(c)){for(var c=new c,d=0;d<b.length;d++)c.append(b[d],void 0);b=c.getBlob(void 0)}else if(tyb(tya.Blob))b=new Blob(b,{});else throw Error("This browser doesn't seem to support creating Blobs");return b},tylg=function(a,b,c){tyb(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?tyAb&&!tyr("13.0")||tyBb&&!tyr("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var tymg=function(a,b,c){tyw.call(this);this.b=tys("vib.filetransfer.FileChunkConsumer");this.yj=a;this.xj=b;this.Vg=c;this.Af=-1};tyj(tymg,tyw);
var tyog=function(a,b,c,d){var e=new ArrayBuffer(c),f=new DataView(e);d=tyOf(d);for(var g=0;g<c;++g)f.setUint8(g,d[g]);f=new tyy;f.addCallback(function(){return ty6f(this.xj,tykg(e),b)},a);f.addCallback(function(){this.Af+=c;if(this.Af+1==this.Vg)return tyng(this);if(this.Af>=this.Vg){var a="End of chunk exceeds file size: "+this.yj;tyF(this.b,a);return tyzd(Error(a))}},a);f.callback();return f},tyng=function(a){var b=new tyy;b.addCallback(function(){return this.xj.file()},a);b.addCallback(function(a){tyH(this.b,
"Whole file received: "+a.name+" size: "+a.size);this.dispatchEvent({type:"b",od:this.yj})},a);b.callback();return b};var typg=function(a){this.mf=a;this.Vg=a.size};typg.prototype.sf=function(a,b){var c=new tyy;a=tylg(this.mf,a,a+b);null===a?c.g({message:"blob slice is null"}):tyz(ty2f(a),function(a){a=tyMf(new Uint8Array(a),!0);c.callback(a)},function(a){c.g(a)},this);return c};var tyqg=function(){tyw.call(this);this.b=tys("vib.filetransfer.FileTransferManager");this.nd=new tyo;this.md=new tyo;this.Ef=new tyo};tyj(tyqg,tyw);var tyrg=function(a,b,c,d){var e=new tyy;if(a.nd.U(b))return c={type:2,message:"Already sending the file: "+b},tyF(a.b,c.message),e.g(c),e;tyz(ty4f(c,d),function(a){this.nd.set(b,new typg(a));e.callback()},function(a){e.g(a)},a);return e};tyqg.prototype.sf=function(a,b,c){this.nd.U(a);return this.nd.get(a).sf(b,c)};
var tytg=function(a,b,c,d,e){var f=new tyy;if(a.md.U(b))return f.g({type:3,message:"Already receiving the same file: "+b}),f;tyz(c.getFile(d,3).addCallback(function(a){var d=new tymg(b,a,e);this.md.set(b,d);tyzc(d,"b",tyh(this.Lh,this));return tysg(this,b,c,a.getName())},a),function(){f.callback()},function(a){tyF(this.b,"Fail to create file for receiving");f.g(a)},a);return f},tysg=function(a,b,c,d){var e=new tyy,f=d+".lock";tyz(c.getFile(f,3),function(a){tyH(this.b,f+" created");this.Ef.set(b,a);
e.callback()},function(a){tyF(this.b,f+"already exists.");e.g(a)},a);return e},tyug=function(a,b){var c=new tyy,d=a.Ef.get(b),e=d.getName();tyz(d.remove(),function(){tyH(this.b,e+" removed");this.Ef.remove(b);c.callback()},function(a){tyF(this.b,"Failed to remove the .lock file for: "+b);c.g(a)},a);return c},tyvg=function(a,b,c,d,e){a.md.U(b);return tyog(a.md.get(b),c,d,e)};
tyqg.prototype.Lh=function(a){tyz(tywg(this,a.od),function(){this.dispatchEvent({type:"e",od:a.od})},function(){tyF(this.b,"Failed to delete the .lock fileafter the whole file is received.")},this)};var tywg=function(a,b){a.md.remove(b);a.dispatchEvent({type:"d"});return a.Ef.U(b)?tyug(a,b):tyB()};tyqg.prototype.Xi=function(a){this.nd.U(a);this.nd.remove(a);this.dispatchEvent({type:"c"})};tyqg.prototype.Dm=function(a){this.md.U(a);return tywg(this,a)};var tyzg=function(a,b){tyw.call(this);this.b=tys("vib.filetransfer.FileTransferHandler");this.Li=1048576;this.Ib=a;tyxg(this);this.Ec=new typ;this.Dc=new typ;this.ke=b.addCallback(function(a){this.Gd=a.Lq;this.Be=a.gq},this).addCallback(function(){return tyyg(this.Gd,this.Ec)},this).addCallback(function(){return tyyg(this.Be,this.Dc)},this);this.Hd=new tyAf;this.Rf=new tyAf;this.qd=new tyo;this.Sb=new tyo;this.De=this.Pb=this.Xc=0;this.jq=new ty0(tyh(this.Uh,this,!0),3E5);this.iq=new ty0(tyh(this.Uh,
this,!1),3E5);this.Ce=this.Vh=null};tyj(tyzg,tyw);var tyAg=function(a){var b=a.getId();return b?b:a.Gc()},tyyg=function(a,b){var c=new tyy;c.addCallback(a.Cf,a);c.addCallback(function(a){tyl(a,function(a){a.isFile()&&b.add(a.getName())})});c.callback();return c};tyzg.prototype.Uh=function(a){var b=a?this.jq:this.iq;0==(a?this.Xc:this.Pb)?(b.stop(),b=tyyg(a?this.Gd:this.Be,a?this.Ec:this.Dc),a?this.Vh=b:this.Ce=b):b.start()};
var tyxg=function(a){tyv(a.Ib,"c",tyh(a.Ck,a));tyv(a.Ib,"d",tyh(a.Bk,a));tyv(a.Ib,"e",tyh(function(a){tyBg(this,a.od)},a))};
tyzg.prototype.Ck=function(){tyH(this.b,"FileTransferManager can send");--this.Xc;if(!this.Hd.isEmpty()){var a=tyBf(this.Hd);var b=this.qd.get(a);if(3>this.Xc)if(this.dispatchEvent("j"),this.Xc+=1,2==b.Ld){var c=new tyZ;c.Lb(a);a=ty9f(b.file.name);tyU(c,5,a);tyU(c,6,b.file.size);var b=b.Mb,a=this.Hd.Ea(),d=new tyCg;d.Ua(c);tyU(d,2,a);tyU(d,3,2);b.sendMessage(201,d);tyB()}else tyDg(this,a,b);else this.dispatchEvent("k"),tyI(this.b,"Sending Task Queued: "+a),this.Hd.enqueue(a),tyB()}};
tyzg.prototype.Bk=function(){tyI(this.b,"FileTransferManager can receive");--this.Pb;if(this.Rf.isEmpty())tyH(this.b,"Num files waiting to be received "+this.De),tyH(this.b,"Num files being received "+this.Pb),0==this.De&&0==this.Pb&&this.dispatchEvent("i");else{var a=tyBf(this.Rf),a=this.Sb.get(a);2==a.Ld?tyEg(this,a.Va,a.Mb):tyFg(this,a.Va,a.Mb)}};
var tyBg=function(a,b){var c=a.Sb.get(b),d=c.Mb,c=c.Va,e=new tyGg;e.Ua(c);d.sendMessage(205,e);a.Sb.remove(b);a.dispatchEvent({type:"f",od:b})},tyDg=function(a,b,c){var d=new tyy,e=null;if(null!=c.Va)a.dispatchEvent("l"),e=tyHg(a,c.Va,c.Mb);else if(null!=c.file)tyI(a.b,"sending a file outside of the html5 FileSystem"),a.dispatchEvent("m"),e=tyIg(a,b,c.file).addCallback(function(a){tyI(this.b,"file copied to html5 FileSystem.");c.Va=a;return tyHg(this,a,c.Mb)},a);else{--a.Xc;d.g(Error("no file in the sending task."));
return}tyz(e,function(){d.callback()},function(a){d.g(a)},a)},tyIg=function(a,b,c){a.dispatchEvent("n");tyI(a.b,"Copies the file to html5 fileSystem: ");var d=new tyy;tyA(d,a.ke);var e;null===a.Vh||tyA(d,a.Vh);d.addCallback(function(){e=tyag(this.Ec.R(),ty9f(c.name));this.Ec.add(e);return ty8f(this.Gd,c,e)},a);tyz(d,function(a){this.dispatchEvent("o");var d=new tyZ;d.Lb(b);a=a.getName();tyU(d,5,a);tyU(d,6,c.size);return d},function(){this.dispatchEvent("p");e&&this.Ec.remove(e)},a);d.callback();return d},
tyHg=function(a,b,c){a.dispatchEvent("t");var d=new tyy,e=b.Gc(),f=tyAg(b);if(null===e||null===f)d.g({message:"file name is null"});else{tyH(a.b,"Start sending file: "+e);var g=new tyy;tyA(g,a.ke);g.addCallback(function(){return tyrg(this.Ib,f,this.Gd,e)},a);tyz(g,function(){var a=this.Hd.Ea(),e=new tyCg;e.Ua(b);tyU(e,2,a);tyU(e,3,1);c.sendMessage(201,e);d.callback()},function(a){d.g(a)},a);g.callback()}return d},tyJg=function(a,b,c,d,e){var f=new tyy,g=tyAg(b);a.De=c;c={Va:b,Mb:e,Ld:d};a.Sb.U(g)?
(b={message:"Duplicate receiving task."},tyG(a.b,b.message),f.g(b)):(a.Sb.set(g,c),3>a.Pb?(a.Pb+=1,tyz(2==c.Ld?tyEg(a,b,e):tyFg(a,b,e),function(){f.callback()},function(a){--this.Pb;f.g(a)},a)):(a.Rf.enqueue(g),tyI(a.b,"Receiving Task Queued: "+g),f.callback()))},tyFg=function(a,b,c){var d=new tyy,e=b.Gc(),f=tyS(b,6);tyH(a.b,"Start receiving file: "+e+" size: "+f);a.dispatchEvent({type:"g",Ih:0<a.De?a.De+3:a.Pb});var g=tyAg(b);if(null===e||null===f||null===g){var h={message:"Incorrect file info."};
tyF(a.b,h.message);d.g(h)}else h=new tyy,tyA(h,a.ke),null===a.Ce||tyA(h,a.Ce),h.addCallback(function(){var a=tyag(this.Dc.R(),e);this.Dc.add(a);return a},a),h.addCallback(function(a){return tytg(this.Ib,g,this.Be,a,f)},a),tyz(h,function(){tyKg(this,b,c);d.callback()},function(a){tyF(this.b,"Error when initialize receiving.");d.g(a)},a),h.callback();return d},tyEg=function(a,b,c){var d=new tyy;null===a.Ce||tyA(d,a.Ce);d.addCallback(function(){var a=tyag(this.Dc.R(),b.Gc());this.Dc.add(a);return a},
a);d.addCallback(function(a){tyU(b,5,a);a=new tyLg;a.Ua(b);c.sendMessage(316,a)},a);d.callback();return d},tyMg=function(a,b){var c=tyAg(b),d=new tyy;d.addCallback(function(){ty4f(this.Be,c)},a);tyz(d,function(){tyBg(this,c);this.Bk()},function(){var a=this.Sb.get(c).Mb,d=new tyLg;d.Ua(b);a.sendMessage(316,d)},a);d.callback()},tyNg=function(a,b,c,d,e,f){var g=tyAg(b),h=tyS(b,6),k=new tyy;tyz(tyvg(a.Ib,g,c,d,e),function(){c+d<h&&(tyKg(this,b,f,c,d),k.callback())},function(a){k.g(a)},a)},tyKg=function(a,
b,c,d,e){var f=0;tyb(d)&&tyb(e)&&(f=d+e);d=a.Li;f+a.Li>tyS(b,6)&&(d=tyS(b,6)-f);a=f;f=d;d=new tyOg;d.Ua(b);d.Yk(a);d.Zk(f);c.sendMessage(203,d)},tyQg=function(a,b){a.dispatchEvent("h");var c=tyAg(b);tyI(a.b,"Handles EndFileTransferRequest: "+c);b=tyPg(a,b);tyz(b,function(){this.dispatchEvent("r")},function(){this.dispatchEvent("s")},a)},tyPg=function(a,b){var c=new tyy;tyA(c,a.ke);var d=tyAg(b),e=a.qd.get(d);a.qd.remove(d);2==e.Ld?a.Ck():a.Ib.Xi(d);if(e.Xq){var f=b.Gc();null===f||c.addCallback(function(){this.dispatchEvent("q");
this.Ec.remove(f);return ty5f(this.Gd,f)},a)}c.callback();return c},tySg=function(a,b,c){var d=c?a.qd:a.Sb,e=[],f=[],g=c?a.Hd:a.Rf;tylb(d.Vc(!0),function(a){var c=d.get(a);b===c.Mb&&(g.contains(a)?(g.remove(a),f.push(a)):e.push(a))},a);f.forEach(function(a){return d.remove(a)});e.forEach(function(b){var d=c?a.qd:a.Sb,e=c?a.Ib.Xi:a.Ib.Dm;tyRg(a,b,c);d.remove(b);e.call(a.Ib,b)})},tyRg=function(a,b,c){var d=new tyy;tyA(d,a.ke);b=(c?a.qd:a.Sb).get(b).Va;var e=b.Gc(),f=!c;if(c&&b.Xq||f)d.addCallback(function(){var a=
c?this.Gd:this.Be;(c?this.Ec:this.Dc).remove(e);return ty5f(a,e)},a),tyud(d,function(a){f&&"NotFoundError"==a.name||tyF(this.b,"Fail to remove canceled file :"+e)},a);d.callback()};var tyTg=new tyN("b"),tyUg=new tyN("c");var tyVg=window.PERSISTENT,tyWg=window.TEMPORARY;var tyXg=function(a,b){this.b=tys("cr.fs.DefaultFileHelper");this.El=new tyy;this.Jc(a,b)};tyXg.prototype.Jc=function(a,b){tyz(tyYg(a,b).addCallback(function(){return(a==tyVg?tyjg:tyig)(b)},this),function(a){this.Ka=a;this.El.callback()},function(a){tyZg(this,a)},this)};
var tyYg=function(a,b){var c=new tyy;(a==tyVg?navigator.webkitPersistentStorage:navigator.webkitTemporaryStorage).requestQuota(b,function(a){c.callback(a)},function(a){c.callback(a)});return c},tyZg=function(a,b){tyH(a.b,"Error:"+b.message)},ty_g=function(a,b){var c=new tyy;a.El.Rd().addCallback(function(){var a=tyfg(this.Ka),e=tyzf(b).split("/"),f=tyh(function(a){for(var b="";tyBa(b)&&0!=e.length;)b=e.shift();b.length?tyz(a.getDirectory(b,2),function(a){e.length?f(a):c.callback(a)},function(a){c.g(a)},
this):c.callback(a)},this);f(a)},a);return c},ty0g=function(a,b){var c=b.slice(b.lastIndexOf("/")+1),d=new tyy;tyz(ty_g(a,b).addCallback(function(a){return a.getFile(c,2)}),function(a){d.callback(a)},function(a){tyZg(this,a);d.g(a)},a);return d};
tyXg.prototype.write=function(a,b,c){var d=new tyy,e,f=tyh(function(a){tyZg(this,a);d.g(a)},this);tyz(ty0g(this,a).addCallback(function(a){e=a;return e.createWriter()}),function(a){a.addEventListener("writeend",function(){d.callback(e)});a.addEventListener("error",f);a.Ki.length>=b.byteLength+c?(a.seek(c),a.write(tykg(b))):d.g(Error("Tried to write past the preallocated file size"))},f,this);return d};var ty1g=new tyN("d"),ty2g=new tyN("e"),ty3g=new tyN("f");var ty4g=function(a){this.jr=a.get(tyUg);this.Ph=a.get(tyTg);this.o=a.get(tyrf);this.b=tys("chromeapp.base.FileSystemManager")},ty5g=function(a){var b=new tyy;tyz(ty_g(a,"/"),function(){b.callback(a.Ka)},function(a){b.g(a)});return b};ty=ty4g.prototype;ty.xn=function(){return ty5g(this.Ph)};ty.Mj=function(){return ty_g(this.Ph,"/")};ty.Pj=function(){return ty_g(this.jr,"/")};
ty.Cq=function(a){var b=new tyy;chrome.fileSystem.restoreEntry(a,function(c){null!=c?chrome.fileSystem.getDisplayPath(c,function(d){b.callback({entry:new ty1(new tygg(c.filesystem),c),name:d,Rk:a})}):b.g()});return b};ty.bq=function(){var a=new tyy,b=tya.navigator.webkitPersistentStorage;tyb(b)?b.queryUsageAndQuota(function(b){tyua(b)?a.callback(1073741824-b):a.g()},function(b){a.g(b)}):a.g(Error("x"));return a};
ty.Km=function(){var a=0,b=new tyy;b.addCallback(this.Pj,this);b.addCallback(function(a){return a.Cf()},this);b.addCallback(function(c){c.forEach(function(c){b.addCallback(function(){return tyud(c.remove(),function(){if(100<++a)return tyO(this.o,"Background","Clear temporary storage failed"),Error("Too many unremoved files in the temporary storage")},this)})})},this);b.callback()};
var ty6g=function(a){var b=new tyy;tyz(b,function(){return ty_g(this.Ph,"/drag_and_drop/")},function(){tyI(this.b,"Failed to get the persistent filesystem's root directory.")},a);tyz(b,function(a){tyH(this.b,"Got the drag_and_drop directory");return{Lq:a,gq:a}},function(){tyF(this.b,"Failed to get/create the drag_and_drop directory.")},a);b.callback();return b};var ty7g={ls:["BC","AD"],ks:["Before Christ","Anno Domini"],Us:"JFMAMJJASOND".split(""),Xt:"JFMAMJJASOND".split(""),Ts:"January February March April May June July August September October November December".split(" "),Wt:"January February March April May June July August September October November December".split(" "),Lt:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Zt:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Zu:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
au:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Nt:"Sun Mon Tue Wed Thu Fri Sat".split(" "),$t:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Vs:"SMTWTFS".split(""),Yt:"SMTWTFS".split(""),Mt:["Q1","Q2","Q3","Q4"],bt:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Jr:["AM","PM"],Mi:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Ni:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Ml:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Xl:6,$u:[5,6],Yl:5},ty8g=
ty7g,ty8g=ty7g;var tyah=function(a,b,c){tyua(a)?(this.ka=ty9g(a,b||0,c||1),ty$g(this,c||1)):tyg(a)?(this.ka=ty9g(a.getFullYear(),a.getMonth(),a.getDate()),ty$g(this,a.getDate())):(this.ka=new Date(tyi()),a=this.ka.getDate(),this.ka.setHours(0),this.ka.setMinutes(0),this.ka.setSeconds(0),this.ka.setMilliseconds(0),ty$g(this,a))},ty9g=function(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b};ty=tyah.prototype;ty.Cj=ty8g.Xl;ty.Ej=ty8g.Yl;
ty.clone=function(){var a=new tyah(this.ka);a.Cj=this.Cj;a.Ej=this.Ej;return a};ty.getFullYear=function(){return this.ka.getFullYear()};ty.getYear=function(){return this.getFullYear()};ty.getMonth=function(){return this.ka.getMonth()};ty.getDate=function(){return this.ka.getDate()};ty.getTime=function(){return this.ka.getTime()};ty.getUTCMonth=function(){return this.ka.getUTCMonth()};ty.getUTCDate=function(){return this.ka.getUTCDate()};ty.getUTCHours=function(){return this.ka.getUTCHours()};
ty.getUTCMinutes=function(){return this.ka.getUTCMinutes()};ty.getTimezoneOffset=function(){return this.ka.getTimezoneOffset()};ty.set=function(a){this.ka=new Date(a.getFullYear(),a.getMonth(),a.getDate())};ty.setFullYear=function(a){this.ka.setFullYear(a)};ty.setMonth=function(a){this.ka.setMonth(a)};ty.setDate=function(a){this.ka.setDate(a)};ty.setTime=function(a){this.ka.setTime(a)};
ty.add=function(a){if(a.Gr||a.kp){var b=this.getMonth()+a.kp+12*a.Gr,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Xm&&(b=new Date(this.getYear(),this.getMonth(),this.getDate(),12),a=new Date(b.getTime()+864E5*a.Xm),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),ty$g(this,a.getDate()))};ty.toString=function(){return[this.getFullYear(),tyMa(this.getMonth()+1),tyMa(this.getDate())].join("")+""};var ty$g=function(a,b){a.getDate()!=b&&(b=a.getDate()<b?1:-1,a.ka.setUTCHours(a.ka.getUTCHours()+b))};tyah.prototype.valueOf=function(){return this.ka.valueOf()};var tybh=new tyN("g");var tych=function(a){this.Ba=a.get(ty1g)};var tydh=new tyN("h"),tyeh=new tyN("i");var tyfh={PAUSE:3,Rt:4,vt:6,fs:7,Ou:8,pt:9,kt:10,Hr:11,hs:12,ut:13,Qt:14,Bu:15,It:16,Kt:17,mt:18,zt:19,Ot:20,Wu:21,ht:22,dt:23,Uu:24,Pu:25,lt:26,Os:27,Ku:28,Pt:29,Rs:30,nm:31,vu:32,uu:33,Gu:101,Iu:102,yu:103,su:104,Hu:105,Ys:106,st:107,at:108,wu:109,Mu:110,Nu:111,tu:112,bu:201,Dt:202,Et:203,et:204,js:205,Yr:206,Zr:207,it:208,Eu:209,eu:210,Vu:211,nt:212,Ss:213,Cu:214,Fu:215,qt:301,zu:302,Jt:303,jt:304,ru:305,wt:306,Ju:307,ft:308,du:309,yt:312,Lu:313,Au:314,rt:315,ot:316,Xs:317,tt:318,Du:319,xu:320};var tyhh=function(a){tyR(this,a,-1,tygh,null)};tyj(tyhh,tyQ);var tygh=[5];var tyih=function(a){tyR(this,a,-1,null,null)};tyj(tyih,tyQ);var tyjh=function(a){tyR(this,a,-1,null,null)};tyj(tyjh,tyQ);tyjh.prototype.getId=function(){return tyS(this,1)};tyjh.prototype.Lb=function(a){tyU(this,1,a)};tyjh.prototype.getName=function(){return tyS(this,2)};tyjh.prototype.Ie=function(a){tyU(this,2,a)};var tykh=function(a){tyR(this,a,-1,null,null)};tyj(tykh,tyQ);tykh.prototype.Je=function(a){tyU(this,1,a)};tykh.prototype.ag=function(a){tyU(this,2,a)};tykh.prototype.eh=function(){return tyS(this,5)};tykh.prototype.dg=function(a){tyU(this,5,a)};var tylh=function(a){tyR(this,a,-1,null,null)};tyj(tylh,tyQ);var tymh=function(a){tyR(this,a,-1,null,null)};tyj(tymh,tyQ);tymh.prototype.Lj=function(){return tyS(this,2)};tymh.prototype.fl=function(a){tyU(this,2,a)};tymh.prototype.el=function(a){tyU(this,6,a)};var tynh=function(a){tyR(this,a,-1,null,null)};tyj(tynh,tyQ);ty=tynh.prototype;ty.getCommand=function(){return tyS(this,1)};ty.$k=function(a){tyU(this,1,a)};ty.getVolume=function(){return tyS(this,3)};ty.setVolume=function(a){tyU(this,3,a)};ty.getTime=function(){return tyS(this,4)};ty.setTime=function(a){tyU(this,4,a)};ty.Nj=function(){return tyS(this,5)};ty.il=function(a){tyU(this,5,a)};var tyoh=function(a){tyR(this,a,-1,null,null)};tyj(tyoh,tyQ);tyoh.prototype.Lj=function(){return tyS(this,1)};tyoh.prototype.fl=function(a){tyU(this,1,a)};var typh=function(a){tyR(this,a,-1,null,null)};tyj(typh,tyQ);typh.prototype.Kj=function(){return tyS(this,1)};typh.prototype.bl=function(a){tyU(this,1,a)};var tyqh=function(a){tyR(this,a,-1,null,null)};tyj(tyqh,tyQ);tyqh.prototype.getId=function(){return tyS(this,1)};tyqh.prototype.Lb=function(a){tyU(this,1,a)};var tyrh=function(a){tyR(this,a,-1,null,null)};tyj(tyrh,tyQ);var tysh=function(a){tyR(this,a,-1,null,null)};tyj(tysh,tyQ);tysh.prototype.getId=function(){return tyS(this,1)};tysh.prototype.Lb=function(a){tyU(this,1,a)};var tyth=function(a){tyR(this,a,-1,null,null)};tyj(tyth,tyQ);var tyuh=function(a){tyR(this,a,-1,null,null)};tyj(tyuh,tyQ);tyuh.prototype.Hj=function(){return tyS(this,3)};var tyvh=function(a){tyR(this,a,-1,null,null)};tyj(tyvh,tyQ);var tywh=function(a){tyR(this,a,-1,null,null)};tyj(tywh,tyQ);tywh.prototype.getState=function(){return tyS(this,1)};tywh.prototype.jl=function(a){tyU(this,1,a)};tywh.prototype.Jj=function(){return tyS(this,3)};tywh.prototype.al=function(a){tyU(this,3,a)};var tyxh=function(a){tyR(this,a,-1,null,null)};tyj(tyxh,tyQ);tyxh.prototype.setVersion=function(a){tyU(this,1,a)};var tyyh=function(a){tyR(this,a,-1,null,null)};tyj(tyyh,tyQ);tyyh.prototype.setEnabled=function(a){tyU(this,1,a)};var tyzh=function(a){tyR(this,a,-1,null,null)};tyj(tyzh,tyQ);tyzh.prototype.hi=function(a){tyU(this,1,a)};var tyBh=function(a){tyR(this,a,-1,tyAh,null)};tyj(tyBh,tyQ);var tyAh=[1];var tyCh=function(a){tyR(this,a,-1,null,null)};tyj(tyCh,tyQ);tyCh.prototype.setEnabled=function(a){tyU(this,1,a)};var tyDh=function(a){tyR(this,a,-1,null,null)};tyj(tyDh,tyQ);var tyEh=function(a){tyR(this,a,-1,null,null)};tyj(tyEh,tyQ);ty=tyEh.prototype;ty.Je=function(a){tyU(this,1,a)};ty.ag=function(a){tyU(this,2,a)};ty.el=function(a){tyU(this,3,a)};ty.eh=function(){return tyS(this,4)};ty.dg=function(a){tyU(this,4,a)};var tyFh=function(a){tyR(this,a,-1,null,null)};tyj(tyFh,tyQ);tyFh.prototype.Vb=function(){return tyS(this,1)};tyFh.prototype.Ub=function(){return tyS(this,2)};var tyGh=function(a){tyR(this,a,-1,null,null)};tyj(tyGh,tyQ);tyGh.prototype.ie=function(){return tyS(this,3)};var tyHh=function(a){tyR(this,a,-1,null,null)};tyj(tyHh,tyQ);var tyIh=function(a){tyR(this,a,-1,null,null)};tyj(tyIh,tyQ);tyIh.prototype.setShuffle=function(a){tyU(this,3,a)};var tyJh=function(a){tyR(this,a,-1,null,null)};tyj(tyJh,tyQ);ty=tyJh.prototype;ty.getInfo=function(){return tyV(this,tyZ,1,1)};ty.$f=function(a){tyX(this,1,a);return this};ty.eg=function(a){tyU(this,2,a);return this};ty.Id=function(a){tyU(this,3,a);return this};ty.getStatus=function(){return tyS(this,4)};var tyLh=function(a){tyR(this,a,-1,tyKh,null)};tyj(tyLh,tyQ);var tyKh=[2];tyLh.prototype.getCommand=function(){return tyS(this,1)};tyLh.prototype.$k=function(a){tyU(this,1,a)};tyLh.prototype.fe=function(){return tySf(this,tyZ,2)};tyLh.prototype.Yf=function(a){tyY(this,2,a)};var tyGg=function(a){tyR(this,a,-1,null,null)};tyj(tyGg,tyQ);tyGg.prototype.ab=function(){return tyV(this,tyZ,1,1)};tyGg.prototype.Ua=function(a){tyX(this,1,a)};var tyLg=function(a){tyR(this,a,-1,null,null)};tyj(tyLg,tyQ);tyLg.prototype.ab=function(){return tyV(this,tyZ,1,1)};tyLg.prototype.Ua=function(a){tyX(this,1,a)};var tyMh=function(a){tyR(this,a,-1,null,null)};tyj(tyMh,tyQ);tyMh.prototype.Ke=function(a){tyX(this,1,a)};tyMh.prototype.He=function(a){tyX(this,2,a)};var tyNh=function(a){tyR(this,a,-1,null,null)};tyj(tyNh,tyQ);tyNh.prototype.ab=function(){return tyV(this,tyZ,1,1)};tyNh.prototype.Ua=function(a){tyX(this,1,a)};var tyOh=function(a){tyR(this,a,-1,null,null)};tyj(tyOh,tyQ);ty=tyOh.prototype;ty.ab=function(){return tyV(this,tyZ,1,1)};ty.Ua=function(a){tyX(this,1,a)};ty.Yk=function(a){tyU(this,2,a)};ty.Zk=function(a){tyU(this,3,a)};ty.sf=function(){return tyS(this,4)};var tyOg=function(a){tyR(this,a,-1,null,null)};tyj(tyOg,tyQ);tyOg.prototype.ab=function(){return tyV(this,tyZ,1,1)};tyOg.prototype.Ua=function(a){tyX(this,1,a)};tyOg.prototype.Yk=function(a){tyU(this,2,a)};tyOg.prototype.Zk=function(a){tyU(this,3,a)};var tyPh=function(a){tyR(this,a,-1,null,null)};tyj(tyPh,tyQ);tyPh.prototype.ab=function(){return tyV(this,tyZ,1,1)};tyPh.prototype.Ua=function(a){tyX(this,1,a)};var tyCg=function(a){tyR(this,a,-1,null,null)};tyj(tyCg,tyQ);tyCg.prototype.ab=function(){return tyV(this,tyZ,1,1)};tyCg.prototype.Ua=function(a){tyX(this,1,a)};var tyRh=function(a){tyR(this,a,-1,tyQh,null)};tyj(tyRh,tyQ);var tyQh=[2];tyRh.prototype.rd=function(){return tyS(this,1)};tyRh.prototype.Ge=function(a){tyU(this,1,a)};var tyTh=function(a){tyR(this,a,-1,tySh,null)};tyj(tyTh,tyQ);var tySh=[1];tyTh.prototype.Kj=function(){return tyS(this,2)};tyTh.prototype.bl=function(a){tyU(this,2,a)};var tyUh=function(a){tyR(this,a,-1,null,null)};tyj(tyUh,tyQ);tyUh.prototype.Ke=function(a){tyX(this,1,a)};tyUh.prototype.He=function(a){tyX(this,2,a)};var tyWh=function(a){tyR(this,a,-1,tyVh,null)};tyj(tyWh,tyQ);var tyVh=[2,3,4,5];var tyXh=function(a){tyR(this,a,-1,null,null)};tyj(tyXh,tyQ);tyXh.prototype.getInfo=function(){return tyV(this,tyZ,1)};tyXh.prototype.$f=function(a){tyX(this,1,a);return this};tyXh.prototype.eg=function(a){tyU(this,2,a);return this};tyXh.prototype.Id=function(a){tyU(this,3,a);return this};var tyZh=function(a){tyR(this,a,-1,tyYh,null)};tyj(tyZh,tyQ);var tyYh=[3,4];tyZh.prototype.fe=function(){return tySf(this,tyJh,3)};tyZh.prototype.Yf=function(a){tyY(this,3,a)};tyZh.prototype.kl=function(a){tyY(this,4,a)};var ty0h=function(a){tyR(this,a,-1,ty_h,null)};tyj(ty0h,tyQ);var ty_h=[3,4];ty=ty0h.prototype;ty.$g=function(){return tyV(this,tykh,1)};ty.fe=function(){return tySf(this,tyJh,3)};ty.Yf=function(a){tyY(this,3,a)};ty.kl=function(a){tyY(this,4,a)};ty.hi=function(a){tyU(this,6,a)};var ty1h=function(a){tyR(this,a,-1,null,null)};tyj(ty1h,tyQ);var ty3h=function(a){tyR(this,a,-1,ty2h,null)};tyj(ty3h,tyQ);var ty2h=[58];ty3h.prototype.on=function(){return tyS(this,23)};ty3h.prototype.Xk=function(a){tyU(this,23,a)};var ty5h=function(){var a=ty4h();return tyS(a,34)},ty6h=function(){var a=ty4h();return tyS(a,50)},ty7h=function(a){tyR(this,a,-1,null,null)};tyj(ty7h,tyQ);var ty8h=function(a){tyR(this,a,-1,null,null)};tyj(ty8h,tyQ);
ty8h.prototype.getErrorCode=function(){return tyS(this,1)};var ty9h=function(a){var b=new ty8h;tyU(b,1,a);return b};ty8h.prototype.Ub=function(){return tyS(this,2)};ty8h.prototype.Vb=function(){return tyS(this,3)};var tyai=function(a){tyR(this,a,-1,ty$h,null)};tyj(tyai,tyQ);var ty$h=[40,60];ty=tyai.prototype;ty.getId=function(){return tyS(this,1)};ty.Lb=function(a){tyU(this,1,a);return this};ty.Ij=function(){return tyS(this,4)};ty.Wk=function(a){tyU(this,4,a);return this};
ty.Vk=function(a){tyU(this,5,a);return this};ty.Jj=function(){return tyS(this,14)};ty.al=function(a){tyU(this,14,a);return this};ty.ab=function(){return tyS(this,15)};ty.Ua=function(a){tyU(this,15,a);return this};ty.getYear=function(){return tyS(this,19)};var tydi=function(a){tyR(this,a,-1,tybi,tyci)};tyj(tydi,tyQ);var tybi=[18,28,52,63,66],tyci=[[26,47]];tydi.prototype.fh=function(){return tyS(this,13)};tydi.prototype.Ub=function(){return tyS(this,14)};
tydi.prototype.Vb=function(){return tyS(this,35)};tydi.prototype.setLocale=function(a){tyU(this,62,a)};var tyei=function(a){tyR(this,a,-1,null,null)};tyj(tyei,tyQ);var tyfi=function(a){tyR(this,a,-1,null,null)};tyj(tyfi,tyQ);tyfi.prototype.tf=function(){return tyV(this,ty3h,1)};tyfi.prototype.Zf=function(a){tyX(this,1,a)};tyfi.prototype.ll=function(a){tyX(this,2,a)};var tygi=function(a){tyR(this,a,-1,null,null)};tyj(tygi,tyQ);var tyhi=function(a){tyR(this,a,-1,null,null)};tyj(tyhi,tyQ);
tyhi.prototype.Ke=function(a){tyX(this,1,a)};tyhi.prototype.He=function(a){tyX(this,2,a)};var tyii=function(a){tyR(this,a,-1,null,null)};tyj(tyii,tyQ);tyii.prototype.Ke=function(a){tyX(this,1,a)};tyii.prototype.He=function(a){tyX(this,2,a)};var tyji=function(a){tyR(this,a,-1,null,null)};tyj(tyji,tyQ);var tyli=function(a){tyR(this,a,-1,tyki,null)};tyj(tyli,tyQ);var tyki=[1];var tymi=function(a){tyR(this,a,-1,null,null)};tyj(tymi,tyQ);tymi.prototype.tf=function(){return tyV(this,ty3h,1)};tymi.prototype.Zf=function(a){tyX(this,1,a)};tymi.prototype.ll=function(a){tyX(this,2,a)};var tyni=function(a){tyR(this,a,-1,null,null)};tyj(tyni,tyQ);tyni.prototype.Nj=function(){return tyS(this,4)};tyni.prototype.il=function(a){tyU(this,4,a)};var tyoi=function(a){tyR(this,a,-1,null,null)};tyj(tyoi,tyQ);tyoi.prototype.Qj=function(){return tyS(this,2)};tyoi.prototype.ii=function(a){tyU(this,2,a)};var typi=function(a){tyR(this,a,-1,null,null)};tyj(typi,tyQ);typi.prototype.ab=function(){return tyV(this,tyai,1)};typi.prototype.Ua=function(a){tyX(this,1,a)};var tyqi=function(a){tyR(this,a,-1,null,null)};tyj(tyqi,tyQ);tyqi.prototype.getState=function(){return tyS(this,9)};tyqi.prototype.jl=function(a){tyU(this,9,a);return this};tyqi.prototype.Qj=function(){return tyS(this,14)};tyqi.prototype.ii=function(a){tyU(this,14,a);return this};var tyri=function(a){tyR(this,a,-1,null,null)};tyj(tyri,tyQ);var tysi=function(a){tyR(this,a,-1,null,null)};tyj(tysi,tyQ);tysi.prototype.getPlayerState=function(){return tyV(this,tyqi,1,1)};var tyti=function(a,b){return Math.round(a*(1+(2*Math.random()*b-b)/100))};var tyui=function(){this.Yc=-1};var tyvi=function(a){switch(a){case "idle":return 0;case "logged_in":return 1;case "login_in_progress":return 2;case "connection_failed":return 3;case "authentication_failed":return 4;case "unexpected_failure":return 5;case "not_on_service":return 6;case "too_many_accounts":return 7;case "too_many_machines":return 8;case "retry_upauth":return 9;case "save_credentials_failed":return 10;case "server_in_abort_state":return 11;case "empty_machine_identifier":return 12;case "need_interactive_login":return 13;
case "need_interactive_login_upgrade":return 14;case "upgrade_music_manager":return 15;case "ssl_failure":return 16;default:return 101}};chrome.i18n.getMessage("607779708716020188");var tyyi=function(a,b){this.Yc=64;this.Ze=tya.Uint8Array?new Uint8Array(this.Yc):Array(this.Yc);this.lg=this.ud=0;this.W=[];this.vp=a;this.ak=b;this.Br=tya.Int32Array?new Int32Array(64):Array(64);tyb(tywi)||(tywi=tya.Int32Array?new Int32Array(tyxi):tyxi);this.reset()},tywi;tyj(tyyi,tyui);for(var tyzi=[],tyAi=0;63>tyAi;tyAi++)tyzi[tyAi]=0;var tyBi=ty3a(128,tyzi);tyyi.prototype.reset=function(){this.lg=this.ud=0;this.W=tya.Int32Array?new Int32Array(this.ak):ty4a(this.ak)};
var tyCi=function(a){for(var b=a.Ze,c=a.Br,d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(b=16;64>b;b++){var e=c[b-15]|0,d=c[b-2]|0,f=(c[b-16]|0)+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)|0,g=(c[b-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[b]=f+g|0}for(var d=a.W[0]|0,e=a.W[1]|0,h=a.W[2]|0,k=a.W[3]|0,l=a.W[4]|0,m=a.W[5]|0,n=a.W[6]|0,f=a.W[7]|0,b=0;64>b;b++)var p=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&e^d&h^e&h)|0,g=l&m^~l&n,f=f+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>
25|l<<7))|0,g=g+(tywi[b]|0)|0,g=f+(g+(c[b]|0)|0)|0,f=n,n=m,m=l,l=k+g|0,k=h,h=e,e=d,d=g+p|0;a.W[0]=a.W[0]+d|0;a.W[1]=a.W[1]+e|0;a.W[2]=a.W[2]+h|0;a.W[3]=a.W[3]+k|0;a.W[4]=a.W[4]+l|0;a.W[5]=a.W[5]+m|0;a.W[6]=a.W[6]+n|0;a.W[7]=a.W[7]+f|0};
tyyi.prototype.update=function(a,b){tyb(b)||(b=a.length);var c=0,d=this.ud;if(tye(a))for(;c<b;)this.Ze[d++]=a.charCodeAt(c++),d==this.Yc&&(tyCi(this),d=0);else if(tyta(a))for(;c<b;){var e=a[c++];if(!("number"==typeof e&&0<=e&&255>=e&&e==(e|0)))throw Error("message must be a byte array");this.Ze[d++]=e;d==this.Yc&&(tyCi(this),d=0)}else throw Error("message must be string or array");this.ud=d;this.lg+=b};
tyyi.prototype.digest=function(){var a=[],b=8*this.lg;56>this.ud?this.update(tyBi,56-this.ud):this.update(tyBi,this.Yc-(this.ud-56));for(var c=63;56<=c;c--)this.Ze[c]=b&255,b/=256;tyCi(this);for(c=b=0;c<this.vp;c++)for(var d=24;0<=d;d-=8)a[b++]=this.W[c]>>d&255;return a};
var tyxi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,
4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var tyEi=function(){tyyi.call(this,8,tyDi)};tyj(tyEi,tyyi);var tyDi=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];var tyFi=new tyN("j");var tyIi=function(a,b){tyw.call(this);this.Wc=new typ;this.Ff=new typ;this.zg=!1;null!=a&&tyGi(this,a);null!=b&&tyHi(this,b)};tyj(tyIi,tyw);
var tyKi=function(a){return tyJi().Wc.contains(a)},tyGi=function(a,b){if(a.zg){var c=new typ(b);b=tytb(a.Wc,c);c=tytb(c,a.Wc);a.Wc.removeAll(b);a.Wc.addAll(c);if(0<b.Ea()||0<c.Ea())b=new tyLi(c.R(),b.R()),a.dispatchEvent(b)}else a.zg=!0,a.Wc.addAll(b),a.dispatchEvent("C")},tyHi=function(a,b){a.Ff.removeAll(a.Ff);a.Ff.addAll(b)},tyLi=function(a,b){tyu.call(this,"D");this.fn=a;this.gn=b};tyj(tyLi,tyu);var tyMi=function(){tyw.call(this);this.Uc=[];this.Pe=[];this.jg=null;this.b=tys("chromeapp.auth.IdentityManager");this.getAuthToken(!1)};tyj(tyMi,tyw);ty=tyMi.prototype;ty.getAuthToken=function(a,b){var c=new tyy;tyb(b)&&c.addCallback(tyh(this.Kk,this,b));c.addCallback(tyh(this.qq,this,a));c.callback();return c};ty.Kk=function(a){var b=new tyy;chrome.identity.removeCachedAuthToken({token:a},function(){b.callback()});return b};
ty.qq=function(a){var b=new tyy;chrome.identity.getAuthToken({interactive:a},tyh(function(a){if(tyb(a)){var c=null===this.jg;this.jg=tyi();b.callback(a);c&&this.dispatchEvent("y")}else b.g(Error("The user is not signed in."))},this));return b};ty.getDeviceId=function(){if(tyb(this.Lg))return tyB(this.Lg);var a=new tyy;chrome.musicManagerPrivate.getDeviceId(function(b){tyb(b)?a.callback(b):a.g()});a.addCallback(this.Tq,this);return a};
ty.uq=function(a){var b=new tyy,c={Authorization:"Bearer "+a};this.ym=a;tyUe("https://www.googleapis.com/oauth2/v1/userinfo?alt=json",function(a){a=a.target;ty1e(a)?(a=JSON.parse(ty3e(a)),b.callback(a.email)):b.g(a.getStatus())},"GET",null,c);b.addCallback(this.Vq,this);return b};
ty.fh=function(){if(tyb(this.Fi))return tyB(this.Fi);var a=new tyy;a.addCallback(tyh(this.getAuthToken,this,!1));a.addCallback(this.uq,this);tyud(a,function(a){if(401==a)return a=new tyy,a.addCallback(tyh(this.Kk,this,this.ym)),a.addCallback(tyzd),a.callback(),a},this);a.callback();return a};ty.Tq=function(a){tyb(this.ef)&&(tya.clearTimeout(this.ef),this.ef=void 0);this.Lg=a;this.ef=tyD(function(){this.ef=this.Lg=void 0},36E5,this)};
ty.Vq=function(a){tyb(this.vg)&&(tya.clearTimeout(this.vg),this.vg=void 0);this.Fi=a;this.vg=tyD(function(){this.vg=this.Fi=void 0},36E5,this)};ty.wn=function(){var a=new tyy;chrome.identity.getProfileUserInfo(function(b){tyBa(tyNa(b.id))?(tyG(this.b,"UserInfo.id is empty"),a.g(Error("UserInfo.id is empty"))):a.callback(b.id)});return a};
ty.Ii=function(a,b,c){var d=new tyy;null!=b&&tyb(chrome.identity.getProfileUserInfo)?(d.addCallback(this.wn,this),tyz(d,function(a){return a==b},function(){return tyNi(this,a)},this)):d.addCallback(function(){return tyNi(this,a)},this);d.addCallback(function(a){a?ty1a(this.Uc,c)||(this.Uc.push(c),this.dispatchEvent("A")):ty1a(this.Pe,c)||(this.Pe.push(c),this.dispatchEvent("z"));return a},this);d.callback();return d};
var tyNi=function(a,b){return null!=b?a.fh().addCallback(function(a){var c=new tyEi;c.update(a);a=c.digest();for(var c="",e=0;e<a.length;e++){var f=a[e].toString(16);2>f.length&&(f="0"+f);c+=f}return b==c},a):tyB(!1)};tyMi.prototype.Hj=function(){return null==this.jg||144E5<tyi()-this.jg?1:0<this.Uc.length?3:0<this.Pe.length?4:2};var tyOi=function(a){this.ya=a.get(tyeh);this.yc="Test Version";tyb(chrome)&&tyb(chrome.runtime)&&tyb(chrome.runtime.getManifest)&&(this.yc=chrome.runtime.getManifest().version)},tyQi=function(a,b,c){var d=new tyy;tyPi(b,"X-Music-Chrome-App-Version",a.yc);tyz(tyie([a.ya.getAuthToken(!1,c),a.ya.getDeviceId()]),function(a){var c=a[0];a=a[1];tyPi(b,"Authorization","Bearer "+c);tyPi(b,"X-Device-Id","chromeapp:"+a);d.callback(c)},function(a){d.g(a)},a);return d},tyPi=function(a,b,c){a instanceof XMLHttpRequest?
a.setRequestHeader(b,c):a.headers.set(b,c)};var tyRi=function(a,b){this.ue=a;this.wi=b;this.constructor.Ri||(this.constructor.Ri={});this.constructor.Ri[this.toString()]=this};tyRi.prototype.Uk=function(){return this.toString()};tyRi.prototype.toString=function(){this.xl||(this.xl=this.ue.Jf+":"+this.wi);return this.xl};var tySi=function(a,b){tyRi.call(this,a,b)};tyj(tySi,tyRi);var tyUi=function(a){tyTi.hasOwnProperty(a);this.Jf=a;tyTi[a]=this},tyTi;tyTi={};new tyUi("lib");var tyVi=new tyUi("chromeapp"),tyWi=new tySi(tyVi,"E"),tyXi={Tu:tyWi},tyYi=function(a){ty6a(tyXi,function(b){b=b.toString();a.Jg[b]=new tyy;a.jk.push(b)})};var tyZi=function(a,b,c,d){this.bk=a;this.pk=b;this.Ud=this.Vd=a;this.Ek=c||0;this.zm=d||2};tyZi.prototype.Td=0;tyZi.prototype.reset=function(){this.Ud=this.Vd=this.bk;this.Td=0};var ty_i=function(a){a.Ud=Math.min(a.pk,a.Ud*a.zm);a.Vd=Math.min(a.pk,a.Ud+(a.Ek?Math.round(a.Ek*(Math.random()-.5)*2*a.Ud):0));a.Td++};var ty0i=function(a,b){b=b instanceof tyK?b:tygf(b);if(b.Yb||b.Fb||null!=b.Pc)return null;if(a){if(a.Ya&&b.Ya&&"/"!=b.Ya.charAt(0)){var c=a.Ya;"/"!=c.charAt(c.length-1)&&(c+="/");a=new tyK(a);ty6e(a,c+b.Ya);""!==b.Ta.toString()&&ty7e(a,b.yn(),void 0);b.Fc&&ty8e(a,b.Fc);return a}return a.resolve(b)}return b};var ty1i=function(a,b){tyRi.call(this,a,b)};tyj(ty1i,tyRi);var ty3i=function(a){tyt.call(this);this.Sc={};this.xh={};this.Xf={};this.Rc={};this.Ui={};this.rk={};this.uj=a?a.uj:new tyw;this.Yq=!a;this.ye=null;a?(this.ye=a,this.Xf=a.Xf,this.Rc=a.Rc,this.xh=a.xh,this.Ui=a.Ui):tyi();a=ty2i(this);this!=a&&(a.Ye?a.Ye.push(this):a.Ye=[this])};tyj(ty3i,tyt);var ty2i=function(a){for(;a.ye;)a=a.ye;return a};
ty3i.prototype.get=function(a){var b;a:{for(b=this;b;b=b.ye){if(b.isDisposed())throw Error("AppContext is disposed.");if(b.Sc[a]){b=b.Sc[a][0];break a}if(b.rk[a])break}if(b=this.Xf[a]){b=b(this);if(null==b)throw Error("Factory method for service "+a+" returned null or undefined.");ty2(this,a,b)}else b=null}if(null==b)throw new ty4i(a);return b};
var ty3=function(a,b){return!(!a.Sc[b]&&!a.Xf[b])},ty2=function(a,b,c){if(a.isDisposed())tyfc(c);else{a.Sc[b]=[c,!0];c=ty5i(a,a,b);for(var d=0;d<c.length;d++)c[d].callback(null);delete a.xh[b]}},ty5i=function(a,b,c){var d=[],e=a.Rc[c];e&&(tyUa(e,function(a){var c;a:{for(c=a.tm;c;){if(c==b){c=!0;break a}c=c.ye}c=!1}c&&(d.push(a.d),tym(e,a))}),0==e.length&&delete a.Rc[c]);return d},ty6i=function(a,b){a.Rc&&tyqb(a.Rc,function(a,d,e){tyUa(a,function(c){c.tm==b&&tym(a,c)});0==a.length&&delete e[d]})};
ty3i.prototype.ta=function(){if(ty2i(this)==this){var a=this.Ye;if(a)for(;a.length;)a[0].V()}else for(var a=ty2i(this).Ye,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.Sc)a=this.Sc[c],a[1]&&a[0].V&&a[0].V();this.Sc=null;this.Yq&&this.uj.V();ty6i(this,this);this.Rc=null;tyfc(this.Sp);this.rk=this.Sp=null;ty3i.Qa.ta.call(this)};var ty4i=function(a){tyk.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'};tyj(ty4i,tyk);var ty7i=new tyUi("fva");
new ty1i(ty7i,1);var ty8i=tys("webplayer.appcontext"),ty9i=function(){if(null==tya.APPCONTEXT)throw tyF(ty8i,"No registered AppContext."),"No registered AppContext.";return tya.APPCONTEXT};var ty$i=function(){tyw.call(this)};tyj(ty$i,tyw);ty$i.prototype.Oj=function(a){return ty0i(null,a||"")};var tyaj=new tyN("n"),tybj=function(a){var b=ty9i();if(!ty3(b,tyaj)){var c=new ty$i;ty2(b,tyaj,c)}return b.get(tyaj).Oj(a)};var tycj=function(a){this.Ab=a};tycj.prototype.get=function(a,b){var c=new tyy;this.Ab.get(a,function(d){var e=chrome.runtime?chrome.runtime.lastError:void 0;e?c.g(e):(d=d[a],c.callback(tyb(d)?d:b))});return c};tycj.prototype.set=function(a,b){var c=new tyy,d={};d[a]=b;this.Ab.set(d,function(){var a=chrome.runtime?chrome.runtime.lastError:void 0;a?c.g(a):c.callback()});return c};
tycj.prototype.clear=function(){var a=new tyy;this.Ab.clear(function(){var b=chrome.runtime?chrome.runtime.lastError:void 0;b?a.g(b):a.callback()});return a};var tyej=function(a){tyw.call(this);this.Nq=a||tydj};tyj(tyej,tyw);var tydj=tygf("https://play.google.com/music/"),tyfj=function(a){if(!ty3(a,tyaj)){var b=new tyej;ty2(a,tyaj,b);return tyB()}a=new tyy;a.callback();return a};tyej.prototype.Oj=function(a){return ty0i(this.Nq,a||"")};var tygj={bm:0,Ll:1,Jl:2,av:3};var tyhj,ty4=new tydi(tya.USER_CONTEXT),tyij=function(){tyb(tyhj)||(tyhj=tygf(String(window.location)).Ta.get("u")||"0");return tyhj};var tyjj,tykj=tys("webplayer.features"),tyJi=function(){if(null==tyjj)throw tyF(tykj,"No registered ExperimentsManager."),"No registered ExperimentsManager.";return tyjj};var tylj=new ty3h([2,100,-1,null,1E4,240,4,"","https://support.google.com/googleplay/answer/1229970",null,null,"https://play.google.com/about/play-terms.html","https://www.google.com/policies/privacy/","https://play.google.com/store/search?c=music&feature=music_play_menu&q=",null,null,500,null,500,"https://support.google.com/googleplay/answer/1229970","https://support.google.com/googleplay/answer/1075570",null,"unknown",null,null,null,1E4,"",1,null,5E3,15E3,105834,"https://play.google.com/play/log",
["OWQxOTZmMTQtOGU5Ny00NzIy","a790bb39c49dbf094a22ee9f","LWJmN2QtMjcyNjU3OTgzOWZm","ZTlkZjY4YTEyOTA2ZDI4NDgx"],null,null,9E5,null,"AIzaSyBY4_QBkKwyv5DMlVISeJbBQEJCmh-VyIU","1054447039124-vf2v0safagbrkl8bmf2p5dib5cv33p60.apps.googleusercontent.com","https://support.google.com/googleplay/?p=music_subscription_more_info","https://www.googleapis.com/musicqueue/v1.0/",null,"",2E4,null,null,1800,null,0,"https://itunes.apple.com/app/apple-store/id691797987","https://play.google.com/store/apps/details?id=com.google.android.music",
["https://music-pa.clients6.google.com","AIzaSyCKH8gd6LPS-GLsYmQlyFlpRrrMDK85G9g"],"musicaccess-Sgoogleplaymusicactivation","","","af en bg ca cs da de el en_GB es es_419 et fi fr fr_CA hr hu it ja lt lv nl no pl pt_BR pt_PT ro ru sk sl sr sv tr uk zu".split(" "),0,1,1,"https://client-channel.google.com/client-channel/client","https://clients4.google.com/invalidation/lcs/client"]);var ty4h=function(){return tymj.getInstance().tf()},tymj=function(){tyw.call(this);this.Wg=tyb(tya.FLAGS)?new ty3h(tya.FLAGS):tylj};tyj(tymj,tyw);tyra(tymj);tymj.prototype.tf=function(){return this.Wg};tymj.prototype.Zf=function(a){if(tyXf(this.Wg,a))return!1;this.Wg=a;this.dispatchEvent("I");return!0};var tynj=function(a,b){tyt.call(this);this.pj=this.ej=null;this.qc=b;this.ae=[];if(a>this.qc)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.ae.push(this.af())};tyj(tynj,tyt);var tyoj=function(a,b){a.ae.length<a.qc?a.ae.push(b):a.Ng(b)};tynj.prototype.af=function(){return this.ej?this.ej():{}};tynj.prototype.Ng=function(a){if(this.pj)this.pj(a);else if(tyg(a))if(tyf(a.V))a.V();else for(var b in a)delete a[b]};
tynj.prototype.ta=function(){tynj.Qa.ta.call(this);for(var a=this.ae;a.length;)this.Ng(a.pop());delete this.ae};var tyrj=function(){this.Zd=[];this.Nh=new tyo;this.Al=this.Bl=this.Cl=this.hg=0;this.Le=new tyo;this.$i=this.zl=0;this.rp=1;this.tj=new tynj(0,4E3);this.tj.af=function(){return new typj};this.tl=new tynj(0,50);this.tl.af=function(){return new tyqj};var a=this;this.nh=new tynj(0,2E3);this.nh.af=function(){return String(a.rp++)};this.nh.Ng=function(){}};tyrj.prototype.b=tys("goog.debug.Trace");var tyqj=function(){this.Hi=this.time=this.count=0};
tyqj.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Hi&&a.push(" [VarAlloc = ",this.Hi,"]");return a.join("")};var typj=function(){},tyuj=function(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(tysj(a.eventTime-c));e.push(" ",tytj(a.eventTime-b));0==a.Rg?e.push(" Start        "):1==a.Rg?(e.push(" Done "),e.push(tysj(a.lv-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.pr&&e.push("[VarAlloc ",a.pr,"] ");return e.join("")};
typj.prototype.toString=function(){return null==this.type?this.comment:"["+this.type+"] "+this.comment};tyrj.prototype.reset=function(){for(var a=0;a<this.Zd.length;a++){var b=this.Zd[a];b.id&&tyoj(this.nh,b.id);tyoj(this.tj,b)}this.Zd.length=0;this.Nh.clear();this.hg=tyi();this.$i=this.zl=this.Al=this.Bl=this.Cl=0;a=this.Le.wa();for(b=0;b<a.length;b++){var c=this.Le.get(a[b]);c.count=0;c.time=0;c.Hi=0;tyoj(this.tl,c)}this.Le.clear()};
tyrj.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.Zd.length;d++){var e=this.Zd[d];1==e.Rg&&c.pop();a.push(" ",tyuj(e,this.hg,b,c.join("")));b=e.eventTime;a.push("\n");0==e.Rg&&c.push("|  ")}if(0!=this.Nh.Ea()){var f=tyi();a.push(" Unstopped timers:\n");tylb(this.Nh,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",tytj(b.startTime),")\n")})}b=this.Le.wa();for(d=0;d<b.length;d++)c=this.Le.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",
this.zl,"\n","Total comments created ",this.$i,"\n","Overhead start: ",this.Cl," ms\n","Overhead end: ",this.Bl," ms\n","Overhead comment: ",this.Al," ms\n");return a.join("")};var tysj=function(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a},tytj=function(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)};new tyrj;tys("goog.debug.ErrorReporter");tys("apps.photos.imagurl.ImageUrlOptionsParser");tys("apps.photos.imagurl.ImageUrlOptionsBuilderBase");tys("webplayer.image");(function(){if(tyGf){var a=new Image;a.onload=function(){};a.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}})();var tyvj=function(){};tyra(tyvj);
var tywj=/[\!\#\%\&\'\(\)\*\+\\\-\:\;\<\=\>\?\@\^\_\`\{\|\}\~\"\[\]\.,]/g,tyxj=/[\_\-\:\/]/g,tyyj={$:"s","\u00c0":"a","\u00c1":"a","\u00c2":"a","\u00c3":"a","\u00c4":"a","\u00c5":"a","\u00c6":"ae","\u00c7":"c","\u00c8":"e","\u00c9":"e","\u00ca":"e","\u00cb":"e","\u00cc":"i","\u00cd":"i","\u00ce":"i","\u00cf":"i","\u00d0":"d","\u00d1":"n","\u00d2":"o","\u00d3":"o","\u00d4":"o","\u00d5":"o","\u00d6":"o","\u00d7":" ","\u00d8":"o","\u00d9":"u","\u00da":"u","\u00db":"u","\u00dc":"u","\u00dd":"y","\u00de":"t",
"\u00df":"s","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00e6":"ae","\u00e7":"c","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00f0":"d","\u00f1":"n","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f7":" ","\u00f8":"o","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00fd":"y","\u00fe":"t","\u00ff":"y","\u0100":"a","\u0101":"a","\u0102":"a","\u0103":"a","\u0104":"a","\u0105":"a",
"\u0106":"c","\u0107":"c","\u0108":"c","\u0109":"c","\u010a":"c","\u010b":"c","\u010c":"c","\u010d":"c","\u010e":"d","\u010f":"d","\u0110":"d","\u0111":"d","\u0112":"e","\u0113":"e","\u0114":"e","\u0115":"e","\u0116":"e","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"e","\u011b":"e","\u011c":"g","\u011d":"g","\u011e":"g","\u011f":"g","\u0120":"g","\u0121":"g","\u0122":"g","\u0123":"g","\u0124":"h","\u0125":"h","\u0126":"h","\u0127":"h","\u0128":"i","\u0129":"i","\u012a":"i","\u012b":"i","\u012c":"i",
"\u012d":"i","\u012e":"i","\u012f":"i","\u0130":"i","\u0131":"i","\u0132":"ij","\u0133":"ij","\u0134":"j","\u0135":"j","\u0136":"k","\u0137":"k","\u0138":"k","\u0139":"l","\u013a":"l","\u013b":"l","\u013c":"l","\u013d":"l","\u013e":"l","\u013f":"l","\u0140":"l","\u0141":"l","\u0142":"l","\u0143":"n","\u0144":"n","\u0145":"n","\u0146":"n","\u0147":"n","\u0148":"n","\u0149":"n","\u014a":"n","\u014b":"n","\u014c":"o","\u014d":"o","\u014e":"o","\u014f":"o","\u0150":"o","\u0151":"o","\u0152":"oe","\u0153":"oe",
"\u0154":"r","\u0155":"r","\u0156":"r","\u0157":"r","\u0158":"r","\u0159":"r","\u015a":"s","\u015b":"s","\u015c":"s","\u015d":"s","\u015e":"s","\u015f":"s","\u0160":"s","\u0161":"s","\u0162":"t","\u0163":"t","\u0164":"t","\u0165":"t","\u0166":"t","\u0167":"t","\u0168":"u","\u0169":"u","\u016a":"u","\u016b":"u","\u016c":"u","\u016d":"u","\u016e":"u","\u016f":"u","\u0170":"u","\u0171":"u","\u0172":"u","\u0173":"u","\u0174":"w","\u0175":"w","\u0176":"y","\u0177":"y","\u0178":"y","\u0179":"z","\u017a":"z",
"\u017b":"z","\u017c":"z","\u017d":"z","\u017e":"z","\u017f":"s","\u0180":"b","\u0181":"b","\u0182":"b","\u0183":"b","\u0184":"b","\u0185":"b","\u0186":"c","\u0187":"c","\u0188":"c","\u0189":"d","\u018a":"d","\u018b":"d","\u018c":"d","\u018d":"d","\u018e":"e","\u018f":"e","\u0190":"e","\u0191":"f","\u0192":"f","\u0193":"g","\u0194":"g","\u0195":"h","\u0196":"i","\u0197":"i","\u0198":"k","\u0199":"k","\u019a":"l","\u019b":"l","\u019c":"m","\u019d":"n","\u019e":"n","\u019f":"o","\u01a0":"o","\u01a1":"o",
"\u01a2":"oi","\u01a3":"oi","\u01a4":"p","\u01a5":"p","\u01a6":"r","\u01a7":"s","\u01a8":"s","\u01a9":"s","\u01aa":"s","\u01ab":"t","\u01ac":"t","\u01ad":"t","\u01ae":"t","\u01af":"u","\u01b0":"u","\u01b1":"u","\u01b2":"v","\u01b3":"y","\u01b4":"y","\u01b5":"z","\u01b6":"z","\u01c4":"dz","\u01c5":"dz","\u01c6":"dz","\u01c7":"lj","\u01c8":"lj","\u01c9":"lj","\u01ca":"nj","\u01cb":"nj","\u01cc":"nj","\u01cd":"a","\u01ce":"a","\u01cf":"i","\u01d0":"i","\u01d1":"o","\u01d2":"o","\u01d3":"u","\u01d4":"u",
"\u01d5":"u","\u01d6":"u","\u01d7":"u","\u01d8":"u","\u01d9":"u","\u01da":"u","\u01db":"u","\u01dc":"u","\u01dd":"e","\u01de":"a","\u01df":"a","\u01e0":"a","\u01e1":"a","\u01e2":"ae","\u01e3":"ae","\u01e4":"g","\u01e5":"g","\u01e6":"g","\u01e7":"g","\u01e8":"k","\u01e9":"k","\u01ea":"o","\u01eb":"o","\u01ec":"o","\u01ed":"o","\u01f0":"j","\u01f1":"dz","\u01f2":"dz","\u01f3":"dz","\u01f4":"g","\u01f5":"g","\u01f8":"n","\u01f9":"n","\u01fa":"a","\u01fb":"a","\u01fc":"ae","\u01fd":"ae","\u01fe":"o",
"\u01ff":"o","\u0200":"a","\u0201":"a","\u0202":"a","\u0203":"a","\u0204":"e","\u0205":"e","\u0206":"e","\u0207":"e","\u0208":"i","\u0209":"i","\u020a":"i","\u020b":"i","\u020c":"o","\u020d":"o","\u020e":"o","\u020f":"o","\u0210":"r","\u0211":"r","\u0212":"r","\u0213":"r","\u0214":"u","\u0215":"u","\u0216":"u","\u0217":"u","\u0218":"s","\u0219":"s","\u021a":"t","\u021b":"t","\u021e":"h","\u021f":"h","\u0220":"n","\u0221":"d","\u0222":"ou","\u0223":"ou","\u0224":"z","\u0225":"z","\u0226":"a","\u0227":"a",
"\u0228":"e","\u0229":"e","\u022a":"o","\u022b":"o","\u022c":"o","\u022d":"o","\u022e":"o","\u022f":"o","\u0230":"o","\u0231":"o","\u0232":"y","\u0233":"y","\u0234":"l","\u0235":"n","\u0236":"t","\u0237":"j","\u0238":"db","\u0239":"qp","\u023a":"a","\u023b":"c","\u023c":"c","\u023d":"l","\u023e":"t","\u023f":"s","\u0240":"z","\u0243":"b","\u0244":"u","\u0245":"v","\u0246":"e","\u0247":"e","\u0248":"j","\u0249":"j","\u024a":"q","\u024b":"q","\u024c":"r","\u024d":"r","\u024e":"y","\u024f":"y","\u1edd":"o",
"\u2010":"-"},tyzj=/^(the|a|an)\s/,tyAj=/\s(and|&|et|y)\s/;tyvj.prototype.normalize=function(a){if(tyBa(tyNa(a)))return a;for(var b=a,c="",d=0;d<b.length;++d)c=tyyj[b[d]]?c+tyyj[b[d]]:c+b[d];b=c.toLowerCase();b=b.replace(tyAj," and ");b=b.replace(tyzj,"");b=b.replace(tyxj," ");b=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");b=b.replace(tywj,"");return tyBa(tyNa(b))?a:b};var ty5=function(a,b){this.type=a;a=b||[];this.id=tyd(a)?a:a.un?a.un():[];this.id.toString=function(){return tyBj(this)};this.id.nr=function(){return tyBj(this,!0)}};new ty5("ap",["queue"]);new ty5("trash");new ty5("upload",["mini"]);new ty5("msp");new ty5("all");new ty5("albums");new ty5("artists");new ty5("genres");new ty5("uq");tyS(ty4,75)?new ty5("home"):new ty5("recents");new ty5("accountsettings");new ty5("imfl");new ty5("ap",["auto-playlist-thumbs-up"]);new ty5("ap",["auto-playlist-recent"]);
new ty5("ap",["auto-playlist-promo"]);new ty5("recents");new ty5("manager");new ty5("ap",["sound-search"]);new ty5("ap",["purchased-and-uploaded"]);new ty5("ap",["added-from-all-access"]);new ty5("splash");new ty5("uqg");new ty5("uqa");new ty5("mobile-nuq-completed");new ty5("mv",[]);new ty5("almv",[]);new ty5("armv",[]);new ty5("sulp",[]);new ty5("sul",[]);new ty5("svfop",[]);new ty5("sww",[]);new ty5("suup",[]);new ty5("wtc",[]);new ty5("wbs",[]);new ty5("wnr",[]);new ty5("wms",[]);
new ty5("wmp",[]);new ty5("my-library",[]);new ty5("podcasts");new ty5("tps");var tyBj=function(a,b){if(!a)return"";var c=ty0a(a,function(a){return!!a});a=a.slice(0,c+1);b&&(a=tyWa(a,function(a){return tyvj.getInstance().normalize(a)}));return tyWa(a,function(a){return encodeURIComponent(a).replace(/%20/g,"+")}).join("/")};ty5.prototype.toString=function(a){return(a=a?this.id.nr():this.id.toString())?"/"+this.type+"/"+a:"/"+this.type};var tyCj=new tyN("s");var tyDj=function(){tyw.call(this);this.b=tys("cr.base.AppLifeCycleNotifier");chrome.runtime.onStartup.addListener(tyh(this.po,this));chrome.runtime.onSuspend.addListener(tyh(this.uo,this));chrome.runtime.onSuspendCanceled.addListener(tyh(this.to,this));chrome.runtime.onInstalled.addListener(tyh(this.Sn,this));chrome.runtime.onUpdateAvailable.addListener(tyh(this.Ao,this));chrome.runtime.onRestartRequired.addListener(tyh(this.jo,this))};tyj(tyDj,tyw);ty=tyDj.prototype;ty.po=function(){this.dispatchEvent("K")};
ty.uo=function(){this.dispatchEvent("L")};ty.to=function(){this.dispatchEvent("M")};ty.Sn=function(a){this.dispatchEvent({type:"N",reason:a.reason,Yp:a.previousVersion,id:a.id})};ty.Ao=function(a){this.dispatchEvent({type:"O",version:a.version})};
ty.jo=function(a){switch(a){case "app_update":a="app_update";break;case "os_update":a="os_update";break;case "periodic":a="periodic";break;default:tyG(this.b,"AppLifeCycleNotifier received unknown reason from chrome.runtime.onRestartRequired: "+a);return}this.dispatchEvent({type:"P",reason:a})};var tyEj=function(a){this.jd=a||{cookie:""}};ty=tyEj.prototype;ty.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');tyb(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(tyi()+1E3*c)).toUTCString();this.jd.cookie=a+"="+b+e+d+c+f};
ty.get=function(a,b){for(var c=a+"=",d=(this.jd.cookie||"").split(";"),e=0,f;e<d.length;e++){f=tyCa(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};ty.remove=function(a,b,c){var d=this.U(a);this.set(a,"",0,b,c);return d};ty.wa=function(){return tyFj(this).keys};ty.R=function(){return tyFj(this).values};ty.isEmpty=function(){return!this.jd.cookie};ty.Ea=function(){return this.jd.cookie?(this.jd.cookie||"").split(";").length:0};ty.U=function(a){return tyb(this.get(a))};
ty.clear=function(){for(var a=tyFj(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};var tyFj=function(a){a=(a.jd.cookie||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=tyCa(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}},tyGj=new tyEj("undefined"==typeof document?null:document);tyGj.Ps=3950;var tyHj=function(){this.mh=null};tyra(tyHj);var tyIj=tyPa();tyHj.prototype.initialize=function(){};var tyJj=function(){tyw.call(this);this.b=tys("webplayer.FrontendService");this.Nb=null};tyj(tyJj,tyw);tyra(tyJj);var tyKj=tyLe("u")||"0",tyLj=tyLe("hl")||"",tyMj=ty9h(1),tyNj=ty9h(7);ty9h(6);ty9h(2);ty9h(3);var tyOj=function(a,b){var c=new tygi;return tyJj.getInstance().call("fetchpreferences",c,tyhi,a,b,1)};
tyJj.prototype.call=function(a,b,c,d,e,f,g,h){var k={u:tyKj,format:"jsarray"},l=tyGj.get("xt");l&&(k.xt=l);ty6h()&&(k.dv=ty6h());if(g)for(var m in g)k[m]=g[m];tyLj&&(k.hl=tyLj);g=tyS(ty4,26);null!=g&&(k.obfid=g);k=(g=tybj("services/"+a))&&ty7e(g,tylf(k));g=new ty7h;tyU(g,1,tyIj);tyU(g,2,f||0);f=[tyW(g)];b&&f.push(tyW(b));b=tyHe(f);c=tyh(this.Aq,this,c||ty1h,d,e);d={};h&&(d.Authorization=h);h=new tyJ;tyv(h,"complete",c);this.Fe(h,k.toString(),b,d,e?tyza(e,tyNj):tyc);window.Qq=a;return h};
tyJj.prototype.Aq=function(a,b,c,d){window.Qq=null;d=d.target;if(7==d.yd)d.V();else if("OTHER_AUTHENTICATED_USER"==d.getResponseHeader("X-Rejected-Reason"))this.dispatchEvent("R"),tyG(this.b,"Authenticated as a different user"),d.V();else{var e=null;if(ty1e(d)){try{e=d.w?tyGe(d.w.responseText):void 0}catch(k){}d.V();if(b||c)if(c=c||tyc,e&&e.length){d=new ty8h(e[0]);var f=d.Ub(),g=!!d.Vb();var h;if(h=tyb(f))h=ty4.Ub(),h=tyb(h)&&0!=h;h?(f=2==f,f=2==ty4.Ub()!=f):f=!1;if(f||!!ty4.Vb()!=g)this.dispatchEvent("S"),
tyG(this.b,"Tier change detected");g=!!tyS(d,4);!!tyS(ty4,74)!=g&&this.dispatchEvent("Q");a=e[1]?new a(e[1]):null;d.getErrorCode()?(4==d.getErrorCode()&&(a=tyHj.getInstance(),b={u:tyij(),xt:tyGj.get("xt")},null==a.mh&&(a.mh=tygf(String(window.location)).Ta.get("hl")||""),(a=a.mh)&&(b.hl=a),a=tybj("refreshxt"),ty7e(a,tylf(b)),b=a.toString(),(new tyJ).send(b,"POST","{}")),c(d)):b&&b(d,a)}else c(tyMj)}else c&&c(tyMj),403==d.getStatus()&&"Unauthenticated"==d.getResponseHeader("GooglePlayMusicWeb-Reason")&&
(this.dispatchEvent("T"),tyG(this.b,"Unauthenticated user")),d.V()}};tyJj.prototype.Fe=function(a,b,c,d,e){if(this.Nb){var f=tyQi(this.Nb,a,this.Uo);f.addCallback(function(e){this.Uo=e;a.send(b,"POST",c,d)},this);tyud(f,e)}else a.send(b,"POST",c,d)};new typ;var tyQj=function(a){tyw.call(this);this.H=a;this.v=new tyE(this);a=window;if(!a.location){var b;try{b=tyHe(a)}catch(c){b=ty8a(a).toString()}a=tys("fava.dom");tyF(a,"Bug 8201764 => "+b)}this.jk=[];this.Jg=tyPj(this)};tyj(tyQj,tyw);tyQj.prototype.b=tys("fava.app.AppLifetimeService");tyQj.prototype.ta=function(){tyQj.Qa.ta.call(this);this.v.V();this.Jg=this.v=null};tyQj.prototype.Ym=function(a){var b=tyWa(arguments,function(a){return tyRj(this,a)},this);return tyie(b)};
var tyPj=function(a){return tyXa([["dr","Y"],["idr","Z"],["ivr","$"],["ll","aa"],["l","X"],["uling","ca"],["u","da"]],function(a,c){var b=new tyy;a[c[0]]=b;this.jk.push(c[0]);b.addCallback(function(){this.dispatchEvent(c[1])},this);return a},{},a)},tyRj=function(a,b){var c=b;b instanceof tySi&&(c=b.toString());return a.Jg[c]};var tySj=function(a,b){tyw.call(this);this.b=tys("chromeapp.base.UserSettingsFetcher");this.v=new tyE(this);tygc(this,this.v);this.Sa=new tyZi(72E5,144E5);this.Mh=a.get(ty2g);this.ya=a.get(tyeh);this.ad=new ty0(tyh(this.Mk,this));this.tg=b;this.Ag=a.get(tyqf);this.jc=tyJi();this.Hk=!1;this.v.listen(this.Mh,"online",this.$n);this.v.listen(this.Mh,"offline",this.Zn);this.tg&&this.v.listen(this.ya,"y",this.Mk)};tyj(tySj,tyw);ty=tySj.prototype;
ty.Mk=function(){this.tg=!0;if(this.Mh.ne()){var a=tyh(this.ih,this),b=tyh(this.hh,this),c={};"chrome-extension:"==tya.location.protocol&&tyb(tya.chrome)&&tyb(tya.chrome.runtime)&&tyb(tya.chrome.runtime.getManifest)&&tyb(tya.chrome.runtime.getManifest().changelist)&&(c.dv=tya.chrome.runtime.getManifest().changelist);var d=new tyei;this.ji=tyJj.getInstance().call("usersettings",d,tyfi,a,b,1,c);this.ji.vc=Math.max(0,6E4)}else tyH(this.b,"requestCurrentSettings_ called but network is offline.")};
ty.ih=function(a,b){tyH(this.b,"Fetched user settings from server.");a=b.tf();b=tyV(b,tydi,2);this.rg(b,a);this.Sa.reset();this.ad.start(this.Sd())};ty.hh=function(){ty_i(this.Sa);tyH(this.b,"Error fetching features, backoff count: "+this.Sa.Td);this.ad.start(this.Sd());null!=this.ji&&this.ji.V()};
ty.rg=function(a,b){ty4=a;tyGi(this.jc,tyS(a,18));tyHi(this.jc,tyS(a,52));tymj.getInstance().Zf(b);this.dispatchEvent("ea");this.Hk||(this.Hk=!0,a=this.Ag,a.isDisposed()||a.H.isDisposed()||(tyH(a.b,tyWi+" ready"),tyRj(a,tyWi).callback()))};ty.Sd=function(){return tyti(this.Sa.Vd,10)};ty.$n=function(){this.tg&&(tyH(this.b,"Network came online, restarting delay timer."),this.ad.stop(),this.Sa.reset(),this.ad.start(this.Sd()))};
ty.Zn=function(){this.tg&&(tyH(this.b,"Network went offline, canceling delay timer."),this.ad.stop())};var tyTj=new tyN("u");var tyUj=function(a,b,c){tyu.call(this,"ha");this.messageType=a;this.message=b;this.hj=c};tyj(tyUj,tyu);var tyVj=function(a,b,c){tyu.call(this,a.toString());this.message=b;this.hj=c};tyj(tyVj,tyu);var tyWj=function(a){tyw.call(this);this.Qg=a;this.Ia=tyPa();this.v=new tyE(this);tygc(this,this.v);this.La()};tyj(tyWj,tyw);ty=tyWj.prototype;ty.La=function(){this.v.listen(this.Qg,"ga",this.On);this.v.listen(this.Qg,"ha",this.Vn)};ty.On=function(){this.dispatchEvent("ia");this.V()};ty.Vn=function(a){this.dispatchEvent(new tyVj(a.messageType.toString(),a.message,a.hj))};ty.ma=function(){return this.Ia};ty.sendMessage=function(a,b,c){this.Qg.sendMessage(a,b,c)};var tyXj=function(){tyw.call(this);this.Ne=[];this.jf=new tyo;this.Lm=tys("vib.port.TransferrerManager")};tyj(tyXj,tyw);var tyYj=function(a,b){a.Ne.push(b);a.Mc(b,"ia",tyza(a.jj,b));a.Pi(b);a.jh(void 0,b)};ty=tyXj.prototype;ty.Mc=function(a,b,c){var d=this.jf.get(a.ma());tyb(d)||(d=new tyE(this),this.jf.set(a.ma(),d),tygc(this,d));d.listen(a,b.toString(),c)};ty.Pi=function(){};
ty.forEach=function(a){var b=this;this.Ne.forEach(function(c){try{a.call(b,c)}catch(d){b.Lm.log(tyTb,"Exception while sending message.",d),b.jj(c)}})};ty.jj=function(a){tym(this.Ne,a);var b=this.jf.get(a.ma());tyb(b)&&(this.jf.remove(a.ma()),b.V());this.jh(a)};ty.jh=function(){};var tyZj=function(a){tyWj.call(this,a)};tyj(tyZj,tyWj);var ty_j=function(a){switch(a){case 3:return tyZh;case 4:return tyth;case 6:return null;case 7:return tyLh;case 8:return null;case 9:return typh;case 10:return null;case 11:return null;case 12:return tylh;case 13:return null;case 14:return null;case 15:return tysi;case 16:return tyqh;case 17:return tyrh;case 18:return null;case 19:return null;case 20:return null;case 21:return tyGh;case 22:return null;case 23:return null;case 24:return null;case 25:return null;case 26:return tyih;case 27:return typi;
case 28:return tyBh;case 101:return ty0h;case 102:return tyWh;case 103:return tyTh;case 104:return tyvh;case 105:return tyyh;case 108:return tynh;case 109:return tyRh;case 110:return tyCh;case 111:return tyDh;case 112:return tyhh;case 201:return tyCg;case 202:return tyPh;case 203:return tyOg;case 204:return tyOh;case 205:return tyGg;case 316:return tyLg;case 317:return tyNh;case 206:return null;case 207:return null;case 208:return tyoh;case 209:return tyoi;case 301:return null;case 302:return tyxh;
case 303:return tysh;case 304:return null;case 305:return tyuh;case 306:return null;case 307:return tyzh;case 308:return null;case 309:return null;case 312:return null;case 313:return tymi;case 319:return tyUh;case 30:return tyMh;case 31:return null;case 211:return tyFh;case 213:return tyli;case 32:return tyri;case 33:return tywh;default:return null}},ty0j;for(ty0j in tyfh);var ty2j=function(a){tyw.call(this);this.Hl=a;this.mk=tys("vib.port.EventPort");this.zp=++ty1j};tyj(ty2j,tyw);var ty1j=0;ty2j.prototype.toString=function(){return"<EventPort."+this.zp+">"};ty2j.prototype.Xj=function(a){if(a.sentFrom!=this.Hl){var b=a.type,c=a.message;a=a.dataBuffer;var d=ty_j(b),c=null===d?void 0:new d(c),e;a:{for(e in tyfh)if(tyfh[e]==b){e=!0;break a}e=!1}b=e?b:null;null===b||this.dispatchEvent(new tyUj(b,c,a))}};
ty2j.prototype.sendMessage=function(a,b,c){a={type:a,message:tyb(b)?tyW(b):void 0,dataBuffer:c,sentFrom:this.Hl};this.Tk(a)};var ty4j=function(a,b){ty2j.call(this,b);this.Bc=null;this.qk=tyh(this.Xj,this);this.mj=tyh(this.Dn,this);ty3j(this,a)};tyj(ty4j,ty2j);var ty3j=function(a,b){var c=a.Bc;if(null!==c){c.onMessage.removeListener(a.qk);c.onDisconnect.removeListener(a.mj);var d={type:"ga",cn:a,port:c,Ap:tyb(void 0)?void 0:null};a.dispatchEvent(d)}a.Bc=b;null!==a.Bc&&(a.Bc.onMessage.addListener(a.qk),a.Bc.onDisconnect.addListener(a.mj),d={type:"fa",cn:a,port:b,Ap:tyb(c)?c:null},a.dispatchEvent(d))};
ty4j.prototype.Dn=function(){ty3j(this,null)};ty4j.prototype.Tk=function(a){if(null===this.Bc)tyG(this.mk,"Connection is lost before sending message: ["+a.message+"] message type: "+a.type,Error("Dummy error to create a stack trace"));else try{this.Bc.postMessage(a)}catch(b){tyF(this.mk,"EventPort exception from sending message: "+b.message)}};var ty5j=function(a){ty2j.call(this,a);this.La()};tyj(ty5j,ty2j);ty5j.prototype.La=function(){chrome.runtime.onMessage.addListener(tyh(this.Wn,this))};ty5j.prototype.Wn=function(a){this.Xj(a)};ty5j.prototype.Tk=function(a){chrome.runtime.sendMessage(a)};var ty6j=function(){throw Error("Do not instantiate directly");};ty6j.prototype.aj=null;ty6j.prototype.toString=function(){return this.content};var ty7j=function(){ty6j.call(this)};tyj(ty7j,ty6j);tyq&&tyr(8);(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=new b(String(a));void 0!==d&&(a.aj=d);return a}})(ty7j);(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=String(a);if(!a)return"";a=new b(a);void 0!==d&&(a.aj=d);return a}})(ty7j);var ty8j=!1,ty9j="",ty$j=function(a){a=a.match(/[\d]+/g);if(!a)return"";a.length=3;return a.join(".")};
(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&(ty8j=!0,a.description)){ty9j=ty$j(a.description);return}if(navigator.plugins["Shockwave Flash 2.0"]){ty8j=!0;ty9j="2.0.0.11";return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes["application/x-shockwave-flash"],ty8j=!(!a||!a.enabledPlugin))){ty9j=ty$j(a.enabledPlugin.description);return}try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");ty8j=!0;ty9j=
ty$j(b.GetVariable("$version"));return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");ty8j=!0;ty9j="6.0.21";return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),ty8j=!0,ty9j=ty$j(b.GetVariable("$version"))}catch(c){}})();var tyak=ty8j,tybk=ty9j;var tyck=function(){this.Zm=[];this.Po=!1;this.kf=[];this.bn=0},tydk;tyck.prototype.addListener=function(a,b){var c=String(this.bn++);this.kf.push({eventName:a,handler:b,key:c});return c};tyck.prototype.removeListener=function(a){for(var b=this.kf,c=0;c<b.length;c++)if(b[c].key==a)return b.splice(c,1),!0;return!1};tyck.prototype.Wh=function(){this.kf=[]};
var tyek=function(a,b,c){tyb(tydk)||(tydk=new tyck);var d=tydk;b={eventName:a,eventSrc:b||{},payload:c||{}};c=!1;if(d.Po)for(var d=d.kf,e=d.length,f=0;f<e&&f<d.length;f++){var g=d[f];g&&g.eventName==a&&(g="function"==typeof g.handler?g.handler:window[g.handler])&&(c|=g(b))}else d.Zm.push(b)},tyfk=["SJBpost"],tygk=tya;tyfk[0]in tygk||!tygk.execScript||tygk.execScript("var "+tyfk[0]);
for(var tyhk;tyfk.length&&(tyhk=tyfk.shift());)!tyfk.length&&tyb(tyek)?tygk[tyhk]=tyek:tygk=tygk[tyhk]&&tygk[tyhk]!==Object.prototype[tyhk]?tygk[tyhk]:tygk[tyhk]={};var tyik=function(a){tyR(this,a,-1,null,null)};tyj(tyik,tyQ);var tyjk=function(a){tyR(this,a,-1,null,null)};tyj(tyjk,tyQ);var tykk=function(a){tyR(this,a,-1,null,null)};tyj(tykk,tyQ);tykk.prototype.getId=function(){return tyS(this,1)};tykk.prototype.Lb=function(a){tyU(this,1,a)};tykk.prototype.getName=function(){return tyS(this,2)};tykk.prototype.Ie=function(a){tyU(this,2,a)};if(tys("webplayer.common")){var tylk=new ty8b;if(1!=tylk.fk){var tymk=ty0b(),tynk=tylk.aq;tymk.hb||(tymk.hb=[]);tymk.hb.push(tynk);tylk.fk=!0}};var tyok=function(a){return(a=a.exec(tydb))?a[1]:""},typk=function(){if(tyCf)return tyok(/Firefox\/([0-9.]+)/);if(tyq||tyzb||tyyb)return tyKb;if(tyGf)return tyok(/Chrome\/([0-9.]+)/);if(tyHf&&!(tyub()||tyn("iPad")||tyn("iPod")))return tyok(/Version\/([0-9.]+)/);if(tyDf||tyEf){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(tydb);if(a)return a[1]+"."+a[2]}else if(tyFf)return(a=tyok(/Android\s+([0-9.]+)/))?a:tyok(/Version\/([0-9.]+)/);return""}();var tyqk=tyyb?"opera":tyzb?"edge":tyq?"ie":tyCf?"firefox":tyDf?"iphone":tyEf?"ipad":tyFf?"android":tyGf?"chrome":tyHf?"safari":"unknown";var tysk=function(a){tyR(this,a,-1,tyrk,null)};tyj(tysk,tyQ);var tyrk=[1,2,3,4,5],tytk=function(a){var b=tyJi().Ff.R();tyU(a,4,b||[])},tyvk=function(a){tyR(this,a,25,tyuk,null)};tyj(tyvk,tyQ);var tyuk=[3,20],tywk=function(a){tyR(this,a,-1,null,null)};tyj(tywk,tyQ);tywk.prototype.setLocale=function(a){tyU(this,1,a)};var tyxk=function(a){tyR(this,a,-1,null,null)};tyj(tyxk,tyQ);tyxk.prototype.Rq=function(a){tyU(this,6,a)};tyxk.prototype.Sq=function(){var a=tyS(ty4,59);tyU(this,7,a)};
var tyyk=function(a){tyR(this,a,-1,null,null)};tyj(tyyk,tyQ);var tyAk=function(a){tyR(this,a,15,tyzk,null)};tyj(tyAk,tyQ);var tyzk=[3,5],tyBk=function(a){var b=tyi().toString();tyU(a,4,b)};var tyEk=function(a){this.Up=[];this.Xd=ty8g;"number"==typeof a?tyCk(this,a):tyDk(this,a)},tyFk=[/^\'(?:[^\']|\'\')*(\'|$)/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/],tyDk=function(a,b){for(tyGk&&(b=b.replace(/\u200f/g,""));b;){for(var c=b,d=0;d<tyFk.length;++d){var e=b.match(tyFk[d]);if(e){var f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/\'\'/g,"'")));a.Up.push({text:f,type:d});
break}}if(c===b)throw Error("Malformed pattern part: "+b);}},tyCk=function(a,b){var c;if(4>b)c=a.Xd.Mi[b];else if(8>b)c=a.Xd.Ni[b-4];else if(12>b)c=a.Xd.Ml[b-8],c=c.replace("{1}",a.Xd.Mi[b-8]),c=c.replace("{0}",a.Xd.Ni[b-8]);else{tyCk(a,10);return}tyDk(a,c)},tyGk=!1;chrome.i18n.getMessage("3125342991297920614");chrome.i18n.getMessage("7224832103566723854");chrome.i18n.getMessage("828700836558117968");chrome.i18n.getMessage("4071581399160046214");chrome.i18n.getMessage("7105416082849293719");chrome.i18n.getMessage("7110393208916703749");chrome.i18n.getMessage("1218504303426384579");chrome.i18n.getMessage("5480320305561124595");chrome.i18n.getMessage("5350246280596757721");chrome.i18n.getMessage("4210934092144627539");chrome.i18n.getMessage("2840006222747077107");
chrome.i18n.getMessage("1781759902625939771");chrome.i18n.getMessage("5464364716831469679");chrome.i18n.getMessage("88781093248476711");chrome.i18n.getMessage("1595478688335662057");chrome.i18n.getMessage("3936240281193464170");chrome.i18n.getMessage("445149490695787423");chrome.i18n.getMessage("5593848105713936399");chrome.i18n.getMessage("5432330868773114140");chrome.i18n.getMessage("1712333098917352630");chrome.i18n.getMessage("6943941659433003765");chrome.i18n.getMessage("730022297859142476");
chrome.i18n.getMessage("762389150316771008");chrome.i18n.getMessage("5497512316841934820");new tyEk(2);chrome.i18n.getMessage("7192513315706728552");chrome.i18n.getMessage("953268105555355822");chrome.i18n.getMessage("6523257069333866790");chrome.i18n.getMessage("1865818889600889051");chrome.i18n.getMessage("1229167447861422460");chrome.i18n.getMessage("192481666606780833");chrome.i18n.getMessage("2982463607788408741");chrome.i18n.getMessage("5671499827182863671");chrome.i18n.getMessage("6485379744416240146");
chrome.i18n.getMessage("7535122927261158198");chrome.i18n.getMessage("8892908795692466458");chrome.i18n.getMessage("4052021127566304266");chrome.i18n.getMessage("1220984280262077870");chrome.i18n.getMessage("6233799104785293347");chrome.i18n.getMessage("2085941577249285555");chrome.i18n.getMessage("6531471505721570155");chrome.i18n.getMessage("5004312405043027351");chrome.i18n.getMessage("1664100143082435029");chrome.i18n.getMessage("2214224657661107347");chrome.i18n.getMessage("310152014457055522");
chrome.i18n.getMessage("763998168115480566");chrome.i18n.getMessage("776736242214904151");chrome.i18n.getMessage("7136816542440442290");chrome.i18n.getMessage("7743528314734813641");chrome.i18n.getMessage("7067908984080925888");chrome.i18n.getMessage("2924201210722864904");chrome.i18n.getMessage("6704452266937792847");chrome.i18n.getMessage("1688117822806275177");chrome.i18n.getMessage("756024699361489239");chrome.i18n.getMessage("8910998670732377227");chrome.i18n.getMessage("5827343664961087180");
chrome.i18n.getMessage("6202991870072245705");chrome.i18n.getMessage("309901418176428732");chrome.i18n.getMessage("3323193679372503780");chrome.i18n.getMessage("3583962010571084681");chrome.i18n.getMessage("2728721019095728485");chrome.i18n.getMessage("6652649548557498169");chrome.i18n.getMessage("6932671848756303275");chrome.i18n.getMessage("851623407011365974");chrome.i18n.getMessage("2357805327369816634");chrome.i18n.getMessage("3693467228074689327");chrome.i18n.getMessage("2856670286248433202");
chrome.i18n.getMessage("2665785172586453916");chrome.i18n.getMessage("2537475974842549685");new tyEk(11);new tyEk(3);chrome.i18n.getMessage("6652787256443519035");chrome.i18n.getMessage("2038618429165152799");chrome.i18n.getMessage("5594762259680838005");chrome.i18n.getMessage("1686917835491599951");chrome.i18n.getMessage("8385464685117997940");chrome.i18n.getMessage("5003850562831597565");chrome.i18n.getMessage("8961985815150856927");chrome.i18n.getMessage("1026450251988549367");chrome.i18n.getMessage("5971001229987621398");chrome.i18n.getMessage("6718773735728815040");chrome.i18n.getMessage("9024489874326845912");chrome.i18n.getMessage("6504449653938065974");
chrome.i18n.getMessage("7116872031464114568");chrome.i18n.getMessage("5518817744725858296");chrome.i18n.getMessage("7009828133009731416");chrome.i18n.getMessage("8325100368677049569");chrome.i18n.getMessage("5049432650728491454");chrome.i18n.getMessage("848933194605193751");var tyHk=function(){switch(ty4.Ub()){case tygj.bm:return 1;case tygj.Jl:return 3;case tygj.Ll:return 2;default:return 0}};var tyIk=function(a){tyR(this,a,-1,null,null)};tyj(tyIk,tyQ);var tyJk=function(){this.zd=[];this.Og=!1;this.Nf="";this.Pf={Kh:null,kv:null,fv:null,gv:null,jv:3,zr:0};this.Vi=ty4h().on()||"";this.Ae=[];this.Sa=new tyZi(1E3,3E4);this.w=null};tyra(tyJk);tyJk.prototype.initialize=function(a,b,c,d,e,f,g,h,k){this.Og=!0;this.Nf=tyff(tyff(tygf(a),"format","json"),"u",b).toString();this.Nb=k||null;tya.setInterval(tyh(this.flush,this),6E4);null!=g?g():tyv(tya,"beforeunload",this.flush,!1,this)};tyJk.prototype.setPlayerType=function(){};
tyJk.prototype.setEnabled=function(a){this.Og=a};var tyLk=function(a,b,c,d){var e=new tykk;e.Lb(b);e.Ie(c);tyU(e,3,d);tyU(e,4,1);b=new tyik;tyU(b,1,2);tyX(b,3,e);e=new tyIk;tyX(e,8,b);tyKk(a,e)},tyKk=function(a,b){var c=tyi();if(a.Og){a.Pf.Kh?(tyU(b,7,Number(a.Pf.Kh)),tyU(b,11,a.Pf.Kh),tyU(b,6,a.Pf.zr)):tyU(b,6,tyHk());if(b&&a.Nf){var d=new tyvk,e=-60*(new tyah).getTimezoneOffset();tyU(d,15,e);b=b.Uk();tyU(d,8,b);tyU(d,1,String(c));a.zd.push(d)}10<=a.zd.length&&a.flush()}};ty=tyJk.prototype;
ty.flush=function(){if(this.zd.length){var a=new tysk;tytk(a);this.zd.forEach(function(b){tyX(b,7,a)});var b=new tyAk,c=new tyxk;c.Rq(this.Vi);var d=new tyyk;tyU(d,1,1);tyX(d,3,c);tyX(b,1,d);var e=new tywk;e.setLocale("en");tyU(e,2,tyqk);tyU(e,3,typk);tyak&&tyU(e,4,tybk);tyX(d,9,e);null!=tyS(ty4,59)&&c.Sq();tyU(b,2,1);tyBk(b);tyY(b,3,this.zd);this.zd=[];b=tyHe(tyW(b));this.Ae.push(b);this.Rh()}};ty.Rh=function(){if(!this.w&&0!=this.Ae.length){var a=this.Ae.pop();this.Fe(a)}};
ty.Fe=function(a){this.w=new tyJ;tyzc(this.w,"complete",tyh(this.Tn,this,a));this.w.vc=Math.max(0,0);this.w.Ji=!0;null!=this.Nb?tyQi(this.Nb,this.w).addCallback(function(){this.w.send(this.Nf,"POST",a)},this):this.w.send(this.Nf,"POST",a)};ty.Tn=function(a,b){this.w=null;200!=b.target.getStatus()?(this.Ae.push(a),10>this.Sa.Td&&(tyD(tyh(this.Rh,this),this.Sa.Vd,this),ty_i(this.Sa))):(this.Sa.reset(),this.Ae.length&&this.Rh())};ty.Xk=function(a){this.Vi=a};var tyMk=function(a,b,c){tyu.call(this,a);this.newValue=c};tyj(tyMk,tyu);var ty6=function(){tyw.call(this);this.b=tys("webplayer.Preferences");var a=window.initialPreferences,b,c;null!=a&&(b=tyGe(a.playback),c=tyGe(a.general));this.Ha={playback:new tyIh(b),general:new tyHh(c)};tyT(this.Ha.playback,3,1)||(tyT(this.Ha.playback,1,!1)?this.Ha.playback.setShuffle(2):this.Ha.playback.setShuffle(1));this.Sa=new tyZi(5,36E5);this.lh=!1;this.hn=new ty0(tyh(this.Ug,this));a="chrome-extension:"==tya.location.protocol||!!tyS(ty4,36)||!!ty4.Vb();this.Tg=null==window.initialPreferences&&
a?this.Ug():null;this.Xp=!1};tyj(ty6,tyw);tyra(ty6);ty6.prototype.Ug=function(){if(tyS(ty4,42)||!ty4.Vb()&&!tyS(ty4,36))return tybd(this.Ha);var a=tydd();this.Th=tyOj(tyh(function(b,c){this.ih(c);a.resolve()},this),tyh(function(b){this.hh(b);a.resolve()},this));this.Th.vc=Math.max(0,1E6);return a.$p};ty6.prototype.ih=function(a){tyH(this.b,"Fetched preferences from the server.");var b=tyV(a,tyIh,1);a=tyV(a,tyHh,2);this.Ha.playback=b;this.Ha.general=a};
ty6.prototype.hh=function(a){null!=this.Th&&this.Th.V();7==a.getErrorCode()?(tyH(this.b,"XHR error when fetching preferences"),this.lh=!0):(ty_i(this.Sa),tyH(this.b,"Error fetching preferences, using default preferences, retry count: "+this.Sa.Td),this.hn.start(this.Sd()))};ty6.prototype.Sd=function(){return tyti(this.Sa.Vd,10)};var tyNk=function(){var a=ty6.getInstance();a.lh&&(a.lh=!1,a.Tg=a.Ug());return null===a.Tg?tybd(a.Ha):a.Tg.then(tyh(function(){return this.Ha},a))};
ty6.prototype.setShuffle=function(a,b){this.Xp&&(a=1);a!=tyT(this.Ha.playback,3,1)&&3!=a&&(tyT(this.Ha.playback,3,1),this.Ha.playback.setShuffle(a),a=1!=tyT(this.Ha.playback,3,1),tyU(this.Ha.playback,1,a),"REMOTE"!=b&&!tyS(ty4,42)&&(b=this.Ha.playback,tyb(b)||tyb(void 0))&&(a=new tyii,tyb(b)&&a.Ke(b),tyb(void 0)&&a.He(void 0),tyJj.getInstance().call("modifypreferencesproto",a,tyji,tyc,tyc,1)),this.dispatchEvent(new tyMk("oa",0,tyT(this.Ha.playback,3,1))),this.dispatchEvent("ma"))};
var tyOk=function(a,b){a.Ha=b};var ty7=function(a,b){tyWj.call(this,a);this.yk=b};tyj(ty7,tyZj);ty7.prototype.sendMessage=function(a,b,c){null!=this.yk&&!this.yk(a,this.ma())||ty7.Qa.sendMessage.call(this,a,b,c)};
var tyPk=function(a,b,c){var d=new tyTh;tyY(d,1,b);d.bl(c);a.sendMessage(103,d)},tyQk=function(a,b,c,d,e,f){var g=new ty0h;tyd(b)&&null!==c?(g.kl(b),tyX(g,2,c),tyU(g,8,!0)):tyU(g,8,!1);tyd(d)&&null!==e?(g.Yf(d),tyX(g,1,e),tyU(g,7,!0)):tyU(g,7,!1);null===f?tyU(g,9,!1):(g.hi(f),tyU(g,9,!0));a.sendMessage(101,g)},tyRk=function(a,b){var c=new tyvh;tyU(c,2,b);a.sendMessage(104,c)},tySk=function(a,b,c){var d=new tyRh;d.Ge(c);tyY(d,2,b);a.sendMessage(109,d)};ty7.prototype.Zh=function(){this.sendMessage(107)};
ty7.prototype.nn=function(){this.sendMessage(106)};ty7.prototype.focusWindow=ty7.prototype.nn;ty=ty7.prototype;ty.ng=function(a){var b=new tysi;tyX(b,1,a);this.sendMessage(15,b)};ty.og=function(a,b){var c=new tyoi;tyX(c,1,a);c.ii(b);this.sendMessage(209,c)};ty.xc=function(a,b){var c=new tyzh;c.hi(a);tyU(c,2,b);this.sendMessage(307,c)};ty.rg=function(a,b){var c=new tymi;c.ll(a);c.Zf(b);this.sendMessage(313,c)};
ty.Bi=function(a,b,c){var d=new tywh;a&&d.jl(a);null!=b&&tyU(d,2,b);null!=c&&d.al(c);this.sendMessage(33,d)};var tyTk=new tyN("y"),tyUk=new tyN("z"),tyVk=new tyN("A"),tyWk=new tyN("B"),tyXk=new tyN("C"),tyYk=new tyN("D"),tyZk=new tyN("E"),ty_k=new tyN("F"),ty0k=new tyN("G"),ty1k=new tyN("H"),ty2k=new tyN("I"),ty3k=new tyN("J"),ty4k=new tyN("L"),ty5k=new tyN("M"),ty6k=new tyN("N"),ty7k=new tyN("O"),ty8k=new tyN("P"),ty9k=new tyN("Q"),ty$k=new tyN("R"),tyal=new tyN("S");var tybl=function(){tyw.call(this);this.Re=[];this.Jd=this.Zb=null;this.th=!1};tyj(tybl,tyw);var tycl=function(a,b){a.Re.push(b);1==a.Re.length&&(a.Jd=b)},tydl=function(a){a.th=!0;tyb(a.Oi)&&tya.clearTimeout(a.Oi);a.Oi=tyD(function(){this.th=!1},1500,a)},tyel=function(a){tyu.call(this,"ra");this.hr=a};tyj(tyel,tyu);var tyfl=function(){var a=new tyy;chrome.permissions.contains({permissions:["background"]},function(b){a.callback(b)});return a},tygl=function(a){var b=new tyy;(a?chrome.permissions.request:chrome.permissions.remove)({permissions:["background"]},function(a){a?b.callback():b.g()});return b};tygf("/music/listen");var tyhl=function(){var a="chromeapp_"+chrome.runtime.getManifest().version,b=chrome.runtime.getManifest().build_mode;b&&(a+="_"+b);return a};var tyjl=function(a){tyw.call(this);this.b=tys("chromeapp.background.DragAndDropFileManager");this.Ba=a.get(ty1g);this.Kg=new tyo;tyI(this.b,"Initializing FileTransferHandler.");a=ty6g(this.Ba);this.Hb=new tyzg(new tyqg,a);tyil(this);this.Lo=a};tyj(tyjl,tyw);
var tyil=function(a){a.Hb.listen("f",a.Lh,!1,a);a.Hb.listen("g",function(a){tyH(this.b,"Drag and drop in progress.");this.dispatchEvent({type:"ta",Ih:a.Ih})},!1,a);a.Hb.listen("i",function(){tyH(this.b,"Drag and drop completed.");this.dispatchEvent("ua")},!1,a)};tyjl.prototype.Lh=function(a){tyH(this.b,"File transfer finished: "+a.od);this.dispatchEvent(new tyu("sa"))};
tyjl.prototype.Zi=function(a){var b=new tyy;b.addCallback(this.Ba.bq,this.Ba);b.addCallback(function(b){return b>a?0:a-b},this);tyud(b,function(a){tyF(this.b,"Cannot check storage space usage: "+a.message);return tyB(0)},this);b.callback();return b};
var tykl=function(a,b,c){a.dispatchEvent({type:"va",filename:b,wq:c})},tyll=function(a,b,c,d,e){var f=tyS(b,6),g=b.Gc(),h=new tyy;tyA(h,a.Lo);h.addCallback(tyh(a.Zi,a,f));h.addCallback(function(a){0<a?(tykl(this,g,a),this.Kg.set(g,{Va:b,yp:c,Ld:d,Mb:e})):tyJg(this.Hb,b,c,d,e)},a);h.callback()},tyml=function(a,b,c,d){var e=new tyy,f=tyh(function(){this.Hb.Uh(!1);tyJg(this.Hb,g.Va,g.yp,g.Ld,g.Mb);this.Kg.remove(b)},a),g=a.Kg.get(b);tyb(g)?d>=c?(f(),e.callback()):a.Zi(tyS(g.Va,6)).addCallback(function(a){0<
a?tyD(function(){tykl(this,b,a);e.callback()},1E3,this):(f(),e.callback())},a):(tyF(a.b,"Cannot find the delayed file receiving request."),e.g())};var tyol=function(a,b){tyw.call(this);this.o=a.get(tyrf);this.b=tys("chromeapp.background.LocalSettings");this.qe=new tycj(b);this.Db=new tyo;this.Bm=tynl(this)};tyj(tyol,tyw);
var typl={Ir:"lsAlwaysUseDefaultDownloadLocation",Lr:"lsAppActivated",bs:"lsDefaultDownloadLocationId",gs:"lsDragAndDropActivated",Ms:"lsLastTrackFailureLoggingTime",Qs:"miniPlayerAlwaysOnTop",cu:"lsSyncMusicEnabled",nm:"lsUploadStatusIndicatorDismissed",Qu:"lsUserAddedMusicSourceIds",Su:"lsUserSelectedDownloadDirId",Yu:"lsVolume",St:"lsSJFEBase"},tyql=function(a){a.qe.clear().addCallback(tyh(function(){this.Db.clear();tyH(this.b,"LocalSettings cleared")},a))},tynl=function(a){var b=new tyy;ty7a(typl).forEach(function(c){b.addCallback(tyh(a.qe.get,
a.qe,c,null));b.addCallback(function(a){this.Db.set(c,a)},a)});b.callback();return b};
tyol.prototype.wb=function(a,b){if(!tyb(b))return tyzd(Error("LocalSettings can not store undefined value."));if(this.Db.get(a)===b)return tyH(this.b,"Setting is already: "+a+" = "+b),tyB(b);this.Db.set(a,b);var c=new tyy;c.addCallback(tyh(this.qe.set,this.qe,a,b));tyz(c,function(){tyH(this.b,"Update setting: "+a+"="+b);var c;switch(a){case "lsAlwaysUseDefaultDownloadLocation":c="wa";break;case "lsAppActivated":c="xa";break;case "lsDefaultDownloadLocationId":c="ya";break;case "lsLastTrackFailureLoggingTime":c=
"Aa";break;case "lsDragAndDropActivated":c="za";break;case "lsSyncMusicEnabled":c="Ca";break;case "lsUserSelectedDownloadDirId":c="Ga";break;case "lsSJFEBase":c="Ia";break;case "lsUserAddedMusicSourceIds":c="Fa";break;case "miniPlayerAlwaysOnTop":c="Ba";break;case "lsUploadStatusIndicatorDismissed":c="Ea";break;case "lsVolume":c="Ha"}this.dispatchEvent({type:c,value:b})},function(b){tyG(this.b,"Unable to set: "+a+": "+b)},this);c.callback();return c};
tyol.prototype.Wb=function(a){var b=new tyy;tyA(b,this.Bm);b.addCallback(function(){var b=this.Db.get(a);tyH(this.b,a+"="+b);return b},this);b.callback();return b};
var tyrl=function(a,b){var c=new tyy;c.addCallback(tyh(a.wb,a,"lsSyncMusicEnabled",b));c.addCallback(tyfl);c.addCallback(function(a){var b=this.Db.get("lsSyncMusicEnabled");a!==b?(tyO(this.o,"Background","Requesting Background Permission Failed"),tyH(this.b,"Chrome background permission was not changed to "+b+" to match SYNC_MUSIC_ENABLED")):tyO(this.o,"Background","Requesting Background Permission Succeeded")},a);c.callback()},tysl=function(a){var b=new tyy;b.addCallback(tyh(a.Wb,a,"lsSyncMusicEnabled"));
b.addCallback(function(a){return null===a?!0:a});b.callback();return b},tyul=function(a){var b=tysl(a);tytl(a).addCallback(function(a){b.addCallback(function(b){return b&&a},this)},a);return b},tytl=function(a){var b=new tyy;b.addCallback(tyh(a.Wb,a,"lsAppActivated"));b.addCallback(function(a){return null===a?!1:a});b.callback();return b},tyvl=function(a){var b=new tyy;b.addCallback(tyh(a.Wb,a,"lsDragAndDropActivated"));b.addCallback(function(a){return null===a?!1:a});b.callback();return b};
tyol.prototype.Ge=function(a){return this.wb("lsDefaultDownloadLocationId",a)};tyol.prototype.rd=function(){var a=new tyy;a.addCallback(tyh(this.Wb,this,"lsDefaultDownloadLocationId"));a.addCallback(function(a){return a});a.callback();return a};var tywl=function(a,b){a.wb("lsAlwaysUseDefaultDownloadLocation",b)},tyxl=function(a){var b=new tyy;b.addCallback(tyh(a.Wb,a,"lsAlwaysUseDefaultDownloadLocation"));b.addCallback(function(a){return a});b.callback();return b};
tyol.prototype.Rj=function(){var a=new tyy;a.addCallback(tyh(this.Wb,this,"lsUserSelectedDownloadDirId"));a.addCallback(function(a){return a});a.callback();return a};tyol.prototype.An=function(){var a=new tyy;a.addCallback(tyh(this.Wb,this,"lsUserAddedMusicSourceIds"));a.addCallback(function(a){return null===a?[]:a});a.callback();return a};
var tyyl=function(a,b){return a.wb("lsUserAddedMusicSourceIds",b)},tyzl=function(a){var b=new tyy;b.addCallback(tyh(a.Wb,a,"lsLastTrackFailureLoggingTime"));b.addCallback(function(a){return null===a?null:a});b.callback();return b},tyAl=function(a,b){a.wb("lsUploadStatusIndicatorDismissed",b)},tyBl=function(a){var b=new tyy;b.addCallback(tyh(a.Wb,a,"lsUploadStatusIndicatorDismissed"));b.addCallback(function(a){return null===a?!1:a});b.callback();return b};var tyCl=function(a,b,c,d,e,f,g){tyw.call(this);this.Fd=a;this.Oa=d;this.yi=b+c;a=new tymh;tyU(a,1,d);var h=d.lastIndexOf("/");-1!=h?d=d.substr(h+1):(h=d.lastIndexOf("\\"),-1!=h&&(d=d.substr(h+1)));tyU(a,5,d);a.fl(this.yi);tyU(a,3,e);this.Nc=a;this.Bd=f;this.Qh=tyJk.getInstance();this.jn=b;this.sr=c;this.mp=e;this.o=g;this.ei=null;this.di=0;this.lj=null;this.Wd=0;this.b=tys("chromeapp.background.MusicSourceHandler")};tyj(tyCl,tyw);var tyDl=function(a){return{xi:a.yi,name:a.Oa,root:a.Fd}};
tyCl.prototype.ma=function(){return this.yi};var tyFl=function(a){var b=new tyy;a.Bd.Jb("Ka",function(a){b.callback(a.Om)},!1,a);tyEl(a.Bd);return b},tyGl=function(a){a.Wd&&(tyBc(a.lj),a.Bd.pause(),a.Wd=0);tyH(a.b,a.Oa+" scan stopped. state: IDLE")};
tyCl.prototype.Ep=function(a){var b=a.wp;tyH(this.b,"Found "+b+" music files from "+this.Oa);tyH(this.b,"Found "+a.xp+" playlist files from "+this.Oa);tyvf(this.o,this.ei);this.ei=null;tyO(this.o,"Uploads","Music Source File Count",void 0,b);a=this.Qh;var c=tyi()-this.di,d=new tyjk;tyU(d,1,b);tyU(d,2,c);c=new tyik;tyU(c,1,1);tyX(c,2,d);d=new tyIk;tyX(d,8,c);tyKk(a,d);this.di=0;tyU(this.Nc,4,b);this.Wd=0;tyH(this.b,this.Oa+" scan completed. state: IDLE");this.dispatchEvent("La")};
var tyIl=function(a){var b=a.Fd,c=a.jn,d=a.sr,e=a.Oa,f=a.mp,g;g=a.Bd;g=new tyHl(g.Fd,g.Oa,g.o);return new tyCl(b,c,d,e,f,g,a.o)};var tyHl=function(a,b,c){tyw.call(this);this.Fd=a;this.Oa=b;this.o=c;this.Lf=this.ve=0;this.hc=[];this.Md=[];this.tc=this.kc=0;this.b=tys("chromeapp.background.MusicSourceScanner");this.Dk=new ty0(tyh(this.Mg,this),1500)};tyj(tyHl,tyw);var tyJl="mp3 m4a m4b m4p aac wma flac ogg oga alac wav".split(" "),tyKl=["xml"],tyEl=function(a){tyH(a.b,"Starts a quick scan on "+a.Oa);0==a.kc&&0==a.tc&&(tyLl(a),a.hc.push(a.Fd));a.tc=1;a.Dk.start();tyMl(a)},tyLl=function(a){a.ve=0;a.Lf=0;ty2a(a.hc);ty2a(a.Md)};
tyHl.prototype.pause=function(){1==this.kc&&(this.kc=2);1==this.tc&&(this.tc=2)};
var tyMl=function(a){if(1==a.kc||1==a.tc)if(0==a.hc.length&&0==a.Md.length)1==a.tc&&a.Mg(),1==a.kc&&(0==a.ve&&(a.Lf=0),a.dispatchEvent({type:"Ja",wp:a.ve,xp:a.Lf}),tyLl(a),a.kc=0);else if(0==a.Md.length){tyI(a.b,a.hc.length+" directories to go in "+a.Oa);var b=a.hc.shift();tyH(a.b,"Iterating over dir "+b.ra.fullPath+" from source "+a.Oa);tyz(b.Cf(),tyh(a.$o,a),tyh(a.Zo,a))}else a:if(b=a.Md.shift(),b.ra.fullPath){tyI(a.b,"process file "+b.ra.fullPath+" in "+a.Oa);if(tyNl(b,tyJl)){if(a.ve++,1==a.tc&&
(b=1==a.kc,a.Mg(),!b))break a}else tyNl(b,tyKl)&&a.Lf++;tyMl(a)}else tyG(a.b,"Found FileEntry missing fullPath.")};tyHl.prototype.$o=function(a){var b=this;a.forEach(function(a){a.isFile()?b.Md.push(a):a.isDirectory()&&b.hc.unshift(a)});tyMl(this)};tyHl.prototype.Zo=function(a){tyO(this.o,"Uploads","Could not read directory entries");tyG(this.b,"Error reading a directory: "+a.message);tyMl(this)};var tyNl=function(a,b){a=a.getName();var c=a.lastIndexOf(".");return 1>c?!1:ty1a(b,a.substring(c+1).toLowerCase())};
tyHl.prototype.Mg=function(){this.Dk.stop();this.tc=0;var a=0!=this.ve;tyH(this.b,this.Oa+(a?" contains music file":" does not contain music file"));this.dispatchEvent({type:"Ka",Om:a})};var tyOl=function(a,b){tyw.call(this);this.Qh=a;this.o=b.get(tyrf);this.lc=new tyo;this.kh=!1;this.Gj=new tyo;this.Eh=new tyo;tyb(chrome.mediaGalleriesPrivate)&&tyDb||tyb(chrome.mediaGalleries.addGalleryWatch)?(tyb(chrome.mediaGalleries.addGalleryWatch)?chrome.mediaGalleries.onGalleryChanged.addListener(tyh(this.Rn,this)):chrome.mediaGalleriesPrivate.onGalleryChanged.addListener(tyh(this.Qn,this)),tyI(this.b,"Added listener for gallery content changes.")):tyH(this.b,"Listen to gallery content changes not supported.")};
tyj(tyOl,tyw);ty=tyOl.prototype;ty.b=tys("chromeapp.background.MediaGalleryManager");
ty.ki=function(){var a=new tyy;chrome.mediaGalleries.addUserSelectedFolder(tyh(function(b,c){tyBa(c)?a.addCallback(function(){this.dispatchEvent("Na")},this):(a.addCallback(tyh(this.ah,this,!0)),a.addCallback(function(){var a;this.lc.forEach(function(b){b.fileSystem.getName()==c&&(a=b)});if(tyb(a)){tyLk(this.Qh,a.metadata.galleryId,a.metadata.name,a.fileSystem.getName());var b={type:"Na",Dq:tyPl(this,a)};this.dispatchEvent(b)}else tyF(this.b,"Cannot obtain gallery ID for the added music source."),
this.dispatchEvent("Na")},this));a.callback()},this));return a};
ty.ah=function(a){if(this.kh&&!a)return tyB(this.lc);a=new tyy;a.addCallback(tyh(this.rq,this,"no"));a.addCallback(function(a){var b=this,d=this.lc.clone();this.lc.clear();a.forEach(function(a){var c=chrome.mediaGalleries.getMediaFileSystemMetadata(a);a={mv:a,fileSystem:new tygg(a),metadata:{name:c.name,galleryId:c.galleryId,isMediaDevice:c.isMediaDevice,deviceId:c.deviceId},Qo:b.kh&&!d.U(c.galleryId)};b.lc.set(a.metadata.galleryId,a);tyI(b.b,"Filesystem Dump: fs.name="+a.fileSystem.getName()+", fs.root.name="+
tyfg(a.fileSystem).getName()+", fs.root.fullPath="+tyfg(a.fileSystem).ra.fullPath+", isNewGallery="+a.Qo);tyH(b.b,"MediaGallery: name="+a.metadata.name+", galleryId="+a.metadata.galleryId+", isMediaDevice="+a.metadata.isMediaDevice+", deviceId="+a.metadata.deviceId)});this.kh=!0;return this.lc},this);a.callback();return a};ty.rq=function(a){var b=new tyy;chrome.mediaGalleries.getMediaFileSystems({interactive:a},function(a){b.callback(a)});return b};ty.Qn=function(a){tyQl(this,a.galleryId)};
ty.Rn=function(a){"contents_changed"==a.type&&tyQl(this,a.galleryId)};
var tyQl=function(a,b){tyI(a.b,"Received change on gallery with ID "+b);b=a.Gj.get(b);tyb(b)&&a.dispatchEvent({type:"Ma",iv:b})},tyRl=function(a,b){if(tyb(chrome.mediaGalleriesPrivate)&&tyDb||tyb(chrome.mediaGalleries.addGalleryWatch)){var c=a.Eh.get(b);b=tyh(function(a){a.success||tyG(this.b,"Could not add gallery watch for gallery with ID "+c)},a);tyb(c)?(tyb(chrome.mediaGalleries.addGalleryWatch)?chrome.mediaGalleries.addGalleryWatch:chrome.mediaGalleriesPrivate.addGalleryWatch)(c,b):tyG(a.b,"The music source to watch is not based on media gallery.")}};
tyOl.prototype.ee=function(){var a=new tyy;a.addCallback(tyh(this.ah,this,!1));a.addCallback(function(){var a=this,c=[],d=this.lc.R();if(0==d.length)return c;for(var e=0;e<d.length;e++)if(2==("iTunes"==d[e].metadata.name?2:1)){c.push(tyPl(this,d[e]));break}0==c.length&&d.forEach(function(b){return c.push(tyPl(a,b))});return c},this);a.callback();return a};
var tyPl=function(a,b){var c=b.metadata.galleryId,d=tyfg(b.fileSystem),e=b.metadata.name,f=new tyHl(d,e,a.o);b=new tyCl(d,"MG",c,e,"iTunes"==b.metadata.name?2:1,f,a.o);d=b.ma();a.Eh.set(d,c);a.Gj.set(c,d);return b};tyOl.prototype.Hg=function(a){var b=new tyy;b.addCallback(tyh(this.ah,this,!0));b.addCallback(function(){var b=this,d=[];a.forEach(function(a){a=b.lc.get(a);tyb(a)&&d.push(tyPl(b,a))});return d},this);b.callback();return b};var ty8=function(a){tyw.call(this);this.j=a.get(tyZk);this.sc=a.get(ty2k);this.mb=new tyo;this.Ma=new tyo;this.sd=null;this.Ch=tySl(this);this.La();this.b=tys("chromeapp.background.MusicSourcesManager");tyTl(this)};tyj(ty8,tyw);
var tySl=function(a){var b=new tyy;b.addCallback(a.j.An,a.j);b.addCallback(function(a){var b=[];tyl(a,function(a){isNaN(tyRa(a))?0!=a.lastIndexOf("MG",0)||isNaN(tyRa(a.substring(2)))?tyG(this.b,"Cannot load unrecognizable music source ID."):b.push(a.substring(2)):b.push(a)},this);if(0!=b.length)return this.Hg(b)},a);b.callback();return b};ty8.prototype.La=function(){this.sc.listen("Ma",function(){tyH(this.b,"Music source changed, rescan.");this.dispatchEvent("Qa")},!1,this)};
ty8.prototype.ki=function(){this.sc.Jb("Na",function(a){a=a.Dq;tyb(a)&&!this.mb.U(a.ma())&&(this.mb.set(a.ma(),a),tyRl(this.sc,a.ma()),this.dispatchEvent("Pa"),tyyl(this.j,this.mb.wa()))},!1,this);this.sc.ki()};var tyUl=function(a){var b=new tyy;tyA(b,a.Ch);b.addCallback(function(){var a=new tyo;this.mb.forEach(function(b,c){a.set(c,b.Nc)},this);return a},a);b.callback();return b};
ty8.prototype.Sj=function(a){var b=new tyy;tyA(b,this.Ch);b.addCallback(function(){var b=[];this.mb.forEach(function(c){a&&!tyKi(8319)&&2==tyT(c.Nc,3,1)||b.push(tyDl(c))},this);return b},this);b.callback();return b};ty8.prototype.rn=function(){var a=new tyy;a.addCallback(function(){return this.ee(!0)},this);a.addCallback(function(){var a=[];this.Ma.forEach(function(b){tyKi(8319)&&2==tyT(b.Nc,3,1)&&a.push(tyDl(b))},this);return a},this);a.callback();return a};
ty8.prototype.ee=function(a,b){var c=new tyy;a&&null===this.sd?c.addCallback(function(){return this.sd=tyVl(this)},this):null===this.sd||tyA(c,this.sd);c.addCallback(function(){a&&(this.sd=null);var c=new tyo;this.Ma.forEach(function(a,b){c.set(b,a.Nc)},this);b&&tyWl(this);return c},this);c.callback();return c};var tyVl=function(a){var b=new tyy;b.addCallback(a.eq,a);b.addCallback(function(){var a=this.Ma.wa();if(1!=a.length||2!=tyT(this.Ma.get(a[0]).Nc,3,1))return this.Ci()},a);b.callback();return b};
ty8.prototype.eq=function(){this.Ma.forEach(function(a){a.Wh();tyGl(a)},this);var a=new tyy;a.addCallback(function(){return this.sc.ee()},this);a.addCallback(function(a){var b=this,d=new tyo;a.forEach(function(a){var c=a.ma();b.Ma.U(c)?(d.set(c,b.Ma.get(c)),b.Ma.remove(c)):d.set(c,a)});this.Ma.clear();this.Ma=d},this);a.callback();return a};
ty8.prototype.Ci=function(){var a=this,b=new tyy;this.Ma.wa().forEach(function(c){var d=tyFl(a.Ma.get(c)).addCallback(function(a){a||this.Ma.remove(c);return tyB()},a);tyA(b,d)});b.callback();return b};
var tyWl=function(a){var b=a.Ma.Ea(),c=function(){0==--b&&this.dispatchEvent("Oa")};a.Ma.forEach(function(a){a.Jb("La",c,!1,this);0!=a.Wd?tyGl(a):tyU(a.Nc,4,-1);a.ei=a.o.ig("Uploads","Music Source Scan Time",void 0,100);a.lj=a.Bd.Jb("Ja",a.Ep,!1,a);a.Wd=1;a.di=tyi();tyH(a.b,a.Oa+": DIRECTORY_SCAN started");a=a.Bd;tyH(a.b,"Starts a full scan (restart = true) on "+a.Oa);tyLl(a);0==a.hc.length&&0==a.Md.length&&a.hc.push(a.Fd);a.kc=1;tyMl(a)},a)};
ty8.prototype.Ei=function(){var a=new tyy;tyA(a,this.Ch);a.addCallback(function(){this.Ma.forEach(function(a,c){this.mb.set(c,tyIl(a))},this);this.dispatchEvent("Pa");return tyyl(this.j,this.mb.wa())},this);a.callback();return a};
ty8.prototype.Xh=function(a){var b=new tyy;b.addCallback(function(){var b=this.mb.get(a);tyb(b)&&(this.mb.remove(a),tyb(chrome.mediaGalleries.removeGalleryWatch)&&(b=this.sc.Eh.get(a),chrome.mediaGalleries.removeGalleryWatch(b)));return tyyl(this.j,this.mb.wa())},this);b.addCallback(function(){this.dispatchEvent("Pa")},this);b.callback();return b};
ty8.prototype.Hg=function(a){var b=new tyy;b.addCallback(function(){return this.sc.Hg(a)},this);b.addCallback(function(a){var b=this;a.forEach(function(a){b.mb.set(a.ma(),a);tyRl(b.sc,a.ma())});this.dispatchEvent("Pa");return tyyl(this.j,this.mb.wa())},this);b.callback();return b};
var tyTl=function(a){chrome.alarms.create("music_source_scan_alarm",{periodInMinutes:120});chrome.alarms.onAlarm.addListener(tyh(function(a){tyI(this.b,"Got an alarm "+a.name);"music_source_scan_alarm"==a.name&&(tyH(this.b,"Starting periodic scan."),this.dispatchEvent("Qa"))},a))};var tyXl=function(){var a=new tyy,b=tyId("EMBED",{width:0,height:0,src:"MusicManager.nmf",type:"application/x-nacl"});tya.document.body.appendChild(b);tyzc(b,"load",function(){a.callback(b)});return a},tyYl=function(){tyl(tyEd(),function(a){"application/x-nacl"==a.type&&a&&a.parentNode&&a.parentNode.removeChild(a)})};var ty9=function(a){tyw.call(this);this.j=a.get(tyZk);this.yh=a.get(tyCj);this.Aa=a.get(ty1k);this.Ba=a.get(ty1g);this.ya=a.get(tyeh);this.o=a.get(tyrf);this.te=0;this.wd=this.vd=!1;this.dc=new tyo;this.Ga=new tyEh;this.Ak=new tyEh;this.le=this.Ti=!1;this.wf=this.Hh=0;this.Fh=new typ;this.b=tys("chromeapp.background.Controller");this.qb=a.get(ty5k);this.$c=!1;this.Df=this.lk=0;this.ap=tyzl(this.j).addCallback(function(a){this.uh=null===a?tyi():a},this);this.Ai=new typ;this.Jc();tyZl(this);this.Ga.dg(0);
this.Ga.ag(0);this.Ga.Je(0);tyU(this.Ga,10,!1)};tyj(ty9,tyw);ty9.prototype.Jc=function(){tyI(this.b,"Background controller started, app version: "+chrome.runtime.getManifest().version);tya.webkitRequestFileSystem(tya.TEMPORARY,1073741824,tyh(this.Gp,this));this.lk=tyi();this.La();this.Ic=ty_l(this,!0);tyz(this.Ic,function(){this.Df=tyi();tyuf(this.o,"Time to load NaCl",this.Df-this.lk);this.vd=!0;this.Di()},function(a){tyF(this.b,"Could not initialize NaCl module.",a)},this)};
var ty_l=function(a,b){var c=new tyy;c.addCallback(a.Ba.xn,a.Ba);c.addCallback(a.Ba.Km,a.Ba);c.addCallback(tyXl);c.addCallback(function(a){this.se=a;return tyB},a);c.addCallback(function(){var a=new tyy,b=tyh(function(c){this.Yj(c);this.se.removeEventListener("message",b,!1);this.se.addEventListener("message",tyh(this.Yj,this),!1);a.callback()},this);this.se.addEventListener("message",b,!1);return a},a);b&&c.callback();return c};ty=ty9.prototype;
ty.La=function(){this.yh.listen("N",this.Ip,!1,this);this.yh.listen("L",this.Pp,!1,this);this.yh.listen("M",this.Op,!1,this);tyv(this.Aa,"Pa",tyh(this.Di,this));tyv(this.Aa,"Qa",tyh(this.Pk,this));this.qb.listen("sa",this.Fp,!1,this);this.qb.listen("ta",this.Gn,!1,this);this.qb.listen("ua",this.En,!1,this);this.qb.listen("va",this.Fn,!1,this);this.j.listen("Ca",this.Zj,!1,this);this.j.listen("xa",this.Zj,!1,this)};
ty.Se=function(){var a=tyv(this,"Ra",tyh(function(b){1==b.Dh?(tyBc(a),this.j.wb("lsAppActivated",!0).addCallback(function(){ty0l(this)},this)):b.Gl||tyBc(a)},this));this.Sf()};ty.Sf=function(){this.$c||(this.$c=!0,ty1l(this));this.xc()};
ty.Ip=function(a){"install"===a.reason?(tyH(this.b,"App freshly installed."),this.j.wb("lsAppActivated",!1),this.j.wb("lsDragAndDropActivated",!1)):"update"===a.reason?(tyH(this.b,"App upgraded, previous version: "+a.Yp),a=new tyy,tyA(a,this.Ic),a.callback()):tyH(this.b,"Chrome upgraded.")};ty.Pp=function(){this.vd&&(tyH(this.b,"App suspended."),ty$(this,{opcode:"command",contents:{command_name:"app_suspended"}}))};
ty.Op=function(){this.vd&&(tyH(this.b,"App suspend canceled."),ty$(this,{opcode:"command",contents:{command_name:"app_suspend_canceled"}}))};
var ty1l=function(a){var b=tyh(function(){tyz(this.ya.getDeviceId(),this.Vj,tyh(this.Vj,this,""),this)},a);ty2l(a).addCallback(function(a){a&&(this.$c=!0,b())},a)},ty2l=function(a){if(a.$c)return tyB(!0);a=[tytl(a.j),tyvl(a.j)];a=tyie(a);a.addCallback(function(a){return a[0]||a[1]});return a},ty4l=function(a,b){a.$c?tyz(a.ya.getAuthToken(!0,b.contents.old_token),function(a){tyH(this.b,"OAuth token retrieved");ty3l(this,a)},function(){tyG(this.b,"Failed to retrieve OAuth token.")},a):tyH(a.b,"Access token not sent: cannot register device.")};
ty9.prototype.Yj=function(a){if(a.data instanceof ArrayBuffer){tyH(this.b,"Posting crashdump.");var b=a.data;this.vd=!1;a=new FormData;a.append("prod","Android_Music");a.append("ver",this.pp);a.append("upload_file_minidump",new Blob([b]));b=new XMLHttpRequest;b.open("POST","https://clients2.google.com/cr/report",!0);b.send(a);tyO(this.o,"NaCl","NaCl crashed");ty5l(this)}else switch(a=a.data,b=a.opcode.toString(),tyI(this.b,"Got message "+JSON.stringify(a,void 0,4)),b){case "peer_started":tyuf(this.o,
"Time from NaCl load to peer started message",tyi()-this.Df);this.wd||ty6l(this);break;case "machine_identifier_request":tyuf(this.o,"Time from NaCl load to machine identifier request",tyi()-this.Df);ty1l(this);tyb(a.contents)&&tyb(a.contents.crash_version)&&(this.pp=a.contents.crash_version);tyb(a.contents)&&tyb(a.contents.readable_version)&&(this.Gh=a.contents.readable_version,tyH(this.b,"Nacl version: "+this.Gh),this.dispatchEvent({type:"Ua",version:this.Gh}));break;case "access_token_refresh_request":ty4l(this,
a);break;case "failed_track_response":ty7l(this,a);break;case "status_event":a=tyza(tyab,a.contents);var b=a("type","periodic"),c=a("upload_failed_track_count",0),d=a("track_added_count",0),e=a("track_count",0),f=a("are_uploads_paused",!1);this.Ga.dg(c);this.Ga.ag(d);this.Ga.Je(e);tyU(this.Ga,8,f);this.Ti=d!=e;if("periodic"==b)ty8l(this);else if("upload_sample"==b||"parse"==b)ty8l(this);else{b=a("filename").toString();c=!1;switch(a("event_state").toString()){case "start":d=new tyXh;d.Id(a("percent",
0));d.eg(100);e=new tyZ;e.Lb(b);e.Ie(a("track_name",""));e.Vk(a("track_album",""));e.Wk(a("track_artist",""));d.$f(e);this.dc.set(b,d);tyH(this.b,"Starting upload: "+b);tyO(this.o,"Uploads","Song Upload Started");break;case "in_progress":a=tyS(this.dc.get(b),2)*a("percent",0)/100;this.dc.get(b).Id(a);break;case "failure":"failure"==a("file_state")?(tyH(this.b,"Track permanently failed: "+b),this.dc.remove(b)):tyH(this.b,"Track failed, will be retried: "+b);break;case "success":this.dc.get(b).Id(100),
c=!0,tyH(this.b,"Completed upload of "+b),tyO(this.o,"Uploads","Song Upload Succeeded")}ty8l(this);c&&this.dc.remove(b)}break;case "login_event":tyb(a.contents)&&tyb(a.contents.result)?(this.fj=tyvi(a.contents.result.toString()),this.Dr=a.contents.will_retry,this.xc()):tyG(this.b,"No contents in NaCl login_event message");break;case "clear_storage_space_response":tyml(this.qb,a.contents.filename,a.contents.requested_space,a.contents.cleared_space);break;case "count_music_file_response":ty9l(this,
a);break;case "blob_url_request":case "blob_url_release":case "status":tyG(this.b,"Received deprecated message: "+b);break;default:tyG(this.b,"Unhandled opcode: "+b)}};
var ty7l=function(a,b){if(tyb(b.contents)){var c=new tyy;tyb(a.Nd)&&tyA(c,a.Nd);c.addCallback(function(){ty$l(this,b.contents)},a);c.callback()}else tyG(a.b,"No contents in NaCl failed_track_response message")},ty$l=function(a,b){a.Nd=new tyy;tyA(a.Nd,a.ap);a.Nd.addCallback(function(){var a=this.uh;this.uh=tyi();var d=[],e=[],f=[];if(b.scan_failures)for(var g=0;g<b.scan_failures.length;g++){var h=b.scan_failures[g],k=new tyZ;tyU(k,9,tyam(h.reason));tyU(k,5,h.filename);tyU(k,8,h.time);d.push(k);h.time>
a&&tyO(this.o,"Uploads","Song Upload Scan Failed",h.reason)}var l=0;if(b.last_upload_failures)for(l+=b.last_upload_failures.length,g=0;g<b.last_upload_failures.length;g++)h=b.last_upload_failures[g],k=new tyZ,tyU(k,9,tyam(h.reason)),tyU(k,5,h.filename),tyU(k,8,h.time),e.push(k),h.time>a&&tyO(this.o,"Uploads","Song Upload Failed",h.reason);if(b.old_upload_failures)for(l+=b.old_upload_failures.length,g=0;g<b.old_upload_failures.length;g++)h=b.old_upload_failures[g],k=new tyZ,tyU(k,9,tyam(h.reason)),
tyU(k,5,h.filename),tyU(k,8,h.time),f.push(k);tyO(this.o,"Uploads","Upload Failure Count",l);this.dispatchEvent({type:"Va",Vo:d,Bp:[],Wo:e,Cp:f,mr:!!b.timed_out})},a);a.Nd.addCallback(function(){return this.j.wb("lsLastTrackFailureLoggingTime",this.uh)},a);a.Nd.callback()};ty9.prototype.Gp=function(){};
ty9.prototype.Vj=function(a){a?tyH(this.b,"Device ID obtained."):tyG(this.b,"Invalid device ID obtained.");var b;b=tyCb?chrome.i18n.getMessage("4479370175321248159"):tyDb?chrome.i18n.getMessage("840664911413405433"):tyEb?chrome.i18n.getMessage("4021376741882293501"):-1!=(tydb||"").indexOf("CrOS")?chrome.i18n.getMessage("6716575470159796252"):navigator.platform;var c=b=chrome.i18n.getMessage("1803865475179910876",[b]),d=chrome.runtime.id;d&&(0===d.lastIndexOf("dhgj",0)?c=b+" (Debug)":0===d.lastIndexOf("cfff",
0)&&(c=b+" (Nightly)"));ty$(this,{opcode:"machine_identifier",contents:{identifier:a,friendly_name:c}})};var ty3l=function(a,b){ty$(a,{opcode:"access_token",contents:{token:b}})},ty6l=function(a){tyH(a.b,"NaCl module is ready to process files");a.wd=!0;a.dispatchEvent("Ta");a.qg(a.Ai.R());a.Ai.clear();var b=[tytl(a.j),tyvl(a.j)];tyie(b).addCallback(function(a){a[0]&&this.Pk()},a);a.Uf()};ty9.prototype.Di=function(){tytl(this.j).addCallback(function(a){a&&ty0l(this)},this)};
var ty0l=function(a){var b={opcode:"update_music_sources_list",contents:{}},c=new tyy;c.addCallback(function(){return tyul(this.j)},a);c.addCallback(function(a){b.contents.automatically_select_new_files=a},a);c.addCallback(function(){return this.Aa.Sj()},a);c.addCallback(function(a){var c=this,d=[],g=[];a.forEach(function(a){d.push({unique_id:a.xi,name:a.name,dom_file_system:a.root.Ka.Ka});g.push(a.root.Ka.getName());c.Fh.add(a.xi)});ty8l(this);a=tyh(function(){tyI(this.b,"Sending media gallery file systems to NaCl: "+
g);b.contents.music_sources=d;this.se.postMessage(b)},this);this.wd?a():this.Jb("Ta",a)},a);c.callback()};ty9.prototype.Pk=function(){tyul(this.j).addCallback(function(a){ty$(this,{opcode:"rescan_music_sources",contents:{automatically_select_new_files:a}})},this)};ty9.prototype.sg=function(){ty$(this,{opcode:"select_unselected",contents:{}})};
var ty9l=function(a,b){tyb(b.contents)&&tyb(b.contents.count_list)&&(tyl(b.contents.count_list,function(a){this.Fh.remove(a.unique_id)},a),ty8l(a),tyUl(a.Aa).addCallback(function(a){tyl(b.contents.count_list,function(b){var c=a.get(b.unique_id);tyU(c,4,b.songs_total);c.el(b.songs_unselected)});var c={type:"Sa",np:a.R()};this.dispatchEvent(c)},a))};ty9.prototype.Fp=function(){this.wd&&ty$(this,{opcode:"drag_and_drop_files_changed",contents:{}});--this.Hh};
var ty$=function(a,b){var c=new tyy;tyA(c,a.Ic);c.addCallback(function(){tyI(this.b,"Sending message to NaCl: "+JSON.stringify(b));this.se.postMessage(b)},a);c.callback()};ty9.prototype.Gn=function(a){this.qj.stop();this.le=!0;this.Hh=a.Ih;ty8l(this)};ty9.prototype.En=function(){this.qj.start()};
var tyZl=function(a){a.qj=new ty0(function(){this.le=!1;this.wf=0;ty8l(this)},1E4,a)},tybm=function(a){var b=a.dc.isEmpty()&&a.Ti,c=0<a.Fh.Ea(),d=c||b||a.le;tyI(a.b,"naclIsScanningFiles: "+c+"\nparsingOrUploadingSample: "+b+"\nisDndInProgress: "+a.le);tyT(a.Ga,10,!1)!=d&&(tyI(a.b,"Indeterminate progress changed: "+d),tyU(a.Ga,10,d))},ty8l=function(a){tybm(a);var b=tyZf(a.Ga);if(a.le){var c=tyS(b,1)+a.Hh;c>a.wf&&(a.wf=c);b.Je(a.wf)}var d={type:"Wa",xr:a.dc.R(),yr:b};tycm(b)?tyz(tyBl(a.j),function(a){a||
this.dispatchEvent(d)},function(){this.dispatchEvent(d)},a):(tyAl(a.j,!1),a.dispatchEvent(d));tyXf(a.Ak,a.Ga)||(tydm(a),a.Ak=tyZf(a.Ga))},ty5l=function(a){if(5<=a.te)tyF(a.b,"NaCl crashed too many times and will not be restarted."),a.dispatchEvent("Xa"),tyO(a.o,"NaCl","Too many NaCL restarts"),tyzd("Exceeded 5 restarts");else{a.te++;tyF(a.b,"NaCl crashed, restarting attempt #"+a.te);tyO(a.o,"NaCl","Attempting NaCL restart","Attempt #"+a.te);a.wd=!1;a.vd=!1;var b=new tyy;tyA(b,a.Ic);a.Ic=ty_l(a,!1);
b.addCallback(function(){tyYl();this.Ic.callback()},a);tyA(b,a.Ic);b.addCallback(function(){this.vd=!0;this.Di();tyF(this.b,"NaCl restart attempt #"+this.te+" completed.")},a);b.callback()}};
ty9.prototype.pause=function(a,b){tyH(this.b,"Uploading is "+(a?"resumed":"paused")+" by user");a?(0!=b&&1!=b||ty$(this,{opcode:"command",contents:{command_name:"resume_all_downloads"}}),0!=b&&2!=b||ty$(this,{opcode:"command",contents:{command_name:"resume_all_uploads"}})):(0!=b&&1!=b||ty$(this,{opcode:"command",contents:{command_name:"pause_all_downloads"}}),0!=b&&2!=b||ty$(this,{opcode:"command",contents:{command_name:"pause_all_uploads"}}))};
ty9.prototype.Uf=function(){ty$(this,{opcode:"command",contents:{command_name:"failed_track_request"}})};
var tyam=function(a){switch(a.toString()){case "identify_error":return ty_.Zl;case "upload_error":return ty_.mm;case "limit_exceeded":return ty_.$l;case "transient_error":return ty_.km;case "no_serverid":return ty_.am;case "transcode_error":return ty_.jm;case "too_large_to_upload":return ty_.im;case "permanent_failure":return ty_.dm;case "optimize_error":return ty_.cm;case "reject_store_track":return ty_.fm;case "reject_store_track_by_label":return ty_.hm;case "reject_drm":return ty_.em;case "file_missing":return ty_.Wl;
case "drm":return ty_.Ol;case "no_music":return ty_.Ql;case "unsupported_type":return ty_.Vl;case "too_large":return ty_.Sl;case "invalid_mp3":return ty_.Pl;case "temporary_file":return ty_.Rl;case "unsupported_flac":return ty_.Ul;case "unsupported_alac":return ty_.Tl;case "couldnt_open_file":return ty_.Nl}return ty_.lm};ty9.prototype.xc=function(){tyb(this.fj)&&this.dispatchEvent({type:"Ra",Dh:this.fj,Gl:this.Dr})};ty9.prototype.Ik=function(a){this.$c?ty3l(this,a):tyH(this.b,"Cannot reauthorize: device registration was not intended.")};
var tydm=function(a){var b=["Current upload state:","Added: "+tyS(a.Ga,2),"Total: "+tyS(a.Ga,1),"Failed: "+a.Ga.eh(),"Other Progress: "+tyT(a.Ga,10,!1)];tyH(a.b,b.join("\n\t"))};ty9.prototype.Fn=function(a){ty$(this,{opcode:"clear_storage_space_request",contents:{filename:a.filename,requested_space:a.wq}})};ty9.prototype.Zj=function(){tyul(this.j).addCallback(function(a){a&&this.sg()},this)};
ty9.prototype.qg=function(a){0!=a.length&&(this.wd?ty$(this,{opcode:"update_uploaded_track_ids",contents:{ids:a}}):this.Ai.addAll(a))};var tycm=function(a){var b=tyS(a,1),c=tyS(a,2),d=a.eh();return c+d==b&&0!=b&&!tyT(a,10,!1)};var tyfm=function(a,b,c){this.qc=a||null;this.Db=!!b;this.vj=c;this.S=new tyo;this.T=new tyem("",void 0);this.T.next=this.T.lb=this.T},tyhm=function(a,b){(b=a.S.get(b))&&a.Db&&(b.remove(),tygm(a,b));return b};ty=tyfm.prototype;ty.get=function(a,b){return(a=tyhm(this,a))?a.value:b};ty.set=function(a,b){var c=tyhm(this,a);c?c.value=b:(c=new tyem(a,b),this.S.set(a,c),tygm(this,c))};ty.shift=function(){return tyim(this,this.T.next)};ty.pop=function(){return tyim(this,this.T.lb)};
ty.remove=function(a){return(a=this.S.get(a))?(this.removeNode(a),!0):!1};ty.removeNode=function(a){a.remove();this.S.remove(a.key)};ty.Ea=function(){return this.S.Ea()};ty.isEmpty=function(){return this.S.isEmpty()};ty.wa=function(){return this.map(function(a,b){return b})};ty.R=function(){return this.map(function(a){return a})};ty.contains=function(a){return this.some(function(b){return b==a})};ty.U=function(a){return this.S.U(a)};ty.clear=function(){tyjm(this,0)};
ty.forEach=function(a,b){for(var c=this.T.next;c!=this.T;c=c.next)a.call(b,c.value,c.key,this)};ty.map=function(a,b){for(var c=[],d=this.T.next;d!=this.T;d=d.next)c.push(a.call(b,d.value,d.key,this));return c};ty.some=function(a,b){for(var c=this.T.next;c!=this.T;c=c.next)if(a.call(b,c.value,c.key,this))return!0;return!1};ty.every=function(a,b){for(var c=this.T.next;c!=this.T;c=c.next)if(!a.call(b,c.value,c.key,this))return!1;return!0};
var tygm=function(a,b){a.Db?(b.next=a.T.next,b.lb=a.T,a.T.next=b,b.next.lb=b):(b.lb=a.T.lb,b.next=a.T,a.T.lb=b,b.lb.next=b);null!=a.qc&&tyjm(a,a.qc)},tyjm=function(a,b){for(;a.Ea()>b;){var c=a.Db?a.T.lb:a.T.next;a.removeNode(c);a.vj&&a.vj(c.key,c.value)}},tyim=function(a,b){a.T!=b&&a.removeNode(b);return b.value},tyem=function(a,b){this.key=a;this.value=b};tyem.prototype.remove=function(){this.lb.next=this.next;this.next.lb=this.lb;delete this.lb;delete this.next};var tylm=function(a){tyw.call(this);this.Aa=a.get(ty1k);this.Ba=a.get(ty1g);this.j=a.get(tyZk);this.rb=new tyo;this.nb=tykm(this);this.La()};tyj(tylm,tyw);ty=tylm.prototype;ty.La=function(){this.j.listen("Ga",this.Fo,!1,this);this.Aa.listen("Pa",this.Go,!1,this)};ty.nj=function(){this.dispatchEvent("Ya")};ty.Fo=function(){var a=new tyy;a.addCallback(this.j.Rj,this.j);a.addCallback(function(a){return this.j.Ge(tyOa(2,a))},this);a.addCallback(this.Gk,this);a.addCallback(this.nj,this);a.callback()};
ty.Go=function(){var a=new tyy;a.addCallback(this.Gk,this);a.addCallback(this.nj,this);a.callback()};ty.tn=function(){var a=new tyy;null===this.nb||tyA(a,this.nb);a.addCallback(function(){var a=[];tyqb(this.rb,function(b,d){a.push({id:d,name:b.name})});return a},this);a.callback();return a};ty.vn=function(a){var b=new tyy;null===this.nb||tyA(b,this.nb);b.addCallback(function(){if(this.rb.U(a))return this.rb.get(a).root},this);b.callback();return b};
var tykm=function(a){var b=new tyy;b.addCallback(a.rb.clear,a.rb);b.addCallback(a.Aa.rn,a.Aa);b.addCallback(tymm);b.addCallback(a.Qi,a);b.addCallback(tyh(a.Aa.Sj,a.Aa,!0));b.addCallback(a.Qi,a);b.addCallback(a.Bq,a);tyvd(b,a.pm,a);b.addCallback(a.Hm,a);b.callback();return b},tymm=function(a){var b=new tyy,c=ty_a(a,function(a){return"iTunes"==a.name});null!==c&&(b.addCallback(function(){return c.root.getDirectory("iTunes Media/Automatically Add to iTunes")}),tyz(b,function(b){c.root=b;return a},function(){tym(a,
c);return a}));b.callback(a);return b};ty=tylm.prototype;ty.Gk=function(){var a=new tyy;null!=this.nb&&tyA(a,this.nb);a.addCallback(function(){return this.nb=tykm(this)},this);a.addCallback(function(){this.nb=null},this);a.callback();return a};ty.Qi=function(a){var b=this;a.forEach(function(a){a={sh:a.xi,name:a.name,type:1,root:a.root};var c=tyOa(a.type,a.sh);b.rb.U(c)||b.rb.set(c,a)})};
ty.pm=function(a){null!=a&&tyb(a.Rk)&&(a={sh:a.Rk,name:a.name,type:2,root:a.entry},this.rb.set(tyOa(a.type,a.sh),a));return!0};ty.Bq=function(){var a=new tyy;a.addCallback(this.j.Rj,this.j);a.addCallback(function(b){if(tyb(b))return b;a.cancel(!1)});a.addCallback(this.Ba.Cq,this.Ba);a.callback();return a};ty.Hm=function(){var a=new tyy;a.addCallback(this.j.rd,this.j);a.addCallback(function(a){if(tyb(a)&&!this.rb.U(a))return tywl(this.j,!1),this.j.Ge(null)},this);a.callback();return a};
ty.rd=function(){var a=new tyy;null===this.nb||tyA(a,this.nb);a.addCallback(this.j.rd,this.j);a.addCallback(function(b){if(null===b)if(this.rb.isEmpty())a.g(Error("Fail to get default download location"));else return this.rb.wa()[0];else return b},this);a.callback();return a};ty.qn=function(){var a=new tyy;a.addCallback(this.rd,this);a.addCallback(this.vn,this);a.callback();return a};var tynm=function(a,b,c){tyw.call(this);this.wc=b;this.rr=this.wc.getId();this.Nb=a.get(tydh);this.Ba=a.get(ty1g);this.Gb=a.get(tyXk);this.o=a.get(tyrf);this.zq=c;this.kd=this.Vf=this.ni=this.mi=0;this.v=new tyE(this);tygc(this,this.v);this.df=2E3;this.b=tys("chromeapp.background.TrackDownloader");this.Cc=null;this.qh()};tyj(tynm,tyw);ty=tynm.prototype;
ty.start=function(){var a=new tyy;a.addCallback(this.Ba.Pj,this.Ba);a.addCallback(this.Uq,this);a.addCallback(this.Gb.qn,this.Gb);a.addCallback(this.$m,this);tyud(a,function(a){return a instanceof tyom?a:typm(this,31)},this);a.addCallback(this.Mo,this);a.callback();return a};ty.Mo=function(){var a=tyff(tygf(this.zq),"songid",this.rr);this.Fa=new XMLHttpRequest;this.Fa.responseType="blob";this.Fa.open("GET",a.toString());tyz(tyQi(this.Nb,this.Fa,this.Wm),this.Fe,tyza(this.Ee,22),this)};
ty.Fe=function(a){this.Wm=a;this.v.listen(this.Fa,"progress",this.Hn);this.v.listen(this.Fa,"load",this.yo);this.v.listen(this.Fa,"loadstart",this.Jn);this.v.listen(this.Fa,"timeout",tyh(this.Ee,this,27));this.v.listen(this.Fa,"error",tyh(this.Ee,this,28));this.Fa.send()};ty.Hn=function(a){this.xd.start();a=a.lf;a.lengthComputable&&(this.ni=a.total,this.mi=a.loaded);this.dispatchEvent("$a")};
ty.Jn=function(){this.xd.start();this.Cc=this.o.ig("Downloads","Song Download Elapsed");this.kd=1;this.dispatchEvent("Za");tyO(this.o,"Downloads","Song Download Started","Current retry count",this.Vf)};var tyqm=function(a){var b=new tyJh;b.$f(a.wc);b.Id(a.mi);b.eg(a.ni);tyU(b,4,a.kd);tyU(b,5,a.Vf);return b};
tynm.prototype.yo=function(){this.xd.stop();var a=tyrm(this);tyb(a)?this.Ee(a):(this.mi=this.ni=this.Fa.response.size,tyz(tysm(this),function(){tyO(this.o,"Downloads","Song Download Succeeded");tyH(this.b,"Download file saved: "+this.zj);this.kd=2;this.dispatchEvent("ab");null!=this.Cc&&(tyvf(this.o,this.Cc),this.Cc=null)},function(a){tyG(this.b,"Failed to write download track: "+a);switch(a.name){case "SecurityError":typm(this,30);break;case "QuotaExceededError":typm(this,29);break;default:typm(this,
31)}},this))};tynm.prototype.Im=function(){this.zj=tyOa(this.wc.Ij()," - ",this.wc.getName(),".mp3").replace(/[\/\\<>:?*"|%`]/g,"_")};var tysm=function(a){var b=new tyy;b.addCallback(a.Im,a);b.addCallback(a.Tm,a);b.addCallback(a.Um,a);b.addCallback(a.zn,a);b.addCallback(a.Fr,a);b.addCallback(a.ri.Cf,a.ri);b.addCallback(function(a){var b=[];tyl(a,function(a){a.isFile()&&b.push(a.getName())});a=this.ti.getName();return tyag(b,a)},a);b.addCallback(a.Pm,a);b.addCallback(a.mq,a);b.callback();return b};
ty=tynm.prototype;ty.Tm=function(){var a=tyOa("download_",tyPa());return this.ir.getDirectory(a,2).addCallback(function(a){this.Fk=a},this)};ty.Um=function(){return this.Fk.getFile(this.zj,2)};ty.zn=function(a){this.ti=a;return this.ti.createWriter()};ty.Fr=function(a){var b=new tyy;a.Jb("writeend",function(){var c=a.getError();null!=c?b.g(c):b.callback()});a.write(this.Fa.response);return b};ty.Pm=function(a){return this.ti.copyTo(this.ri,a)};ty.mq=function(){return this.Fk.removeRecursively()};
ty.$m=function(a){this.ri=a};ty.Uq=function(a){this.ir=a};
ty.Ee=function(a){this.xd.stop();if(Infinity<=this.Vf)return this.ai.stop(),typm(this,a);if(this.ai.yf())tyH(this.b,"Already waiting for retry.");else{tyU(this.wc,9,a);this.kd=5;this.dispatchEvent("bb");tyO(this.o,"Downloads","Song Download Failed",tyS(this.wc,9).toString());var b=2*this.df,b=tyti(b,30);this.df=Math.min(b,18E5);tyH(this.b,"Download will retry in "+(this.df/1E3).toFixed()+" seconds. TrackFailureReason was "+tyS(this.wc,9));this.ai.start(this.df);return new tyom(a)}};
ty.qh=function(){this.ai=new ty0(function(){this.Vf++;this.Cc=null;this.start()},void 0,this);this.xd=new ty0(function(){this.Ee(32)},6E4,this)};
var typm=function(a,b){a.xd.stop();a.Cc=null;tyO(a.o,"Downloads","Song Download Failed",b.toString());tyH(a.b,"Download failed, TrackFailureReason: "+b);tyU(a.wc,9,b);a.kd=3;a.dispatchEvent("db");return new tyom(b)},tyrm=function(a){var b;if(401==a.Fa.status)b=22;else if(403==a.Fa.status)b=23;else if(400<=a.Fa.status&&500>a.Fa.status)b=24;else if(500<=a.Fa.status)b=25;else{var c=a.Fa.getResponseHeader("content-type")||"",c=String(c).toLowerCase();0==("audio/mpeg">c?-1:"audio/mpeg"==c?0:1)||(b=26)}tyb(b)?
tyG(a.b,"HTTP failure, status code: "+a.Fa.status):tyI(a.b,"HTTP response seems OK.");return b};tynm.prototype.cancel=function(){this.Cc=null;this.xd.stop();this.v.removeAll();this.Fa.abort();this.kd=4;this.dispatchEvent("cb")};var tyom=function(a){this.name=a.toString()};tyj(tyom,Error);var tytm=function(a){this.H=a};tytm.prototype.ep=function(a,b){return new tynm(this.H,a,b)};var tyum=function(a,b){tyw.call(this);this.qr=b;this.Ed=new tyfm;this.Ob=new tyo;a=this.$e=new tyfm;a.qc=10;null!=a.qc&&tyjm(a,a.qc);this.Kf=0;this.wj=new tyo;this.Jh=0;this.qh()};tyj(tyum,tyw);tyum.prototype.qh=function(){this.yl=new ty0(function(){Infinity<=this.Jh||(this.Jh=0)},6E4,this)};tyum.prototype.In=function(){this.Jh++;this.yl.yf()||this.yl.start()};
tyum.prototype.Cn=function(a){a=tyqm(a.target);var b=a.getInfo().getId(),c=this.Ob.get(b);this.Ob.remove(b);tyfc(c);this.$e.set(b,a);this.Kf++;this.dispatchEvent("eb");tyvm(this)};var tyvm=function(a){a.Ob.isEmpty()&&(a.$e.clear(),a.Kf=0);for(;5>a.Ob.Ea()&&!a.Ed.isEmpty();){var b=a,c=a.Ed.shift(),d=b.qr.ep(c.Va,c.yq);tyv(d,["Za","$a"],tyh(b.dispatchEvent,b,"eb"));tyv(d,"ab",tyh(b.Cn,b));tyv(d,"bb",tyh(b.In,b));tyv(d,"db",tyh(b.Pn,b));b.Ob.set(c.Va.getId(),d);d.start()}};
tyum.prototype.$g=function(){var a=new tykh,b=this.wj.Ea(),c=this.Ed.Ea()+this.Ob.Ea()+this.Kf;a.Je(c);a.ag(this.Kf);a.dg(b);return a};var tyxm=function(a){for(var b=a.$e.R(),c=[],d=a.Ed.wa(),e=0;e<d.length&&200>e;e++)c.push(tywm(a.Ed.get(d[e]).Va));a=tyrb(a.Ob.R(),function(a){return tyqm(a)},a);return ty3a(a,c,b)},tywm=function(a){var b=new tyJh;b.$f(a);b.Id(0);b.eg(0);tyU(b,4,0);return b};
tyum.prototype.Pn=function(a){a=tyqm(a.target);var b=a.getInfo().getId(),c=this.Ob.get(b);this.Ob.remove(b);tyfc(c);this.wj.set(b,a);this.dispatchEvent("eb");tyvm(this)};var tyym=function(a){tyw.call(this);this.ff=a.get(tyWk);this.La()};tyj(tyym,tyw);tyym.prototype.La=function(){this.ff.listen("eb",tyh(this.oj,this))};tyym.prototype.oj=function(){var a=new ty0h,b=this.ff.$g();tyX(a,1,b);a.Yf(tyxm(this.ff));tyU(a,7,!0);tyU(a,8,!1);tyU(a,9,!1);this.dispatchEvent({type:"fb",request:a})};
tyym.prototype.download=function(a,b,c){var d=this;if(!tyzm(a||c,b))return!1;var e="",e=c?tyhf(c).toString():ty6e(new tyK(a),"music/export").toString();b.forEach(function(a){var b=d.ff,c=e,f=a.getId();b.Ed.set(f,{Va:a,yq:c});tyvm(b)});this.oj();return!0};var tyzm=function(a,b){if(null==a||0==b.length)return!1;for(a=0;a<b.length;a++)if(null==b[a].getId())return!1;return!0};var tyAm=function(a){tyWj.call(this,a)};tyj(tyAm,tyWj);tyAm.prototype.Xe=function(a,b,c,d,e){var f=new tynh;f.$k(a);tyb(b)&&tyU(f,2,b);tyb(c)&&f.setVolume(c);tyb(d)&&f.setTime(d);tyb(e)&&f.il(e);this.sendMessage(108,f)};tyAm.prototype.ng=function(a){var b=new tysi;tyX(b,1,a);this.sendMessage(15,b)};tyAm.prototype.og=function(a,b){var c=new tyoi;tyX(c,1,a);c.ii(b);this.sendMessage(209,c)};var tyBm=function(a){tyt.call(this);this.uc=a.get(ty6k);this.Yg=new tyo;a.get(ty8k);this.v=new tyE(this);tygc(this,this.v);this.v.listen(this.uc,"ra",this.ro)};tyj(tyBm,tyt);var tyCm=function(a,b,c){a.Yg.set(c,b)};tyBm.prototype.ro=function(a){this.Yg.remove(a.hr)};var tyDm=function(a){tyw.call(this);this.ya=a.get(tyeh);this.$a=a.get(ty4k);this.o=a.get(tyrf);this.kk=!1;this.uk=tyh(this.Dp,this);this.Fg();tyv(this.ya,["z","A","B"],this.Fg,!1,this);tyv(this.$a,["hb","ib"],this.Fg,!1,this)};tyj(tyDm,tyw);tyDm.prototype.Fg=function(){var a=0<this.ya.Uc.length,a=null!==this.$a.Kb||a;try{this.kk!=a&&(a?chrome.commands.onCommand.addListener(this.uk):chrome.commands.onCommand.removeListener(this.uk),this.kk=a)}catch(b){}};
tyDm.prototype.Dp=function(a){var b,c;switch(a){case "next-track":b=2;c=5;break;case "previous-track":b=3;c=4;break;case "play-pause":b=1;break;case "stop":b=10}b&&(tyO(this.o,"Media Key Pressed",b.toString(),c?c.toString():void 0),this.dispatchEvent({type:"jb",Mm:b,Rp:c}))};var tyEm=function(a){tyw.call(this);this.H=a};tyj(tyEm,tyw);tyEm.prototype.fg=function(){return this.H.get(ty4k).fg()};var tyFm=function(a){this.de=a.get(ty7k)};var tyGm=function(a){tyt.call(this);this.de=a.get(ty7k);this.uc=a.get(ty6k);this.ub=a.get(ty8k);this.Gi=a.get(ty3g);this.v=new tyE(this);tygc(this,this.v);this.Ah()};tyj(tyGm,tyt);tyGm.prototype.Ah=function(){this.v.listen(this.Gi,"ea",this.Qp)};var tyIm=function(a,b,c,d){tyNk().then(function(){tyOk(ty6.getInstance(),{playback:a,general:b});d.forEach(function(a){a!=c&&tyHm(a)})})},tyHm=function(a){var b=ty6.getInstance().Ha,c=b.playback,b=b.general,d=new tyUh;d.Ke(c);d.He(b);a.sendMessage(319,d)};
tyGm.prototype.Qp=function(){var a=ty4,b=ty4h();this.ub.rg(a,b)};var tyKm=function(a){tyXj.call(this);this.va=a.get(tyUk);this.sj=a.get(tyVk);this.Aa=a.get(ty1k);this.Gb=a.get(tyXk);this.gp=a.get(ty_k);this.ip=a.get(ty0k);this.j=a.get(tyZk);this.$a=a.get(ty4k);this.qb=a.get(ty5k);this.Ag=a.get(tyqf);this.b=tys("chromeapp.background.BackgroundServer");this.ya=a.get(tyeh);this.o=a.get(tyrf);this.kq=a.get(tyal);this.Vp=a.get(ty$k);this.uc=a.get(ty6k);this.de=a.get(ty7k);this.bp=a.get(tyTj);this.ub=a.get(ty8k);tyYj(this,this.ub);this.Gi=a.get(ty3g);this.Od=new tyo;
this.hp=new typ(tyJm);this.v=new tyE(this);tygc(this,this.v);this.La()};tyj(tyKm,tyXj);var tyJm=[21,111,206,207,301,302,305,306,307,308];ty=tyKm.prototype;
ty.jh=function(a){if(tyb(a)){var b=this.qb.Hb;tySg(b,a,!0);tySg(b,a,!1);if(a.ma()!=this.ub.ma()&&(b=this.uc,tym(b.Re,a),b.dispatchEvent(new tyel(a.ma())),a==b.Zb&&(b.Zb=null,b.Jd=null),null===b.Zb))if(0==b.Re.length)b.dispatchEvent("qa");else{var c=b.Re;b.Zb=c[c.length-1];b.Jd=null}b=this.ya;a=a.ma();(tym(b.Uc,a)||tym(b.Pe,a))&&b.dispatchEvent("B");tyLm(this)}this.$a.oi=this.Ne;this.$a.Me()};
ty.La=function(){tya.chrome.runtime.onConnectExternal.addListener(tyh(this.Jo,this));this.v.listen(this.Aa,"Pa",tyh(this.Yh,this,!1));this.v.listen(this.Aa,"Oa",tyh(this.Ci,this));this.v.listen(this.va,"Wa",this.Eo);this.v.listen(this.va,"Ra",this.Un);this.v.listen(this.va,"Va",this.xo);this.v.listen(this.va,"Sa",this.Yn);this.v.listen(this.j,"Ca",this.vo);this.v.listen(this.sj,"fb",this.Kn);this.v.listen(this.Gb,"Ya",this.Tf);this.v.listen(this.j,"wa",this.$h);this.v.listen(this.j,"xa",this.Bn);
this.v.listen(this.gp,"jb",this.co)};ty.Jo=function(a){tyH(this.b,"Got connection");var b=new ty4j(a,"bg");a=new ty7(b,tyh(this.ek,this));tyYj(this,a);b=new tyAm(b);tyCm(this.de,b,a.ma());a=this.Gi.ad;a.stop();a.rj()};
ty.Pi=function(a){this.Mc(a,26,this.oq);this.Mc(a,28,this.Do);this.Mc(a,209,tyh(this.Co,this,a));(new tyo(7,this.Ln,3,this.bo,6,this.Uf,4,this.cr,25,this.sg,9,this.io,10,this.Lk,13,this.Ok,11,this.Se,12,this.Mn,14,this.br,21,this.Io,22,this.Sf,23,this.cq,24,this.Ei,208,this.ho,201,this.oo,204,this.fo,205,this.Nn,317,this.ao,16,this.ko,17,this.lo,19,this.$h,20,this.Zq,18,this.Tf,15,this.Bo,206,this.ping,107,this.Zh,309,this.Me,308,this.hq,303,this.no,306,this.tq,312,this.vq,304,this.nq,108,this.eo,
302,this.Nk,318,this.sq,30,this.Xn,31,this.wr,211,this.Ho,33,this.zo)).forEach(function(b,c){this.Mc(a,c,tyh(b,this,a))},this)};ty.fq=function(a,b,c,d){this.ek(b,c.ma())&&a(d)};ty.Mc=function(a,b,c){c=tyh(this.fq,this,tyh(c,this),b,a);tyKm.Qa.Mc.call(this,a,b,c)};ty.ek=function(a,b){return this.ub.ma()==b||ty1a(this.ya.Uc,b)||this.hp.contains(a)?!0:!1};ty.Ln=function(a,b){a=b.message;this.download(a.getCommand(),a.fe(),tyS(a,3)||"",tyS(a,4)||"")};
ty.bo=function(a,b){a=b.message;this.pause(tyT(a,5,!1),tyS(a,2),a.fe(),tySf(a,tyXh,4))};ty.io=function(a,b){a=!1;b=b.message;tyb(b)&&(a=b.Kj());a||ty$(this.va,{opcode:"count_music_file_request",contents:{}});this.Yh(a)};ty.Mn=function(a,b){a=tyT(b.message,1,!0);tyMm(this,a)};ty.Io=function(a,b){b=b.message;this.Ii(b.ie(),tyS(b,4),a)};ty.ho=function(a,b){this.Xh(b.message.Lj())};ty.oo=function(a,b){b=b.message;tyll(this.qb,b.ab(),tyT(b,2,0),tyT(b,3,1),a);this.j.wb("lsDragAndDropActivated",!0)};
ty.fo=function(a,b){b=b.message;tyNg(this.qb.Hb,b.ab(),tyS(b,2),tyS(b,3),b.sf(),a)};ty.Nn=function(a,b){tyQg(this.qb.Hb,b.message.ab())};ty.ao=function(a,b){tyMg(this.qb.Hb,b.message.ab())};ty.ko=function(a,b){a=b.message.getId();a=tyb(a)?a:null;tyNm(this,a)};ty.lo=function(a,b){a=tyT(b.message,1,!0);tywl(this.j,a)};ty.Bo=function(a,b){b=b.message.getPlayerState();this.ng(b,a)};ty.no=function(a,b){a=b.message.getId();this.j.wb("lsUserSelectedDownloadDirId",a)};
ty.eo=function(a,b){a=b.message;this.Xe(a.getCommand(),tyS(a,2),a.getVolume(),a.getTime(),a.Nj())};ty.oq=function(){this.Ag.Ym(tyWi).addCallback(this.pq,this)};ty.pq=function(){var a=new tyhh;tyU(a,3,1);var b=1;tyKi(8467)&&(b=2);tyU(a,6,b);b=chrome.runtime.getManifest().version.split(".").map(Number);tyU(a,5,b||[]);b=[tytl(this.j),tysl(this.j)];tyie(b).addCallback(function(b){tyU(a,1,b[0]);tyU(a,2,b[1]);this.forEach(function(b){b.sendMessage(112,a);var c=this.uc;b==c.Jd&&(c.Zb=b,c.Jd=null)})},this)};
ty.download=function(a,b,c,d){this.sj.download(c,b,d)};ty.pause=function(a,b){this.va.pause(a,b)};ty.cr=function(){this.Aa.ki();tyO(this.o,"Background","Folder picker launched","From web");null!==this.$a.Kb&&tyO(this.o,"Background","Folder picker launched","Attached to Mini Player")};ty.sg=function(){this.va.sg()};ty.Uf=function(){this.va.Uf()};ty.Yh=function(a){(a?this.Aa.ee(!0,!0):tyUl(this.Aa)).addCallback(function(b){this.forEach(function(c){tyPk(c,b.R(),a)})},this)};
ty.Ei=function(){this.Aa.Ei().addCallback(this.Se,this)};ty.Xh=function(a){this.Aa.Xh(a)};ty.Yn=function(a){this.forEach(function(b){tyPk(b,a.np,!1)})};ty.Eo=function(a){this.forEach(function(b){tyQk(b,a.xr,a.yr,[],null,null)})};ty.Un=function(a){this.forEach(function(b){tyQk(b,[],null,[],null,a.Dh)})};ty.Kn=function(a){this.forEach(function(b){var c=a.request,d=c.fe(),c=c.$g();tyQk(b,[],null,d,c,null)})};
ty.xo=function(a){this.forEach(function(b){var c=a.mr,d=a.Vo,e=a.Bp,f=a.Wo,g=a.Cp,h=new tyWh;null!==c&&tyU(h,1,c);tyY(h,2,d);tyY(h,3,e);tyY(h,4,f);tyY(h,5,g);b.sendMessage(102,h)})};ty.vo=function(a){this.forEach(function(b){var c=a.value,d=new tyyh;d.setEnabled(c);b.sendMessage(105,d)})};ty.Bn=function(a){this.forEach(function(b){tyRk(b,a.value)})};ty.co=function(a){this.Xe(a.Mm,void 0,void 0,void 0,a.Rp)};
ty.Xe=function(a,b,c,d,e){var f;f=this.Vp.de;var g=f.uc.Zb;(f=null===g?null:f.Yg.get(g.ma(),null))&&f.Xe(a,b,c,d,e)};ty.Lk=function(){tytl(this.j).addCallback(function(a){this.forEach(function(b){tyRk(b,a)})},this)};ty.Ok=function(){tysl(this.j).addCallback(function(a){this.forEach(function(b){var c=new tyyh;c.setEnabled(a);b.sendMessage(105,c)})},this)};
ty.Se=function(){tyH(this.b,"activateApp requested.");tytl(this.j).addCallback(function(a){a?tyI(this.b,"activateApp: already active."):(tyH(this.b,"activateApp: activating."),this.va.Se(),this.forEach(function(a){tyRk(a,!0)}))},this)};var tyMm=function(a,b){tyvd(tygl(b),tyh(function(){tyrl(this.j,b)},a))},tyNm=function(a,b){var c=new tyy;c.addCallback(function(){this.j.Ge(b)},a);c.addCallback(a.Tf,a);c.callback()};ty=tyKm.prototype;
ty.$h=function(){tyxl(this.j).addCallback(function(a){this.forEach(function(b){var c=!!a,d=new tyCh;d.setEnabled(c);b.sendMessage(110,d)})},this)};ty.Zq=function(){tyOm(this.$a)};
ty.Tf=function(){var a,b,c=new tyy;c.addCallback(this.Gb.tn,this.Gb);c.addCallback(function(a){b=a});c.addCallback(this.Gb.rd,this.Gb);tyz(c,function(b){return a=b},function(){return!0});c.addCallback(function(){this.forEach(function(c){var d=tyWa(b,function(a){var b=new tyjh;b.Ie(a.name);b.Lb(a.id);return b});tySk(c,d,a)})},this);c.callback()};ty.ng=function(a,b){var c=this.uc;c.th&&b!=c.Zb?b=!1:(c.Zb=b,c.Jd=null,tydl(c),b=!0);b&&this.kq.ub.ng(tyZf(a))};
ty.zo=function(a,b){a=b.message;this.Bi(a.getState(),tyS(a,2),a.Jj())};ty.Bi=function(a,b,c){this.ub.Bi(a,b,c)};ty.br=function(){this.ip.fg().addCallback(function(){tyO(this.o,"Mini Player","Mini player launched","From web PlayerBar")},this)};ty.Ii=function(a,b,c){if(null!=a||null!=b){var d=c.ma();if(!this.Od.U(d)){var e=new ty0(function(){tyPm(this,c,!1);this.Od.remove(d)},4E3,this);this.Od.set(d,e);e.start();this.ya.getAuthToken(!0).addCallback(tyh(this.Dl,this,c,a,b,250))}}else tyPm(this,c,!1)};
ty.Dl=function(a,b,c,d){tyH(this.b,"Verify user.");var e=a.ma();tyz(this.ya.Ii(b,c,e),function(b){b?(this.va.xc(),a==this.ub?(b=new tyAm(this.bp),tyCm(this.de,b,a.ma())):tycl(this.uc,a),tyPm(this,a,!0),tyO(this.o,"Background","User verification succeeded")):this.ya.fh().addCallback(function(b){tyPm(this,a,!1,b);tyO(this.o,"Background","User verification: user email address fetch succeeded")},this);tyLm(this)},function(e){15E3>d?(tyD(tyh(this.Dl,this,a,b,c,2*d),d,this),tyO(this.o,"Background","User verification failed temporarily",
e)):(tyPm(this,a,!1),tyO(this.o,"Background","User verification failed permanently",e))},this)};var tyPm=function(a,b,c,d){var e=b.ma();a.Od.U(e)&&(a.Od.get(e).stop(),a.Od.remove(e));a=null!==a.$a.Kb;e=new tyDh;tyU(e,1,c);tyb(d)&&tyU(e,2,d);tyb(a)&&tyU(e,3,a);b.sendMessage(111,e)};ty=tyKm.prototype;ty.Sf=function(){this.va.Sf()};ty.cq=function(){this.ya.getAuthToken(!0).addCallback(this.va.Ik,this.va)};ty.ping=function(a){a.sendMessage(207)};ty.Me=function(){this.$a.Me()};
ty.hq=function(){this.ya.getAuthToken(!0).addCallback(function(a){this.va.Ik(a);tyLm(this)},this)};ty.tq=function(){this.va.xc()};ty.vq=function(){var a=ty4,b=ty4h();this.ub.rg(a,b)};ty.sq=function(){tyNk().then(tyh(function(){tyHm(this.ub)},this))};ty.Nk=function(){var a=this.va.Gh;this.forEach(function(b){var c=new tyxh;c.setVersion(a);b.sendMessage(302,c)})};ty.nq=function(){tyLm(this)};
var tyLm=function(a){a.$a.Me();a.forEach(tyh(function(a){var b=0<this.ya.Uc.length,d=0<this.ya.Pe.length,e=this.ya.Hj(),f=new tyuh;tyU(f,1,b);tyU(f,2,d);tyU(f,3,e);a.sendMessage(305,f)},a))};ty=tyKm.prototype;ty.Zh=function(){this.forEach(function(a){a.Zh()})};ty.xc=function(a,b){this.forEach(function(c){c.xc(a,b)})};ty.Ci=function(){this.Aa.ee(!1).addCallback(function(a){this.forEach(function(b){tyPk(b,a.R(),!0)})},this)};ty.Do=function(a){this.qg(tyS(a.message,1))};ty.qg=function(a){this.va.qg(a)};
ty.Xn=function(a,b){var c=b.message;b=tyV(c,tyIh,1);c=tyV(c,tyHh,2);tyIm(b,c,a,this.Ne)};ty.wr=function(){var a=this.va;tycm(a.Ga)?tyAl(a.j,!0):tyB()};ty.Co=function(a,b){b=b.message;this.og(tyV(b,tyni,1),b.Qj(),a)};ty.og=function(a,b){null!==this.$a.Kb&&ty4.Vb()&&this.ub.og(a,b)};ty.Ho=function(a,b){b=b.message;a=b.Vb();b=b.Ub();var c=!1;null!=a?c=!!a!=!!ty4.Vb():null!=b&&(c=b!=ty4.Ub());c&&chrome.runtime.reload()};var tyQm=function(a){tyt.call(this);this.$a=a.get(ty4k);this.va=a.get(tyUk);this.Aa=a.get(ty1k);this.j=a.get(tyZk);this.Qc=a.get(ty3k);this.Gb=a.get(tyXk);this.o=a.get(tyrf);this.v=new tyE(this);tygc(this,this.v);this.La()};tyj(tyQm,tyt);ty=tyQm.prototype;
ty.La=function(){this.v.listen(this.Gb,"Ya",this.Fq);this.v.listen(this.j,"Ca",this.Jq);this.v.listen(this.j,"wa",this.Kq);this.v.listen(this.j,"xa",this.Eq);this.v.listen(this.va,"Ua",this.Iq);this.v.listen(this.Aa,"Pa",this.Hq);this.v.listen(this.va,"Ra",this.Gq);var a=tyh(this.$q,this);chrome.app.runtime.onLaunched.addListener(a)};ty.Hq=function(){this.Qc.Yh(!1)};ty.Iq=function(){this.Qc.Nk()};ty.Jq=function(){this.Qc.Ok()};ty.Eq=function(){this.Qc.Lk()};ty.Kq=function(){this.Qc.$h()};ty.Fq=function(){this.Qc.Tf()};
ty.Gq=function(a){this.Qc.xc(a.Dh,a.Gl)};ty.$q=function(a){a=a.source||"Unknown";this.$a.fg();tyO(this.o,"Mini Player","Mini player launched",a)};var tySm=function(a){this.nc=[];var b=ty0b(),c=tyh(this.Wj,this);b&&(b.hb||(b.hb=[]),b.hb.push(c));tyRm(this);this.Ba=a.get(ty1g);this.Gf=null;this.Il=!1;this.re=[];this.No=this.Jc()},tyRm=function(a){var b=ty0b();tyD(function(){b.hb&&1<b.hb.length?(b.hb=[],b.hb.push(tyh(this.Wj,this))):tyRm(this)},20,a)};
tySm.prototype.Jc=function(){var a=new tyy;a.addCallback(this.Ba.Mj,this.Ba);a.addCallback(this.lq,this);a.addCallback(this.Ba.Mj,this.Ba);a.addCallback(this.Sm,this);a.addCallback(this.Qm,this);a.addCallback(this.dj,this);a.addCallback(this.dl,this);a.callback();this.nc.push("\n\n-------session starts-------\n\n");return a};
tySm.prototype.lq=function(a){var b=new tyy;b.addCallback(function(){return a.getDirectory("MusicChromeAppLogs",1)},this);tyz(b,function(a){return a.removeRecursively()},function(){return tyB()},this);b.callback();return b};tySm.prototype.Sm=function(a){var b=new tyy;b.addCallback(function(){return a.getDirectory("MusicChromeAppLogs",2)},this);b.addCallback(function(a){this.Hf=a;return tyB()},this);b.callback();return b};tySm.prototype.Qm=function(){this.Dj=tyTm();return this.Hf.getFile(this.Dj,3)};
var tyTm=function(){var a=new Date;return tyOa("MusicChromeApp","-",a.getFullYear(),"-",a.getUTCMonth()+1,"-",a.getUTCDate(),"T",a.getUTCHours(),"-",a.getUTCMinutes(),"-",a.getUTCSeconds(),"-",a.getUTCMilliseconds(),".log")};ty=tySm.prototype;ty.dj=function(a){return a.createWriter()};ty.dl=function(a){this.Gf=a};ty.Wj=function(a){this.nc.push(tyUm(a));this.Fj()};
ty.Er=function(a){var b=new tyy;this.Gf.Jb("writeend",function(){var a=this.Gf.getError();null!=a?b.g(a):b.callback()},!1,this);this.Gf.write(a);return b};
ty.Fj=function(){if(0==this.nc.length||this.Il)return tyB();var a=new tyy;a.addCallback(tyh(this.nl,this,!0));tyA(a,this.No);a.addCallback(this.pn,this);a.addCallback(this.Rm,this);a.addCallback(function(){var a=tykg(this.nc.join(""));ty2a(this.nc);return a},this);a.addCallback(this.Er,this);a.addCallback(tyh(this.nl,this,!1));a.addCallback(this.Fj,this);a.callback();return a};ty.nl=function(a){this.Il=a};ty.pn=function(){var a=this.re.length;return this.Hf.getFile(0==a?this.Dj:this.re[a-1],1)};
ty.Rm=function(a){var b=new tyy;b.addCallback(function(){return a.getMetadata()},this);b.addCallback(function(a){return 2097152<=a.size?(a=tyTm(),this.re.push(a),10==this.re.length&&tyVm(this),this.Hf.getFile(a,3).addCallback(this.dj,this).addCallback(this.dl,this)):tyB()},this);b.callback();return b};
var tyVm=function(a){a.Hf.getFile(a.re.shift(),1).addCallback(function(a){a.remove()})},tyUm=function(a){var b=new Date(a.ui),c="";a.$d&&(c=c+"\n"+a.$d.message);return tyOa("[",b.getUTCMonth()+1,"-",b.getUTCDate()," ",b.getUTCHours(),":",b.getUTCMinutes(),":",b.getUTCSeconds(),".",b.getUTCMilliseconds(),"] ",a.getLevel(),": ",a.getMessage(),c,"\n")};var tyWm=function(a){this.jc=a.get(tyFi);this.Nb=a.get(tydh);this.La()};tyWm.prototype.La=function(){tyzc(this.jc,"C",this.Oo,!0,this);tyv(this.jc,"D",this.vr,!0,this)};tyWm.prototype.Oo=function(){var a=tyJk.getInstance();a.initialize(ty5h()||"",tyij(),tyKi(8583),ty4.Ub(),null,null,function(){chrome.runtime.onSuspend.addListener(function(){a.flush()})},void 0,this.Nb);a.setPlayerType(11);a.Xk(tyhl());a.setEnabled(tyKi(8327))};
tyWm.prototype.vr=function(a){a.fn.forEach(function(a){return tyXm(a,!0)});a.gn.forEach(function(a){return tyXm(a,!1)})};var tyXm=function(a,b){var c=tyJk.getInstance();switch(a){case 8327:c.setEnabled(b)}};var tyYm=new tyCd(550,375),tyZm=new tyCd(296,296);var ty_m=function(a){tyw.call(this);this.jc=a.get(tyFi);this.oi=[];this.Kb=this.kj=this.ol=null};tyj(ty_m,tyw);var ty0m={id:"ob",bounds:{height:tyYm.height,left:tya.screen.availWidth-tyYm.width,top:tya.screen.availHeight-tyYm.height,width:tyYm.width},frame:"chrome",resizable:!1,singleton:!0},ty1m={id:"pb",innerBounds:{left:tya.screen.availWidth-tyZm.width-100,top:tya.screen.availHeight-tyZm.height-100,minWidth:tyZm.width,minHeight:tyZm.height},frame:{type:"chrome"},resizable:!1,singleton:!0};
ty_m.prototype.dk=function(a,b){var c=new tyy;chrome.app.window.create(a,b,function(a){c.callback(a)});return c};var tyOm=function(a){var b=new tyy;b.addCallback(tyh(a.dk,a,"dirchooser.html",ty0m));b.addCallback(function(a){this.kj=a;this.kj.show()},a);b.callback()};
ty_m.prototype.fg=function(){var a=new tyy;a.addCallback(tyh(this.dk,this,"miniplayer.html",ty1m));a.addCallback(function(a){this.Kb=a;this.Kb.show();this.Kb.onClosed.addListener(tyh(this.jp,this));this.dispatchEvent({type:"ib",contentWindow:a.contentWindow})},this);this.jc.zg?a.callback():this.jc.listen("C",function(){a.callback()});return a};ty_m.prototype.Me=function(){this.ol&&(this.ol.contentWindow.chromeappStubList=this.oi);this.Kb&&(this.Kb.contentWindow.chromeappStubList=this.oi)};
ty_m.prototype.jp=function(){this.Kb=null;this.dispatchEvent("hb")};var ty2m=function(){var a=new ty3i,a=this.H=tya.APPCONTEXT=a,b=new tytf;ty2(a,tyrf,b);this.o=b};
ty2m.prototype.start=function(){tyO(this.o,"Background","Started");tyfj(this.H).addCallback(function(){var a=this.H,b=new tyXg(tyVg,1073741824);ty2(a,tyTg,b);a=this.H;b=new tyXg(tyWg,536870912);ty2(a,tyUg,b);a=this.H;ty3(a,ty1g)||ty2(a,ty1g,new ty4g(a));a.get(ty1g);a=this.H;ty3(a,tyYk)||ty2(a,tyYk,new tySm(a));a.get(tyYk);a=this.H;b=chrome.storage.local;ty3(a,tyZk)||ty2(a,tyZk,new tyol(a,b));a.get(tyZk);a=this.H;b=new tyDj;ty2(a,tyCj,b);b.listen("N",tyh(this.Hp,this));a=this.H;b=new tyQj(a);ty2(a,
tyqf,b);tyYi(b);a=this.H;b=new tyue;ty2(a,ty2g,b);a.get(ty2g);a=this.H;ty3(a,tyeh)||ty2(a,tyeh,new tyMi);a.get(tyeh);a=this.H;ty3(a,tydh)||ty2(a,tydh,new tyOi(a));a=a.get(tydh);b=new tyIi;ty4&&tyHi(b,tyS(ty4,52));ty2(ty9i(),tyFi,b);tyjj=b;tyJj.getInstance().Nb=a;a=this.H;ty3(a,ty3g)||ty2(a,ty3g,new tySj(a,!0));a.get(ty3g);ty6.getInstance();a=this.H;ty3(a,ty4k)||ty2(a,ty4k,new ty_m(a));a.get(ty4k);a=this.H;ty3(a,ty5k)||ty2(a,ty5k,new tyjl(a));a.get(ty5k);a=this.H;b=new tyOl(tyJk.getInstance(),this.H);
ty3(a,ty2k)||ty2(a,ty2k,b);a.get(ty2k);a=this.H;ty3(a,ty1k)||ty2(a,ty1k,new ty8(a));a.get(ty1k);a=this.H;ty3(a,tybh)||ty2(a,tybh,new tych(a));a.get(tybh);a=this.H;ty3(a,tyXk)||ty2(a,tyXk,new tylm(a));a.get(tyXk);ty2(this.H,tyUk,new ty9(this.H));a=this.H;ty3(a,ty_k)||ty2(a,ty_k,new tyDm(a));a.get(ty_k);ty2(this.H,ty0k,new tyEm(this.H));a=this.H;b=new tytm(this.H);ty3(a,tyWk)||ty2(a,tyWk,new tyum(0,b));a.get(tyWk);a=this.H;ty3(a,tyVk)||ty2(a,tyVk,new tyym(a));a.get(tyVk);a=new ty5j("bg");ty2(this.H,
tyTj,a);ty2(this.H,ty8k,new ty7(a));a=this.H;b=new tybl;ty2(a,ty6k,b);a=this.H;ty3(a,ty7k)||ty2(a,ty7k,new tyBm(a));a.get(ty7k);a=this.H;b=new tyGm(a);ty2(a,tyal,b);a=this.H;b=new tyFm(a);ty2(a,ty$k,b);ty2(this.H,ty3k,new tyKm(this.H));a=this.H;ty3(a,tyTk)||ty2(a,tyTk,new tyQm(a));a.get(tyTk);a=this.H;ty3(a,ty9k)||ty2(a,ty9k,new tyWm(a));a.get(ty9k)},this)};ty2m.prototype.Hp=function(a){"install"==a.reason&&tyql(this.H.get(tyZk));tyO(this.o,"Background","chrome.runtime.onInstalled",a.reason)};tyv(tya,"load",function(){(new ty2m).start()});
